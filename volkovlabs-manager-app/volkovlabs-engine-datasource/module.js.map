{"version":3,"file":"volkovlabs-engine-datasource/module.js","mappings":"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","sources":["webpack:///../node_modules/void-elements/index.js","webpack:///external amd \"@grafana/data\"","webpack:///external amd \"@grafana/runtime\"","webpack:///external amd \"@grafana/ui\"","webpack:///external amd \"lodash\"","webpack:///external amd \"react\"","webpack:///external amd \"rxjs\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///../node_modules/i18next/dist/esm/i18next.js","webpack:///../node_modules/html-parse-stringify/dist/html-parse-stringify.module.js","webpack:///../node_modules/react-i18next/dist/es/utils.js","webpack:///../node_modules/react-i18next/dist/es/unescape.js","webpack:///../node_modules/react-i18next/dist/es/defaults.js","webpack:///../node_modules/react-i18next/dist/es/i18nInstance.js","webpack:///../node_modules/react-i18next/dist/es/initReactI18next.js","webpack:///../node_modules/react-i18next/dist/es/context.js","webpack:///../node_modules/react-i18next/dist/es/useTranslation.js","webpack:///./types.ts","webpack:///./constants/app.ts","webpack:///./i18n/translations/index.ts","webpack:///./i18n/config.ts","webpack:///./utils/i18n.ts","webpack:///./volkovlabs-engine-datasource/types/actions.ts","webpack:///./volkovlabs-engine-datasource/types/alert-conditions.ts","webpack:///./volkovlabs-engine-datasource/types/alerts.ts","webpack:///./volkovlabs-engine-datasource/types/datasource.ts","webpack:///./volkovlabs-engine-datasource/types/grafana.ts","webpack:///./volkovlabs-engine-datasource/constants/query.ts","webpack:///./volkovlabs-engine-datasource/constants/tests.ts","webpack:///./volkovlabs-engine-datasource/utils/messages.ts","webpack:///./volkovlabs-engine-datasource/utils/notifications.ts","webpack:///./volkovlabs-engine-datasource/api/base.ts","webpack:///./volkovlabs-engine-datasource/api/actions.ts","webpack:///./volkovlabs-engine-datasource/api/alerts.ts","webpack:///./volkovlabs-engine-datasource/api/grafana.ts","webpack:///./volkovlabs-engine-datasource/api/license.ts","webpack:///./volkovlabs-engine-datasource/api/api.ts","webpack:///./volkovlabs-engine-datasource/datasource/datasource.ts","webpack:///./volkovlabs-engine-datasource/module.ts","webpack:///./volkovlabs-engine-datasource/components/ConfigEditor/ConfigEditor.tsx","webpack:///./volkovlabs-engine-datasource/components/QueryEditor/QueryEditor.tsx"],"sourcesContent":["/**\n * This file automatically generated from `pre-publish.js`.\n * Do not manually edit.\n */\n\nmodule.exports = {\n  \"area\": true,\n  \"base\": true,\n  \"br\": true,\n  \"col\": true,\n  \"embed\": true,\n  \"hr\": true,\n  \"img\": true,\n  \"input\": true,\n  \"link\": true,\n  \"meta\": true,\n  \"param\": true,\n  \"source\": true,\n  \"track\": true,\n  \"wbr\": true\n};\n","module.exports = __WEBPACK_EXTERNAL_MODULE__781__;","module.exports = __WEBPACK_EXTERNAL_MODULE__531__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","module.exports = __WEBPACK_EXTERNAL_MODULE__241__;","module.exports = __WEBPACK_EXTERNAL_MODULE__959__;","module.exports = __WEBPACK_EXTERNAL_MODULE__269__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const consoleLogger = {\n  type: 'logger',\n  log(args) {\n    this.output('log', args);\n  },\n  warn(args) {\n    this.output('warn', args);\n  },\n  error(args) {\n    this.output('error', args);\n  },\n  output(type, args) {\n    if (console && console[type]) console[type].apply(console, args);\n  }\n};\nclass Logger {\n  constructor(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.init(concreteLogger, options);\n  }\n  init(concreteLogger) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.prefix = options.prefix || 'i18next:';\n    this.logger = concreteLogger || consoleLogger;\n    this.options = options;\n    this.debug = options.debug;\n  }\n  log() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return this.forward(args, 'log', '', true);\n  }\n  warn() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return this.forward(args, 'warn', '', true);\n  }\n  error() {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    return this.forward(args, 'error', '');\n  }\n  deprecate() {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n  }\n  forward(args, lvl, prefix, debugOnly) {\n    if (debugOnly && !this.debug) return null;\n    if (typeof args[0] === 'string') args[0] = `${prefix}${this.prefix} ${args[0]}`;\n    return this.logger[lvl](args);\n  }\n  create(moduleName) {\n    return new Logger(this.logger, {\n      ...{\n        prefix: `${this.prefix}:${moduleName}:`\n      },\n      ...this.options\n    });\n  }\n  clone(options) {\n    options = options || this.options;\n    options.prefix = options.prefix || this.prefix;\n    return new Logger(this.logger, options);\n  }\n}\nvar baseLogger = new Logger();\n\nclass EventEmitter {\n  constructor() {\n    this.observers = {};\n  }\n  on(events, listener) {\n    events.split(' ').forEach(event => {\n      if (!this.observers[event]) this.observers[event] = new Map();\n      const numListeners = this.observers[event].get(listener) || 0;\n      this.observers[event].set(listener, numListeners + 1);\n    });\n    return this;\n  }\n  off(event, listener) {\n    if (!this.observers[event]) return;\n    if (!listener) {\n      delete this.observers[event];\n      return;\n    }\n    this.observers[event].delete(listener);\n  }\n  emit(event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    if (this.observers[event]) {\n      const cloned = Array.from(this.observers[event].entries());\n      cloned.forEach(_ref => {\n        let [observer, numTimesAdded] = _ref;\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer(...args);\n        }\n      });\n    }\n    if (this.observers['*']) {\n      const cloned = Array.from(this.observers['*'].entries());\n      cloned.forEach(_ref2 => {\n        let [observer, numTimesAdded] = _ref2;\n        for (let i = 0; i < numTimesAdded; i++) {\n          observer.apply(observer, [event, ...args]);\n        }\n      });\n    }\n  }\n}\n\nconst defer = () => {\n  let res;\n  let rej;\n  const promise = new Promise((resolve, reject) => {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n};\nconst makeString = object => {\n  if (object == null) return '';\n  return '' + object;\n};\nconst copy = (a, s, t) => {\n  a.forEach(m => {\n    if (s[m]) t[m] = s[m];\n  });\n};\nconst lastOfPathSeparatorRegExp = /###/g;\nconst cleanKey = key => key && key.indexOf('###') > -1 ? key.replace(lastOfPathSeparatorRegExp, '.') : key;\nconst canNotTraverseDeeper = object => !object || typeof object === 'string';\nconst getLastOfPath = (object, path, Empty) => {\n  const stack = typeof path !== 'string' ? path : path.split('.');\n  let stackIndex = 0;\n  while (stackIndex < stack.length - 1) {\n    if (canNotTraverseDeeper(object)) return {};\n    const key = cleanKey(stack[stackIndex]);\n    if (!object[key] && Empty) object[key] = new Empty();\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n    ++stackIndex;\n  }\n  if (canNotTraverseDeeper(object)) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack[stackIndex])\n  };\n};\nconst setPath = (object, path, newValue) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  if (obj !== undefined || path.length === 1) {\n    obj[k] = newValue;\n    return;\n  }\n  let e = path[path.length - 1];\n  let p = path.slice(0, path.length - 1);\n  let last = getLastOfPath(object, p, Object);\n  while (last.obj === undefined && p.length) {\n    e = `${p[p.length - 1]}.${e}`;\n    p = p.slice(0, p.length - 1);\n    last = getLastOfPath(object, p, Object);\n    if (last && last.obj && typeof last.obj[`${last.k}.${e}`] !== 'undefined') {\n      last.obj = undefined;\n    }\n  }\n  last.obj[`${last.k}.${e}`] = newValue;\n};\nconst pushPath = (object, path, newValue, concat) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path, Object);\n  obj[k] = obj[k] || [];\n  obj[k].push(newValue);\n};\nconst getPath = (object, path) => {\n  const {\n    obj,\n    k\n  } = getLastOfPath(object, path);\n  if (!obj) return undefined;\n  return obj[k];\n};\nconst getPathWithDefaults = (data, defaultData, key) => {\n  const value = getPath(data, key);\n  if (value !== undefined) {\n    return value;\n  }\n  return getPath(defaultData, key);\n};\nconst deepExtend = (target, source, overwrite) => {\n  for (const prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n  return target;\n};\nconst regexEscape = str => str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nconst escape = data => {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, s => _entityMap[s]);\n  }\n  return data;\n};\nclass RegExpCache {\n  constructor(capacity) {\n    this.capacity = capacity;\n    this.regExpMap = new Map();\n    this.regExpQueue = [];\n  }\n  getRegExp(pattern) {\n    const regExpFromCache = this.regExpMap.get(pattern);\n    if (regExpFromCache !== undefined) {\n      return regExpFromCache;\n    }\n    const regExpNew = new RegExp(pattern);\n    if (this.regExpQueue.length === this.capacity) {\n      this.regExpMap.delete(this.regExpQueue.shift());\n    }\n    this.regExpMap.set(pattern, regExpNew);\n    this.regExpQueue.push(pattern);\n    return regExpNew;\n  }\n}\nconst chars = [' ', ',', '?', '!', ';'];\nconst looksLikeObjectPathRegExpCache = new RegExpCache(20);\nconst looksLikeObjectPath = (key, nsSeparator, keySeparator) => {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  const possibleChars = chars.filter(c => nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0);\n  if (possibleChars.length === 0) return true;\n  const r = looksLikeObjectPathRegExpCache.getRegExp(`(${possibleChars.map(c => c === '?' ? '\\\\?' : c).join('|')})`);\n  let matched = !r.test(key);\n  if (!matched) {\n    const ki = key.indexOf(keySeparator);\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n  return matched;\n};\nconst deepFind = function (obj, path) {\n  let keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';\n  if (!obj) return undefined;\n  if (obj[path]) return obj[path];\n  const tokens = path.split(keySeparator);\n  let current = obj;\n  for (let i = 0; i < tokens.length;) {\n    if (!current || typeof current !== 'object') {\n      return undefined;\n    }\n    let next;\n    let nextPath = '';\n    for (let j = i; j < tokens.length; ++j) {\n      if (j !== i) {\n        nextPath += keySeparator;\n      }\n      nextPath += tokens[j];\n      next = current[nextPath];\n      if (next !== undefined) {\n        if (['string', 'number', 'boolean'].indexOf(typeof next) > -1 && j < tokens.length - 1) {\n          continue;\n        }\n        i += j - i + 1;\n        break;\n      }\n    }\n    current = next;\n  }\n  return current;\n};\nconst getCleanedCode = code => {\n  if (code && code.indexOf('_') > 0) return code.replace('_', '-');\n  return code;\n};\n\nclass ResourceStore extends EventEmitter {\n  constructor(data) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n    super();\n    this.data = data || {};\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    if (this.options.ignoreJSONStructure === undefined) {\n      this.options.ignoreJSONStructure = true;\n    }\n  }\n  addNamespaces(ns) {\n    if (this.options.ns.indexOf(ns) < 0) {\n      this.options.ns.push(ns);\n    }\n  }\n  removeNamespaces(ns) {\n    const index = this.options.ns.indexOf(ns);\n    if (index > -1) {\n      this.options.ns.splice(index, 1);\n    }\n  }\n  getResource(lng, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n    let path;\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n    } else {\n      path = [lng, ns];\n      if (key) {\n        if (Array.isArray(key)) {\n          path.push(...key);\n        } else if (typeof key === 'string' && keySeparator) {\n          path.push(...key.split(keySeparator));\n        } else {\n          path.push(key);\n        }\n      }\n    }\n    const result = getPath(this.data, path);\n    if (!result && !ns && !key && lng.indexOf('.') > -1) {\n      lng = path[0];\n      ns = path[1];\n      key = path.slice(2).join('.');\n    }\n    if (result || !ignoreJSONStructure || typeof key !== 'string') return result;\n    return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);\n  }\n  addResource(lng, ns, key, value) {\n    let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n      silent: false\n    };\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let path = [lng, ns];\n    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      value = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    setPath(this.data, path, value);\n    if (!options.silent) this.emit('added', lng, ns, key, value);\n  }\n  addResources(lng, ns, resources) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n      silent: false\n    };\n    for (const m in resources) {\n      if (typeof resources[m] === 'string' || Array.isArray(resources[m])) this.addResource(lng, ns, m, resources[m], {\n        silent: true\n      });\n    }\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  addResourceBundle(lng, ns, resources, deep, overwrite) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n      silent: false,\n      skipCopy: false\n    };\n    let path = [lng, ns];\n    if (lng.indexOf('.') > -1) {\n      path = lng.split('.');\n      deep = resources;\n      resources = ns;\n      ns = path[1];\n    }\n    this.addNamespaces(ns);\n    let pack = getPath(this.data, path) || {};\n    if (!options.skipCopy) resources = JSON.parse(JSON.stringify(resources));\n    if (deep) {\n      deepExtend(pack, resources, overwrite);\n    } else {\n      pack = {\n        ...pack,\n        ...resources\n      };\n    }\n    setPath(this.data, path, pack);\n    if (!options.silent) this.emit('added', lng, ns, resources);\n  }\n  removeResourceBundle(lng, ns) {\n    if (this.hasResourceBundle(lng, ns)) {\n      delete this.data[lng][ns];\n    }\n    this.removeNamespaces(ns);\n    this.emit('removed', lng, ns);\n  }\n  hasResourceBundle(lng, ns) {\n    return this.getResource(lng, ns) !== undefined;\n  }\n  getResourceBundle(lng, ns) {\n    if (!ns) ns = this.options.defaultNS;\n    if (this.options.compatibilityAPI === 'v1') return {\n      ...{},\n      ...this.getResource(lng, ns)\n    };\n    return this.getResource(lng, ns);\n  }\n  getDataByLanguage(lng) {\n    return this.data[lng];\n  }\n  hasLanguageSomeTranslations(lng) {\n    const data = this.getDataByLanguage(lng);\n    const n = data && Object.keys(data) || [];\n    return !!n.find(v => data[v] && Object.keys(data[v]).length > 0);\n  }\n  toJSON() {\n    return this.data;\n  }\n}\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle(processors, value, key, options, translator) {\n    processors.forEach(processor => {\n      if (this.processors[processor]) value = this.processors[processor].process(value, key, options, translator);\n    });\n    return value;\n  }\n};\n\nconst checkedLoadedFor = {};\nclass Translator extends EventEmitter {\n  constructor(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    super();\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, this);\n    this.options = options;\n    if (this.options.keySeparator === undefined) {\n      this.options.keySeparator = '.';\n    }\n    this.logger = baseLogger.create('translator');\n  }\n  changeLanguage(lng) {\n    if (lng) this.language = lng;\n  }\n  exists(key) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    if (key === undefined || key === null) {\n      return false;\n    }\n    const resolved = this.resolve(key, options);\n    return resolved && resolved.res !== undefined;\n  }\n  extractFromKey(key, options) {\n    let nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n    if (nsSeparator === undefined) nsSeparator = ':';\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    let namespaces = options.ns || this.options.defaultNS || [];\n    const wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n    const seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);\n    if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n      const m = key.match(this.interpolator.nestingRegexp);\n      if (m && m.length > 0) {\n        return {\n          key,\n          namespaces\n        };\n      }\n      const parts = key.split(nsSeparator);\n      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n      key = parts.join(keySeparator);\n    }\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n    return {\n      key,\n      namespaces\n    };\n  }\n  translate(keys, options, lastKey) {\n    if (typeof options !== 'object' && this.options.overloadTranslationOptionHandler) {\n      options = this.options.overloadTranslationOptionHandler(arguments);\n    }\n    if (typeof options === 'object') options = {\n      ...options\n    };\n    if (!options) options = {};\n    if (keys === undefined || keys === null) return '';\n    if (!Array.isArray(keys)) keys = [String(keys)];\n    const returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;\n    const keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n    const {\n      key,\n      namespaces\n    } = this.extractFromKey(keys[keys.length - 1], options);\n    const namespace = namespaces[namespaces.length - 1];\n    const lng = options.lng || this.language;\n    const appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n    if (lng && lng.toLowerCase() === 'cimode') {\n      if (appendNamespaceToCIMode) {\n        const nsSeparator = options.nsSeparator || this.options.nsSeparator;\n        if (returnDetails) {\n          return {\n            res: `${namespace}${nsSeparator}${key}`,\n            usedKey: key,\n            exactUsedKey: key,\n            usedLng: lng,\n            usedNS: namespace,\n            usedParams: this.getUsedParamsDetails(options)\n          };\n        }\n        return `${namespace}${nsSeparator}${key}`;\n      }\n      if (returnDetails) {\n        return {\n          res: key,\n          usedKey: key,\n          exactUsedKey: key,\n          usedLng: lng,\n          usedNS: namespace,\n          usedParams: this.getUsedParamsDetails(options)\n        };\n      }\n      return key;\n    }\n    const resolved = this.resolve(keys, options);\n    let res = resolved && resolved.res;\n    const resUsedKey = resolved && resolved.usedKey || key;\n    const resExactUsedKey = resolved && resolved.exactUsedKey || key;\n    const resType = Object.prototype.toString.apply(res);\n    const noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n    const joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n    const handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n    const handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n    if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && Array.isArray(res))) {\n      if (!options.returnObjects && !this.options.returnObjects) {\n        if (!this.options.returnedObjectHandler) {\n          this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n        }\n        const r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, {\n          ...options,\n          ns: namespaces\n        }) : `key '${key} (${this.language})' returned an object instead of string.`;\n        if (returnDetails) {\n          resolved.res = r;\n          resolved.usedParams = this.getUsedParamsDetails(options);\n          return resolved;\n        }\n        return r;\n      }\n      if (keySeparator) {\n        const resTypeIsArray = Array.isArray(res);\n        const copy = resTypeIsArray ? [] : {};\n        const newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n        for (const m in res) {\n          if (Object.prototype.hasOwnProperty.call(res, m)) {\n            const deepKey = `${newKeyToUse}${keySeparator}${m}`;\n            copy[m] = this.translate(deepKey, {\n              ...options,\n              ...{\n                joinArrays: false,\n                ns: namespaces\n              }\n            });\n            if (copy[m] === deepKey) copy[m] = res[m];\n          }\n        }\n        res = copy;\n      }\n    } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && Array.isArray(res)) {\n      res = res.join(joinArrays);\n      if (res) res = this.extendTranslation(res, keys, options, lastKey);\n    } else {\n      let usedDefault = false;\n      let usedKey = false;\n      const needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      const hasDefaultValue = Translator.hasDefaultValue(options);\n      const defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';\n      const defaultValueSuffixOrdinalFallback = options.ordinal && needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, {\n        ordinal: false\n      }) : '';\n      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();\n      const defaultValue = needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] || options[`defaultValue${defaultValueSuffix}`] || options[`defaultValue${defaultValueSuffixOrdinalFallback}`] || options.defaultValue;\n      if (!this.isValidLookup(res) && hasDefaultValue) {\n        usedDefault = true;\n        res = defaultValue;\n      }\n      if (!this.isValidLookup(res)) {\n        usedKey = true;\n        res = key;\n      }\n      const missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n      const resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n      const updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n      if (usedKey || usedDefault || updateMissing) {\n        this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n        if (keySeparator) {\n          const fk = this.resolve(key, {\n            ...options,\n            keySeparator: false\n          });\n          if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n        }\n        let lngs = [];\n        const fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n          for (let i = 0; i < fallbackLngs.length; i++) {\n            lngs.push(fallbackLngs[i]);\n          }\n        } else if (this.options.saveMissingTo === 'all') {\n          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n        } else {\n          lngs.push(options.lng || this.language);\n        }\n        const send = (l, k, specificDefaultValue) => {\n          const defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n          if (this.options.missingKeyHandler) {\n            this.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);\n          } else if (this.backendConnector && this.backendConnector.saveMissing) {\n            this.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);\n          }\n          this.emit('missingKey', l, namespace, k, res);\n        };\n        if (this.options.saveMissing) {\n          if (this.options.saveMissingPlurals && needsPluralHandling) {\n            lngs.forEach(language => {\n              const suffixes = this.pluralResolver.getSuffixes(language, options);\n              if (needsZeroSuffixLookup && options[`defaultValue${this.options.pluralSeparator}zero`] && suffixes.indexOf(`${this.options.pluralSeparator}zero`) < 0) {\n                suffixes.push(`${this.options.pluralSeparator}zero`);\n              }\n              suffixes.forEach(suffix => {\n                send([language], key + suffix, options[`defaultValue${suffix}`] || defaultValue);\n              });\n            });\n          } else {\n            send(lngs, key, defaultValue);\n          }\n        }\n      }\n      res = this.extendTranslation(res, keys, options, resolved, lastKey);\n      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = `${namespace}:${key}`;\n      if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n        if (this.options.compatibilityAPI !== 'v1') {\n          res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? `${namespace}:${key}` : key, usedDefault ? res : undefined);\n        } else {\n          res = this.options.parseMissingKeyHandler(res);\n        }\n      }\n    }\n    if (returnDetails) {\n      resolved.res = res;\n      resolved.usedParams = this.getUsedParamsDetails(options);\n      return resolved;\n    }\n    return res;\n  }\n  extendTranslation(res, key, options, resolved, lastKey) {\n    var _this = this;\n    if (this.i18nFormat && this.i18nFormat.parse) {\n      res = this.i18nFormat.parse(res, {\n        ...this.options.interpolation.defaultVariables,\n        ...options\n      }, options.lng || this.language || resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n        resolved\n      });\n    } else if (!options.skipInterpolation) {\n      if (options.interpolation) this.interpolator.init({\n        ...options,\n        ...{\n          interpolation: {\n            ...this.options.interpolation,\n            ...options.interpolation\n          }\n        }\n      });\n      const skipOnVariables = typeof res === 'string' && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n      let nestBef;\n      if (skipOnVariables) {\n        const nb = res.match(this.interpolator.nestingRegexp);\n        nestBef = nb && nb.length;\n      }\n      let data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n      if (this.options.interpolation.defaultVariables) data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n      res = this.interpolator.interpolate(res, data, options.lng || this.language || resolved.usedLng, options);\n      if (skipOnVariables) {\n        const na = res.match(this.interpolator.nestingRegexp);\n        const nestAft = na && na.length;\n        if (nestBef < nestAft) options.nest = false;\n      }\n      if (!options.lng && this.options.compatibilityAPI !== 'v1' && resolved && resolved.res) options.lng = this.language || resolved.usedLng;\n      if (options.nest !== false) res = this.interpolator.nest(res, function () {\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        if (lastKey && lastKey[0] === args[0] && !options.context) {\n          _this.logger.warn(`It seems you are nesting recursively key: ${args[0]} in key: ${key[0]}`);\n          return null;\n        }\n        return _this.translate(...args, key);\n      }, options);\n      if (options.interpolation) this.interpolator.reset();\n    }\n    const postProcess = options.postProcess || this.options.postProcess;\n    const postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n    if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n      res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? {\n        i18nResolved: {\n          ...resolved,\n          usedParams: this.getUsedParamsDetails(options)\n        },\n        ...options\n      } : options, this);\n    }\n    return res;\n  }\n  resolve(keys) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let found;\n    let usedKey;\n    let exactUsedKey;\n    let usedLng;\n    let usedNS;\n    if (typeof keys === 'string') keys = [keys];\n    keys.forEach(k => {\n      if (this.isValidLookup(found)) return;\n      const extracted = this.extractFromKey(k, options);\n      const key = extracted.key;\n      usedKey = key;\n      let namespaces = extracted.namespaces;\n      if (this.options.fallbackNS) namespaces = namespaces.concat(this.options.fallbackNS);\n      const needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n      const needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && this.pluralResolver.shouldUseIntlApi();\n      const needsContextHandling = options.context !== undefined && (typeof options.context === 'string' || typeof options.context === 'number') && options.context !== '';\n      const codes = options.lngs ? options.lngs : this.languageUtils.toResolveHierarchy(options.lng || this.language, options.fallbackLng);\n      namespaces.forEach(ns => {\n        if (this.isValidLookup(found)) return;\n        usedNS = ns;\n        if (!checkedLoadedFor[`${codes[0]}-${ns}`] && this.utils && this.utils.hasLoadedNamespace && !this.utils.hasLoadedNamespace(usedNS)) {\n          checkedLoadedFor[`${codes[0]}-${ns}`] = true;\n          this.logger.warn(`key \"${usedKey}\" for languages \"${codes.join(', ')}\" won't get resolved as namespace \"${usedNS}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        }\n        codes.forEach(code => {\n          if (this.isValidLookup(found)) return;\n          usedLng = code;\n          const finalKeys = [key];\n          if (this.i18nFormat && this.i18nFormat.addLookupKeys) {\n            this.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n          } else {\n            let pluralSuffix;\n            if (needsPluralHandling) pluralSuffix = this.pluralResolver.getSuffix(code, options.count, options);\n            const zeroSuffix = `${this.options.pluralSeparator}zero`;\n            const ordinalPrefix = `${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;\n            if (needsPluralHandling) {\n              finalKeys.push(key + pluralSuffix);\n              if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                finalKeys.push(key + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n              }\n              if (needsZeroSuffixLookup) {\n                finalKeys.push(key + zeroSuffix);\n              }\n            }\n            if (needsContextHandling) {\n              const contextKey = `${key}${this.options.contextSeparator}${options.context}`;\n              finalKeys.push(contextKey);\n              if (needsPluralHandling) {\n                finalKeys.push(contextKey + pluralSuffix);\n                if (options.ordinal && pluralSuffix.indexOf(ordinalPrefix) === 0) {\n                  finalKeys.push(contextKey + pluralSuffix.replace(ordinalPrefix, this.options.pluralSeparator));\n                }\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(contextKey + zeroSuffix);\n                }\n              }\n            }\n          }\n          let possibleKey;\n          while (possibleKey = finalKeys.pop()) {\n            if (!this.isValidLookup(found)) {\n              exactUsedKey = possibleKey;\n              found = this.getResource(code, ns, possibleKey, options);\n            }\n          }\n        });\n      });\n    });\n    return {\n      res: found,\n      usedKey,\n      exactUsedKey,\n      usedLng,\n      usedNS\n    };\n  }\n  isValidLookup(res) {\n    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n  }\n  getResource(code, ns, key) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n    return this.resourceStore.getResource(code, ns, key, options);\n  }\n  getUsedParamsDetails() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const optionsKeys = ['defaultValue', 'ordinal', 'context', 'replace', 'lng', 'lngs', 'fallbackLng', 'ns', 'keySeparator', 'nsSeparator', 'returnObjects', 'returnDetails', 'joinArrays', 'postProcess', 'interpolation'];\n    const useOptionsReplaceForData = options.replace && typeof options.replace !== 'string';\n    let data = useOptionsReplaceForData ? options.replace : options;\n    if (useOptionsReplaceForData && typeof options.count !== 'undefined') {\n      data.count = options.count;\n    }\n    if (this.options.interpolation.defaultVariables) {\n      data = {\n        ...this.options.interpolation.defaultVariables,\n        ...data\n      };\n    }\n    if (!useOptionsReplaceForData) {\n      data = {\n        ...data\n      };\n      for (const key of optionsKeys) {\n        delete data[key];\n      }\n    }\n    return data;\n  }\n  static hasDefaultValue(options) {\n    const prefix = 'defaultValue';\n    for (const option in options) {\n      if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n        return true;\n      }\n    }\n    return false;\n  }\n}\n\nconst capitalize = string => string.charAt(0).toUpperCase() + string.slice(1);\nclass LanguageUtil {\n  constructor(options) {\n    this.options = options;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n  getScriptPartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return null;\n    const p = code.split('-');\n    if (p.length === 2) return null;\n    p.pop();\n    if (p[p.length - 1].toLowerCase() === 'x') return null;\n    return this.formatLanguageCode(p.join('-'));\n  }\n  getLanguagePartFromCode(code) {\n    code = getCleanedCode(code);\n    if (!code || code.indexOf('-') < 0) return code;\n    const p = code.split('-');\n    return this.formatLanguageCode(p[0]);\n  }\n  formatLanguageCode(code) {\n    if (typeof code === 'string' && code.indexOf('-') > -1) {\n      const specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n      let p = code.split('-');\n      if (this.options.lowerCaseLng) {\n        p = p.map(part => part.toLowerCase());\n      } else if (p.length === 2) {\n        p[0] = p[0].toLowerCase();\n        p[1] = p[1].toUpperCase();\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n      } else if (p.length === 3) {\n        p[0] = p[0].toLowerCase();\n        if (p[1].length === 2) p[1] = p[1].toUpperCase();\n        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n      }\n      return p.join('-');\n    }\n    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n  }\n  isSupportedCode(code) {\n    if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n      code = this.getLanguagePartFromCode(code);\n    }\n    return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n  }\n  getBestMatchFromCodes(codes) {\n    if (!codes) return null;\n    let found;\n    codes.forEach(code => {\n      if (found) return;\n      const cleanedLng = this.formatLanguageCode(code);\n      if (!this.options.supportedLngs || this.isSupportedCode(cleanedLng)) found = cleanedLng;\n    });\n    if (!found && this.options.supportedLngs) {\n      codes.forEach(code => {\n        if (found) return;\n        const lngOnly = this.getLanguagePartFromCode(code);\n        if (this.isSupportedCode(lngOnly)) return found = lngOnly;\n        found = this.options.supportedLngs.find(supportedLng => {\n          if (supportedLng === lngOnly) return supportedLng;\n          if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;\n          if (supportedLng.indexOf('-') > 0 && lngOnly.indexOf('-') < 0 && supportedLng.substring(0, supportedLng.indexOf('-')) === lngOnly) return supportedLng;\n          if (supportedLng.indexOf(lngOnly) === 0 && lngOnly.length > 1) return supportedLng;\n        });\n      });\n    }\n    if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n    return found;\n  }\n  getFallbackCodes(fallbacks, code) {\n    if (!fallbacks) return [];\n    if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n    if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n    if (Array.isArray(fallbacks)) return fallbacks;\n    if (!code) return fallbacks.default || [];\n    let found = fallbacks[code];\n    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n    if (!found) found = fallbacks[this.formatLanguageCode(code)];\n    if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n    if (!found) found = fallbacks.default;\n    return found || [];\n  }\n  toResolveHierarchy(code, fallbackCode) {\n    const fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n    const codes = [];\n    const addCode = c => {\n      if (!c) return;\n      if (this.isSupportedCode(c)) {\n        codes.push(c);\n      } else {\n        this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`);\n      }\n    };\n    if (typeof code === 'string' && (code.indexOf('-') > -1 || code.indexOf('_') > -1)) {\n      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n    } else if (typeof code === 'string') {\n      addCode(this.formatLanguageCode(code));\n    }\n    fallbackCodes.forEach(fc => {\n      if (codes.indexOf(fc) < 0) addCode(this.formatLanguageCode(fc));\n    });\n    return codes;\n  }\n}\n\nlet sets = [{\n  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],\n  nr: [1, 2],\n  fc: 1\n}, {\n  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n  nr: [1, 2],\n  fc: 2\n}, {\n  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n  nr: [1],\n  fc: 3\n}, {\n  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n  nr: [1, 2, 5],\n  fc: 4\n}, {\n  lngs: ['ar'],\n  nr: [0, 1, 2, 3, 11, 100],\n  fc: 5\n}, {\n  lngs: ['cs', 'sk'],\n  nr: [1, 2, 5],\n  fc: 6\n}, {\n  lngs: ['csb', 'pl'],\n  nr: [1, 2, 5],\n  fc: 7\n}, {\n  lngs: ['cy'],\n  nr: [1, 2, 3, 8],\n  fc: 8\n}, {\n  lngs: ['fr'],\n  nr: [1, 2],\n  fc: 9\n}, {\n  lngs: ['ga'],\n  nr: [1, 2, 3, 7, 11],\n  fc: 10\n}, {\n  lngs: ['gd'],\n  nr: [1, 2, 3, 20],\n  fc: 11\n}, {\n  lngs: ['is'],\n  nr: [1, 2],\n  fc: 12\n}, {\n  lngs: ['jv'],\n  nr: [0, 1],\n  fc: 13\n}, {\n  lngs: ['kw'],\n  nr: [1, 2, 3, 4],\n  fc: 14\n}, {\n  lngs: ['lt'],\n  nr: [1, 2, 10],\n  fc: 15\n}, {\n  lngs: ['lv'],\n  nr: [1, 2, 0],\n  fc: 16\n}, {\n  lngs: ['mk'],\n  nr: [1, 2],\n  fc: 17\n}, {\n  lngs: ['mnk'],\n  nr: [0, 1, 2],\n  fc: 18\n}, {\n  lngs: ['mt'],\n  nr: [1, 2, 11, 20],\n  fc: 19\n}, {\n  lngs: ['or'],\n  nr: [2, 1],\n  fc: 2\n}, {\n  lngs: ['ro'],\n  nr: [1, 2, 20],\n  fc: 20\n}, {\n  lngs: ['sl'],\n  nr: [5, 1, 2, 3],\n  fc: 21\n}, {\n  lngs: ['he', 'iw'],\n  nr: [1, 2, 20, 21],\n  fc: 22\n}];\nlet _rulesPluralsTypes = {\n  1: n => Number(n > 1),\n  2: n => Number(n != 1),\n  3: n => 0,\n  4: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),\n  5: n => Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5),\n  6: n => Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2),\n  7: n => Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),\n  8: n => Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3),\n  9: n => Number(n >= 2),\n  10: n => Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4),\n  11: n => Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3),\n  12: n => Number(n % 10 != 1 || n % 100 == 11),\n  13: n => Number(n !== 0),\n  14: n => Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3),\n  15: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2),\n  16: n => Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2),\n  17: n => Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1),\n  18: n => Number(n == 0 ? 0 : n == 1 ? 1 : 2),\n  19: n => Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3),\n  20: n => Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2),\n  21: n => Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0),\n  22: n => Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3)\n};\nconst nonIntlVersions = ['v1', 'v2', 'v3'];\nconst intlVersions = ['v4'];\nconst suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5\n};\nconst createRules = () => {\n  const rules = {};\n  sets.forEach(set => {\n    set.lngs.forEach(l => {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n};\nclass PluralResolver {\n  constructor(languageUtils) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    if ((!this.options.compatibilityJSON || intlVersions.includes(this.options.compatibilityJSON)) && (typeof Intl === 'undefined' || !Intl.PluralRules)) {\n      this.options.compatibilityJSON = 'v3';\n      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');\n    }\n    this.rules = createRules();\n    this.pluralRulesCache = {};\n  }\n  addRule(lng, obj) {\n    this.rules[lng] = obj;\n  }\n  clearCache() {\n    this.pluralRulesCache = {};\n  }\n  getRule(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (this.shouldUseIntlApi()) {\n      try {\n        const cleanedCode = getCleanedCode(code === 'dev' ? 'en' : code);\n        const type = options.ordinal ? 'ordinal' : 'cardinal';\n        const cacheKey = JSON.stringify({\n          cleanedCode,\n          type\n        });\n        if (cacheKey in this.pluralRulesCache) {\n          return this.pluralRulesCache[cacheKey];\n        }\n        const rule = new Intl.PluralRules(cleanedCode, {\n          type\n        });\n        this.pluralRulesCache[cacheKey] = rule;\n        return rule;\n      } catch (err) {\n        return;\n      }\n    }\n    return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n  }\n  needsPlural(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const rule = this.getRule(code, options);\n    if (this.shouldUseIntlApi()) {\n      return rule && rule.resolvedOptions().pluralCategories.length > 1;\n    }\n    return rule && rule.numbers.length > 1;\n  }\n  getPluralFormsOfKey(code, key) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return this.getSuffixes(code, options).map(suffix => `${key}${suffix}`);\n  }\n  getSuffixes(code) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    const rule = this.getRule(code, options);\n    if (!rule) {\n      return [];\n    }\n    if (this.shouldUseIntlApi()) {\n      return rule.resolvedOptions().pluralCategories.sort((pluralCategory1, pluralCategory2) => suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2]).map(pluralCategory => `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${pluralCategory}`);\n    }\n    return rule.numbers.map(number => this.getSuffix(code, number, options));\n  }\n  getSuffix(code, count) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    const rule = this.getRule(code, options);\n    if (rule) {\n      if (this.shouldUseIntlApi()) {\n        return `${this.options.prepend}${options.ordinal ? `ordinal${this.options.prepend}` : ''}${rule.select(count)}`;\n      }\n      return this.getSuffixRetroCompatible(rule, count);\n    }\n    this.logger.warn(`no plural rule found for: ${code}`);\n    return '';\n  }\n  getSuffixRetroCompatible(rule, count) {\n    const idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n    let suffix = rule.numbers[idx];\n    if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n      if (suffix === 2) {\n        suffix = 'plural';\n      } else if (suffix === 1) {\n        suffix = '';\n      }\n    }\n    const returnSuffix = () => this.options.prepend && suffix.toString() ? this.options.prepend + suffix.toString() : suffix.toString();\n    if (this.options.compatibilityJSON === 'v1') {\n      if (suffix === 1) return '';\n      if (typeof suffix === 'number') return `_plural_${suffix.toString()}`;\n      return returnSuffix();\n    } else if (this.options.compatibilityJSON === 'v2') {\n      return returnSuffix();\n    } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n      return returnSuffix();\n    }\n    return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n  }\n  shouldUseIntlApi() {\n    return !nonIntlVersions.includes(this.options.compatibilityJSON);\n  }\n}\n\nconst deepFindWithDefaults = function (data, defaultData, key) {\n  let keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';\n  let ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  let path = getPathWithDefaults(data, defaultData, key);\n  if (!path && ignoreJSONStructure && typeof key === 'string') {\n    path = deepFind(data, key, keySeparator);\n    if (path === undefined) path = deepFind(defaultData, key, keySeparator);\n  }\n  return path;\n};\nconst regexSafe = val => val.replace(/\\$/g, '$$$$');\nclass Interpolator {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n    this.format = options.interpolation && options.interpolation.format || (value => value);\n    this.init(options);\n  }\n  init() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (!options.interpolation) options.interpolation = {\n      escapeValue: true\n    };\n    const {\n      escape: escape$1,\n      escapeValue,\n      useRawValueToEscape,\n      prefix,\n      prefixEscaped,\n      suffix,\n      suffixEscaped,\n      formatSeparator,\n      unescapeSuffix,\n      unescapePrefix,\n      nestingPrefix,\n      nestingPrefixEscaped,\n      nestingSuffix,\n      nestingSuffixEscaped,\n      nestingOptionsSeparator,\n      maxReplaces,\n      alwaysFormat\n    } = options.interpolation;\n    this.escape = escape$1 !== undefined ? escape$1 : escape;\n    this.escapeValue = escapeValue !== undefined ? escapeValue : true;\n    this.useRawValueToEscape = useRawValueToEscape !== undefined ? useRawValueToEscape : false;\n    this.prefix = prefix ? regexEscape(prefix) : prefixEscaped || '{{';\n    this.suffix = suffix ? regexEscape(suffix) : suffixEscaped || '}}';\n    this.formatSeparator = formatSeparator || ',';\n    this.unescapePrefix = unescapeSuffix ? '' : unescapePrefix || '-';\n    this.unescapeSuffix = this.unescapePrefix ? '' : unescapeSuffix || '';\n    this.nestingPrefix = nestingPrefix ? regexEscape(nestingPrefix) : nestingPrefixEscaped || regexEscape('$t(');\n    this.nestingSuffix = nestingSuffix ? regexEscape(nestingSuffix) : nestingSuffixEscaped || regexEscape(')');\n    this.nestingOptionsSeparator = nestingOptionsSeparator || ',';\n    this.maxReplaces = maxReplaces || 1000;\n    this.alwaysFormat = alwaysFormat !== undefined ? alwaysFormat : false;\n    this.resetRegExp();\n  }\n  reset() {\n    if (this.options) this.init(this.options);\n  }\n  resetRegExp() {\n    const getOrResetRegExp = (existingRegExp, pattern) => {\n      if (existingRegExp && existingRegExp.source === pattern) {\n        existingRegExp.lastIndex = 0;\n        return existingRegExp;\n      }\n      return new RegExp(pattern, 'g');\n    };\n    this.regexp = getOrResetRegExp(this.regexp, `${this.prefix}(.+?)${this.suffix}`);\n    this.regexpUnescape = getOrResetRegExp(this.regexpUnescape, `${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`);\n    this.nestingRegexp = getOrResetRegExp(this.nestingRegexp, `${this.nestingPrefix}(.+?)${this.nestingSuffix}`);\n  }\n  interpolate(str, data, lng, options) {\n    let match;\n    let value;\n    let replaces;\n    const defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n    const handleFormat = key => {\n      if (key.indexOf(this.formatSeparator) < 0) {\n        const path = deepFindWithDefaults(data, defaultData, key, this.options.keySeparator, this.options.ignoreJSONStructure);\n        return this.alwaysFormat ? this.format(path, undefined, lng, {\n          ...options,\n          ...data,\n          interpolationkey: key\n        }) : path;\n      }\n      const p = key.split(this.formatSeparator);\n      const k = p.shift().trim();\n      const f = p.join(this.formatSeparator).trim();\n      return this.format(deepFindWithDefaults(data, defaultData, k, this.options.keySeparator, this.options.ignoreJSONStructure), f, lng, {\n        ...options,\n        ...data,\n        interpolationkey: k\n      });\n    };\n    this.resetRegExp();\n    const missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n    const skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n    const todos = [{\n      regex: this.regexpUnescape,\n      safeValue: val => regexSafe(val)\n    }, {\n      regex: this.regexp,\n      safeValue: val => this.escapeValue ? regexSafe(this.escape(val)) : regexSafe(val)\n    }];\n    todos.forEach(todo => {\n      replaces = 0;\n      while (match = todo.regex.exec(str)) {\n        const matchedVar = match[1].trim();\n        value = handleFormat(matchedVar);\n        if (value === undefined) {\n          if (typeof missingInterpolationHandler === 'function') {\n            const temp = missingInterpolationHandler(str, match, options);\n            value = typeof temp === 'string' ? temp : '';\n          } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {\n            value = '';\n          } else if (skipOnVariables) {\n            value = match[0];\n            continue;\n          } else {\n            this.logger.warn(`missed to pass in variable ${matchedVar} for interpolating ${str}`);\n            value = '';\n          }\n        } else if (typeof value !== 'string' && !this.useRawValueToEscape) {\n          value = makeString(value);\n        }\n        const safeValue = todo.safeValue(value);\n        str = str.replace(match[0], safeValue);\n        if (skipOnVariables) {\n          todo.regex.lastIndex += value.length;\n          todo.regex.lastIndex -= match[0].length;\n        } else {\n          todo.regex.lastIndex = 0;\n        }\n        replaces++;\n        if (replaces >= this.maxReplaces) {\n          break;\n        }\n      }\n    });\n    return str;\n  }\n  nest(str, fc) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let match;\n    let value;\n    let clonedOptions;\n    const handleHasOptions = (key, inheritedOptions) => {\n      const sep = this.nestingOptionsSeparator;\n      if (key.indexOf(sep) < 0) return key;\n      const c = key.split(new RegExp(`${sep}[ ]*{`));\n      let optionsString = `{${c[1]}`;\n      key = c[0];\n      optionsString = this.interpolate(optionsString, clonedOptions);\n      const matchedSingleQuotes = optionsString.match(/'/g);\n      const matchedDoubleQuotes = optionsString.match(/\"/g);\n      if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {\n        optionsString = optionsString.replace(/'/g, '\"');\n      }\n      try {\n        clonedOptions = JSON.parse(optionsString);\n        if (inheritedOptions) clonedOptions = {\n          ...inheritedOptions,\n          ...clonedOptions\n        };\n      } catch (e) {\n        this.logger.warn(`failed parsing options string in nesting for key ${key}`, e);\n        return `${key}${sep}${optionsString}`;\n      }\n      if (clonedOptions.defaultValue && clonedOptions.defaultValue.indexOf(this.prefix) > -1) delete clonedOptions.defaultValue;\n      return key;\n    };\n    while (match = this.nestingRegexp.exec(str)) {\n      let formatters = [];\n      clonedOptions = {\n        ...options\n      };\n      clonedOptions = clonedOptions.replace && typeof clonedOptions.replace !== 'string' ? clonedOptions.replace : clonedOptions;\n      clonedOptions.applyPostProcessor = false;\n      delete clonedOptions.defaultValue;\n      let doReduce = false;\n      if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n        const r = match[1].split(this.formatSeparator).map(elem => elem.trim());\n        match[1] = r.shift();\n        formatters = r;\n        doReduce = true;\n      }\n      value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n      if (value && match[0] === str && typeof value !== 'string') return value;\n      if (typeof value !== 'string') value = makeString(value);\n      if (!value) {\n        this.logger.warn(`missed to resolve ${match[1]} for nesting ${str}`);\n        value = '';\n      }\n      if (doReduce) {\n        value = formatters.reduce((v, f) => this.format(v, f, options.lng, {\n          ...options,\n          interpolationkey: match[1].trim()\n        }), value.trim());\n      }\n      str = str.replace(match[0], value);\n      this.regexp.lastIndex = 0;\n    }\n    return str;\n  }\n}\n\nconst parseFormatStr = formatStr => {\n  let formatName = formatStr.toLowerCase().trim();\n  const formatOptions = {};\n  if (formatStr.indexOf('(') > -1) {\n    const p = formatStr.split('(');\n    formatName = p[0].toLowerCase().trim();\n    const optStr = p[1].substring(0, p[1].length - 1);\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      const opts = optStr.split(';');\n      opts.forEach(opt => {\n        if (opt) {\n          const [key, ...rest] = opt.split(':');\n          const val = rest.join(':').trim().replace(/^'+|'+$/g, '');\n          const trimmedKey = key.trim();\n          if (!formatOptions[trimmedKey]) formatOptions[trimmedKey] = val;\n          if (val === 'false') formatOptions[trimmedKey] = false;\n          if (val === 'true') formatOptions[trimmedKey] = true;\n          if (!isNaN(val)) formatOptions[trimmedKey] = parseInt(val, 10);\n        }\n      });\n    }\n  }\n  return {\n    formatName,\n    formatOptions\n  };\n};\nconst createCachedFormatter = fn => {\n  const cache = {};\n  return (val, lng, options) => {\n    let optForCache = options;\n    if (options && options.interpolationkey && options.formatParams && options.formatParams[options.interpolationkey] && options[options.interpolationkey]) {\n      optForCache = {\n        ...optForCache,\n        [options.interpolationkey]: undefined\n      };\n    }\n    const key = lng + JSON.stringify(optForCache);\n    let formatter = cache[key];\n    if (!formatter) {\n      formatter = fn(getCleanedCode(lng), options);\n      cache[key] = formatter;\n    }\n    return formatter(val);\n  };\n};\nclass Formatter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.logger = baseLogger.create('formatter');\n    this.options = options;\n    this.formats = {\n      number: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      currency: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.NumberFormat(lng, {\n          ...opt,\n          style: 'currency'\n        });\n        return val => formatter.format(val);\n      }),\n      datetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.DateTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      }),\n      relativetime: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.RelativeTimeFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val, opt.range || 'day');\n      }),\n      list: createCachedFormatter((lng, opt) => {\n        const formatter = new Intl.ListFormat(lng, {\n          ...opt\n        });\n        return val => formatter.format(val);\n      })\n    };\n    this.init(options);\n  }\n  init(services) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      interpolation: {}\n    };\n    const iOpts = options.interpolation;\n    this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n  }\n  add(name, fc) {\n    this.formats[name.toLowerCase().trim()] = fc;\n  }\n  addCached(name, fc) {\n    this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);\n  }\n  format(value, format, lng) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    const formats = format.split(this.formatSeparator);\n    if (formats.length > 1 && formats[0].indexOf('(') > 1 && formats[0].indexOf(')') < 0 && formats.find(f => f.indexOf(')') > -1)) {\n      const lastIndex = formats.findIndex(f => f.indexOf(')') > -1);\n      formats[0] = [formats[0], ...formats.splice(1, lastIndex)].join(this.formatSeparator);\n    }\n    const result = formats.reduce((mem, f) => {\n      const {\n        formatName,\n        formatOptions\n      } = parseFormatStr(f);\n      if (this.formats[formatName]) {\n        let formatted = mem;\n        try {\n          const valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};\n          const l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n          formatted = this.formats[formatName](mem, l, {\n            ...formatOptions,\n            ...options,\n            ...valOptions\n          });\n        } catch (error) {\n          this.logger.warn(error);\n        }\n        return formatted;\n      } else {\n        this.logger.warn(`there was no format function for ${formatName}`);\n      }\n      return mem;\n    }, value);\n    return result;\n  }\n}\n\nconst removePending = (q, name) => {\n  if (q.pending[name] !== undefined) {\n    delete q.pending[name];\n    q.pendingCount--;\n  }\n};\nclass Connector extends EventEmitter {\n  constructor(backend, store, services) {\n    let options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    super();\n    this.backend = backend;\n    this.store = store;\n    this.services = services;\n    this.languageUtils = services.languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('backendConnector');\n    this.waitingReads = [];\n    this.maxParallelReads = options.maxParallelReads || 10;\n    this.readingCalls = 0;\n    this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n    this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n    this.state = {};\n    this.queue = [];\n    if (this.backend && this.backend.init) {\n      this.backend.init(services, options.backend, options);\n    }\n  }\n  queueLoad(languages, namespaces, options, callback) {\n    const toLoad = {};\n    const pending = {};\n    const toLoadLanguages = {};\n    const toLoadNamespaces = {};\n    languages.forEach(lng => {\n      let hasAllNamespaces = true;\n      namespaces.forEach(ns => {\n        const name = `${lng}|${ns}`;\n        if (!options.reload && this.store.hasResourceBundle(lng, ns)) {\n          this.state[name] = 2;\n        } else if (this.state[name] < 0) ; else if (this.state[name] === 1) {\n          if (pending[name] === undefined) pending[name] = true;\n        } else {\n          this.state[name] = 1;\n          hasAllNamespaces = false;\n          if (pending[name] === undefined) pending[name] = true;\n          if (toLoad[name] === undefined) toLoad[name] = true;\n          if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n        }\n      });\n      if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n    });\n    if (Object.keys(toLoad).length || Object.keys(pending).length) {\n      this.queue.push({\n        pending,\n        pendingCount: Object.keys(pending).length,\n        loaded: {},\n        errors: [],\n        callback\n      });\n    }\n    return {\n      toLoad: Object.keys(toLoad),\n      pending: Object.keys(pending),\n      toLoadLanguages: Object.keys(toLoadLanguages),\n      toLoadNamespaces: Object.keys(toLoadNamespaces)\n    };\n  }\n  loaded(name, err, data) {\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    if (err) this.emit('failedLoading', lng, ns, err);\n    if (!err && data) {\n      this.store.addResourceBundle(lng, ns, data, undefined, undefined, {\n        skipCopy: true\n      });\n    }\n    this.state[name] = err ? -1 : 2;\n    if (err && data) this.state[name] = 0;\n    const loaded = {};\n    this.queue.forEach(q => {\n      pushPath(q.loaded, [lng], ns);\n      removePending(q, name);\n      if (err) q.errors.push(err);\n      if (q.pendingCount === 0 && !q.done) {\n        Object.keys(q.loaded).forEach(l => {\n          if (!loaded[l]) loaded[l] = {};\n          const loadedKeys = q.loaded[l];\n          if (loadedKeys.length) {\n            loadedKeys.forEach(n => {\n              if (loaded[l][n] === undefined) loaded[l][n] = true;\n            });\n          }\n        });\n        q.done = true;\n        if (q.errors.length) {\n          q.callback(q.errors);\n        } else {\n          q.callback();\n        }\n      }\n    });\n    this.emit('loaded', loaded);\n    this.queue = this.queue.filter(q => !q.done);\n  }\n  read(lng, ns, fcName) {\n    let tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n    let wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;\n    let callback = arguments.length > 5 ? arguments[5] : undefined;\n    if (!lng.length) return callback(null, {});\n    if (this.readingCalls >= this.maxParallelReads) {\n      this.waitingReads.push({\n        lng,\n        ns,\n        fcName,\n        tried,\n        wait,\n        callback\n      });\n      return;\n    }\n    this.readingCalls++;\n    const resolver = (err, data) => {\n      this.readingCalls--;\n      if (this.waitingReads.length > 0) {\n        const next = this.waitingReads.shift();\n        this.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n      }\n      if (err && data && tried < this.maxRetries) {\n        setTimeout(() => {\n          this.read.call(this, lng, ns, fcName, tried + 1, wait * 2, callback);\n        }, wait);\n        return;\n      }\n      callback(err, data);\n    };\n    const fc = this.backend[fcName].bind(this.backend);\n    if (fc.length === 2) {\n      try {\n        const r = fc(lng, ns);\n        if (r && typeof r.then === 'function') {\n          r.then(data => resolver(null, data)).catch(resolver);\n        } else {\n          resolver(null, r);\n        }\n      } catch (err) {\n        resolver(err);\n      }\n      return;\n    }\n    return fc(lng, ns, resolver);\n  }\n  prepareLoading(languages, namespaces) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    let callback = arguments.length > 3 ? arguments[3] : undefined;\n    if (!this.backend) {\n      this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n      return callback && callback();\n    }\n    if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n    if (typeof namespaces === 'string') namespaces = [namespaces];\n    const toLoad = this.queueLoad(languages, namespaces, options, callback);\n    if (!toLoad.toLoad.length) {\n      if (!toLoad.pending.length) callback();\n      return null;\n    }\n    toLoad.toLoad.forEach(name => {\n      this.loadOne(name);\n    });\n  }\n  load(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {}, callback);\n  }\n  reload(languages, namespaces, callback) {\n    this.prepareLoading(languages, namespaces, {\n      reload: true\n    }, callback);\n  }\n  loadOne(name) {\n    let prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    const s = name.split('|');\n    const lng = s[0];\n    const ns = s[1];\n    this.read(lng, ns, 'read', undefined, undefined, (err, data) => {\n      if (err) this.logger.warn(`${prefix}loading namespace ${ns} for language ${lng} failed`, err);\n      if (!err && data) this.logger.log(`${prefix}loaded namespace ${ns} for language ${lng}`, data);\n      this.loaded(name, err, data);\n    });\n  }\n  saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n    let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n    let clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : () => {};\n    if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n      this.logger.warn(`did not save key \"${key}\" as the namespace \"${namespace}\" was not yet loaded`, 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n      return;\n    }\n    if (key === undefined || key === null || key === '') return;\n    if (this.backend && this.backend.create) {\n      const opts = {\n        ...options,\n        isUpdate\n      };\n      const fc = this.backend.create.bind(this.backend);\n      if (fc.length < 6) {\n        try {\n          let r;\n          if (fc.length === 5) {\n            r = fc(languages, namespace, key, fallbackValue, opts);\n          } else {\n            r = fc(languages, namespace, key, fallbackValue);\n          }\n          if (r && typeof r.then === 'function') {\n            r.then(data => clb(null, data)).catch(clb);\n          } else {\n            clb(null, r);\n          }\n        } catch (err) {\n          clb(err);\n        }\n      } else {\n        fc(languages, namespace, key, fallbackValue, clb, opts);\n      }\n    }\n    if (!languages || !languages[0]) return;\n    this.store.addResource(languages[0], namespace, key, fallbackValue);\n  }\n}\n\nconst get = () => ({\n  debug: false,\n  initImmediate: true,\n  ns: ['translation'],\n  defaultNS: ['translation'],\n  fallbackLng: ['dev'],\n  fallbackNS: false,\n  supportedLngs: false,\n  nonExplicitSupportedLngs: false,\n  load: 'all',\n  preload: false,\n  simplifyPluralSuffix: true,\n  keySeparator: '.',\n  nsSeparator: ':',\n  pluralSeparator: '_',\n  contextSeparator: '_',\n  partialBundledLanguages: false,\n  saveMissing: false,\n  updateMissing: false,\n  saveMissingTo: 'fallback',\n  saveMissingPlurals: true,\n  missingKeyHandler: false,\n  missingInterpolationHandler: false,\n  postProcess: false,\n  postProcessPassResolved: false,\n  returnNull: false,\n  returnEmptyString: true,\n  returnObjects: false,\n  joinArrays: false,\n  returnedObjectHandler: false,\n  parseMissingKeyHandler: false,\n  appendNamespaceToMissingKey: false,\n  appendNamespaceToCIMode: false,\n  overloadTranslationOptionHandler: args => {\n    let ret = {};\n    if (typeof args[1] === 'object') ret = args[1];\n    if (typeof args[1] === 'string') ret.defaultValue = args[1];\n    if (typeof args[2] === 'string') ret.tDescription = args[2];\n    if (typeof args[2] === 'object' || typeof args[3] === 'object') {\n      const options = args[3] || args[2];\n      Object.keys(options).forEach(key => {\n        ret[key] = options[key];\n      });\n    }\n    return ret;\n  },\n  interpolation: {\n    escapeValue: true,\n    format: value => value,\n    prefix: '{{',\n    suffix: '}}',\n    formatSeparator: ',',\n    unescapePrefix: '-',\n    nestingPrefix: '$t(',\n    nestingSuffix: ')',\n    nestingOptionsSeparator: ',',\n    maxReplaces: 1000,\n    skipOnVariables: true\n  }\n});\nconst transformOptions = options => {\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n  return options;\n};\n\nconst noop = () => {};\nconst bindMemberFunctions = inst => {\n  const mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n  mems.forEach(mem => {\n    if (typeof inst[mem] === 'function') {\n      inst[mem] = inst[mem].bind(inst);\n    }\n  });\n};\nclass I18n extends EventEmitter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    super();\n    this.options = transformOptions(options);\n    this.services = {};\n    this.logger = baseLogger;\n    this.modules = {\n      external: []\n    };\n    bindMemberFunctions(this);\n    if (callback && !this.isInitialized && !options.isClone) {\n      if (!this.options.initImmediate) {\n        this.init(options, callback);\n        return this;\n      }\n      setTimeout(() => {\n        this.init(options, callback);\n      }, 0);\n    }\n  }\n  init() {\n    var _this = this;\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    this.isInitializing = true;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (!options.defaultNS && options.defaultNS !== false && options.ns) {\n      if (typeof options.ns === 'string') {\n        options.defaultNS = options.ns;\n      } else if (options.ns.indexOf('translation') < 0) {\n        options.defaultNS = options.ns[0];\n      }\n    }\n    const defOpts = get();\n    this.options = {\n      ...defOpts,\n      ...this.options,\n      ...transformOptions(options)\n    };\n    if (this.options.compatibilityAPI !== 'v1') {\n      this.options.interpolation = {\n        ...defOpts.interpolation,\n        ...this.options.interpolation\n      };\n    }\n    if (options.keySeparator !== undefined) {\n      this.options.userDefinedKeySeparator = options.keySeparator;\n    }\n    if (options.nsSeparator !== undefined) {\n      this.options.userDefinedNsSeparator = options.nsSeparator;\n    }\n    const createClassOnDemand = ClassOrObject => {\n      if (!ClassOrObject) return null;\n      if (typeof ClassOrObject === 'function') return new ClassOrObject();\n      return ClassOrObject;\n    };\n    if (!this.options.isClone) {\n      if (this.modules.logger) {\n        baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n      } else {\n        baseLogger.init(null, this.options);\n      }\n      let formatter;\n      if (this.modules.formatter) {\n        formatter = this.modules.formatter;\n      } else if (typeof Intl !== 'undefined') {\n        formatter = Formatter;\n      }\n      const lu = new LanguageUtil(this.options);\n      this.store = new ResourceStore(this.options.resources, this.options);\n      const s = this.services;\n      s.logger = baseLogger;\n      s.resourceStore = this.store;\n      s.languageUtils = lu;\n      s.pluralResolver = new PluralResolver(lu, {\n        prepend: this.options.pluralSeparator,\n        compatibilityJSON: this.options.compatibilityJSON,\n        simplifyPluralSuffix: this.options.simplifyPluralSuffix\n      });\n      if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n        s.formatter = createClassOnDemand(formatter);\n        s.formatter.init(s, this.options);\n        this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n      }\n      s.interpolator = new Interpolator(this.options);\n      s.utils = {\n        hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n      };\n      s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n      s.backendConnector.on('*', function (event) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        _this.emit(event, ...args);\n      });\n      if (this.modules.languageDetector) {\n        s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n        if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n      }\n      if (this.modules.i18nFormat) {\n        s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n        if (s.i18nFormat.init) s.i18nFormat.init(this);\n      }\n      this.translator = new Translator(this.services, this.options);\n      this.translator.on('*', function (event) {\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n        _this.emit(event, ...args);\n      });\n      this.modules.external.forEach(m => {\n        if (m.init) m.init(this);\n      });\n    }\n    this.format = this.options.interpolation.format;\n    if (!callback) callback = noop;\n    if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n      const codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n      if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n    }\n    if (!this.services.languageDetector && !this.options.lng) {\n      this.logger.warn('init: no languageDetector is used and no lng is defined');\n    }\n    const storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n    storeApi.forEach(fcName => {\n      this[fcName] = function () {\n        return _this.store[fcName](...arguments);\n      };\n    });\n    const storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n    storeApiChained.forEach(fcName => {\n      this[fcName] = function () {\n        _this.store[fcName](...arguments);\n        return _this;\n      };\n    });\n    const deferred = defer();\n    const load = () => {\n      const finish = (err, t) => {\n        this.isInitializing = false;\n        if (this.isInitialized && !this.initializedStoreOnce) this.logger.warn('init: i18next is already initialized. You should call init just once!');\n        this.isInitialized = true;\n        if (!this.options.isClone) this.logger.log('initialized', this.options);\n        this.emit('initialized', this.options);\n        deferred.resolve(t);\n        callback(err, t);\n      };\n      if (this.languages && this.options.compatibilityAPI !== 'v1' && !this.isInitialized) return finish(null, this.t.bind(this));\n      this.changeLanguage(this.options.lng, finish);\n    };\n    if (this.options.resources || !this.options.initImmediate) {\n      load();\n    } else {\n      setTimeout(load, 0);\n    }\n    return deferred;\n  }\n  loadResources(language) {\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    let usedCallback = callback;\n    const usedLng = typeof language === 'string' ? language : this.language;\n    if (typeof language === 'function') usedCallback = language;\n    if (!this.options.resources || this.options.partialBundledLanguages) {\n      if (usedLng && usedLng.toLowerCase() === 'cimode' && (!this.options.preload || this.options.preload.length === 0)) return usedCallback();\n      const toLoad = [];\n      const append = lng => {\n        if (!lng) return;\n        if (lng === 'cimode') return;\n        const lngs = this.services.languageUtils.toResolveHierarchy(lng);\n        lngs.forEach(l => {\n          if (l === 'cimode') return;\n          if (toLoad.indexOf(l) < 0) toLoad.push(l);\n        });\n      };\n      if (!usedLng) {\n        const fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        fallbacks.forEach(l => append(l));\n      } else {\n        append(usedLng);\n      }\n      if (this.options.preload) {\n        this.options.preload.forEach(l => append(l));\n      }\n      this.services.backendConnector.load(toLoad, this.options.ns, e => {\n        if (!e && !this.resolvedLanguage && this.language) this.setResolvedLanguage(this.language);\n        usedCallback(e);\n      });\n    } else {\n      usedCallback(null);\n    }\n  }\n  reloadResources(lngs, ns, callback) {\n    const deferred = defer();\n    if (typeof lngs === 'function') {\n      callback = lngs;\n      lngs = undefined;\n    }\n    if (typeof ns === 'function') {\n      callback = ns;\n      ns = undefined;\n    }\n    if (!lngs) lngs = this.languages;\n    if (!ns) ns = this.options.ns;\n    if (!callback) callback = noop;\n    this.services.backendConnector.reload(lngs, ns, err => {\n      deferred.resolve();\n      callback(err);\n    });\n    return deferred;\n  }\n  use(module) {\n    if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n    if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n    if (module.type === 'backend') {\n      this.modules.backend = module;\n    }\n    if (module.type === 'logger' || module.log && module.warn && module.error) {\n      this.modules.logger = module;\n    }\n    if (module.type === 'languageDetector') {\n      this.modules.languageDetector = module;\n    }\n    if (module.type === 'i18nFormat') {\n      this.modules.i18nFormat = module;\n    }\n    if (module.type === 'postProcessor') {\n      postProcessor.addPostProcessor(module);\n    }\n    if (module.type === 'formatter') {\n      this.modules.formatter = module;\n    }\n    if (module.type === '3rdParty') {\n      this.modules.external.push(module);\n    }\n    return this;\n  }\n  setResolvedLanguage(l) {\n    if (!l || !this.languages) return;\n    if (['cimode', 'dev'].indexOf(l) > -1) return;\n    for (let li = 0; li < this.languages.length; li++) {\n      const lngInLngs = this.languages[li];\n      if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n      if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n        this.resolvedLanguage = lngInLngs;\n        break;\n      }\n    }\n  }\n  changeLanguage(lng, callback) {\n    var _this2 = this;\n    this.isLanguageChangingTo = lng;\n    const deferred = defer();\n    this.emit('languageChanging', lng);\n    const setLngProps = l => {\n      this.language = l;\n      this.languages = this.services.languageUtils.toResolveHierarchy(l);\n      this.resolvedLanguage = undefined;\n      this.setResolvedLanguage(l);\n    };\n    const done = (err, l) => {\n      if (l) {\n        setLngProps(l);\n        this.translator.changeLanguage(l);\n        this.isLanguageChangingTo = undefined;\n        this.emit('languageChanged', l);\n        this.logger.log('languageChanged', l);\n      } else {\n        this.isLanguageChangingTo = undefined;\n      }\n      deferred.resolve(function () {\n        return _this2.t(...arguments);\n      });\n      if (callback) callback(err, function () {\n        return _this2.t(...arguments);\n      });\n    };\n    const setLng = lngs => {\n      if (!lng && !lngs && this.services.languageDetector) lngs = [];\n      const l = typeof lngs === 'string' ? lngs : this.services.languageUtils.getBestMatchFromCodes(lngs);\n      if (l) {\n        if (!this.language) {\n          setLngProps(l);\n        }\n        if (!this.translator.language) this.translator.changeLanguage(l);\n        if (this.services.languageDetector && this.services.languageDetector.cacheUserLanguage) this.services.languageDetector.cacheUserLanguage(l);\n      }\n      this.loadResources(l, err => {\n        done(err, l);\n      });\n    };\n    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n      setLng(this.services.languageDetector.detect());\n    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n      if (this.services.languageDetector.detect.length === 0) {\n        this.services.languageDetector.detect().then(setLng);\n      } else {\n        this.services.languageDetector.detect(setLng);\n      }\n    } else {\n      setLng(lng);\n    }\n    return deferred;\n  }\n  getFixedT(lng, ns, keyPrefix) {\n    var _this3 = this;\n    const fixedT = function (key, opts) {\n      let options;\n      if (typeof opts !== 'object') {\n        for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n          rest[_key3 - 2] = arguments[_key3];\n        }\n        options = _this3.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n      } else {\n        options = {\n          ...opts\n        };\n      }\n      options.lng = options.lng || fixedT.lng;\n      options.lngs = options.lngs || fixedT.lngs;\n      options.ns = options.ns || fixedT.ns;\n      if (options.keyPrefix !== '') options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;\n      const keySeparator = _this3.options.keySeparator || '.';\n      let resultKey;\n      if (options.keyPrefix && Array.isArray(key)) {\n        resultKey = key.map(k => `${options.keyPrefix}${keySeparator}${k}`);\n      } else {\n        resultKey = options.keyPrefix ? `${options.keyPrefix}${keySeparator}${key}` : key;\n      }\n      return _this3.t(resultKey, options);\n    };\n    if (typeof lng === 'string') {\n      fixedT.lng = lng;\n    } else {\n      fixedT.lngs = lng;\n    }\n    fixedT.ns = ns;\n    fixedT.keyPrefix = keyPrefix;\n    return fixedT;\n  }\n  t() {\n    return this.translator && this.translator.translate(...arguments);\n  }\n  exists() {\n    return this.translator && this.translator.exists(...arguments);\n  }\n  setDefaultNamespace(ns) {\n    this.options.defaultNS = ns;\n  }\n  hasLoadedNamespace(ns) {\n    let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    if (!this.isInitialized) {\n      this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n      return false;\n    }\n    if (!this.languages || !this.languages.length) {\n      this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n      return false;\n    }\n    const lng = options.lng || this.resolvedLanguage || this.languages[0];\n    const fallbackLng = this.options ? this.options.fallbackLng : false;\n    const lastLng = this.languages[this.languages.length - 1];\n    if (lng.toLowerCase() === 'cimode') return true;\n    const loadNotPending = (l, n) => {\n      const loadState = this.services.backendConnector.state[`${l}|${n}`];\n      return loadState === -1 || loadState === 0 || loadState === 2;\n    };\n    if (options.precheck) {\n      const preResult = options.precheck(this, loadNotPending);\n      if (preResult !== undefined) return preResult;\n    }\n    if (this.hasResourceBundle(lng, ns)) return true;\n    if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n    if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n    return false;\n  }\n  loadNamespaces(ns, callback) {\n    const deferred = defer();\n    if (!this.options.ns) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    if (typeof ns === 'string') ns = [ns];\n    ns.forEach(n => {\n      if (this.options.ns.indexOf(n) < 0) this.options.ns.push(n);\n    });\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  loadLanguages(lngs, callback) {\n    const deferred = defer();\n    if (typeof lngs === 'string') lngs = [lngs];\n    const preloaded = this.options.preload || [];\n    const newLngs = lngs.filter(lng => preloaded.indexOf(lng) < 0 && this.services.languageUtils.isSupportedCode(lng));\n    if (!newLngs.length) {\n      if (callback) callback();\n      return Promise.resolve();\n    }\n    this.options.preload = preloaded.concat(newLngs);\n    this.loadResources(err => {\n      deferred.resolve();\n      if (callback) callback(err);\n    });\n    return deferred;\n  }\n  dir(lng) {\n    if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);\n    if (!lng) return 'rtl';\n    const rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];\n    const languageUtils = this.services && this.services.languageUtils || new LanguageUtil(get());\n    return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';\n  }\n  static createInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 ? arguments[1] : undefined;\n    return new I18n(options, callback);\n  }\n  cloneInstance() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    let callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n    const forkResourceStore = options.forkResourceStore;\n    if (forkResourceStore) delete options.forkResourceStore;\n    const mergedOptions = {\n      ...this.options,\n      ...options,\n      ...{\n        isClone: true\n      }\n    };\n    const clone = new I18n(mergedOptions);\n    if (options.debug !== undefined || options.prefix !== undefined) {\n      clone.logger = clone.logger.clone(options);\n    }\n    const membersToCopy = ['store', 'services', 'language'];\n    membersToCopy.forEach(m => {\n      clone[m] = this[m];\n    });\n    clone.services = {\n      ...this.services\n    };\n    clone.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    if (forkResourceStore) {\n      clone.store = new ResourceStore(this.store.data, mergedOptions);\n      clone.services.resourceStore = clone.store;\n    }\n    clone.translator = new Translator(clone.services, mergedOptions);\n    clone.translator.on('*', function (event) {\n      for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n        args[_key4 - 1] = arguments[_key4];\n      }\n      clone.emit(event, ...args);\n    });\n    clone.init(mergedOptions, callback);\n    clone.translator.options = mergedOptions;\n    clone.translator.backendConnector.services.utils = {\n      hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n    };\n    return clone;\n  }\n  toJSON() {\n    return {\n      options: this.options,\n      store: this.store,\n      language: this.language,\n      languages: this.languages,\n      resolvedLanguage: this.resolvedLanguage\n    };\n  }\n}\nconst instance = I18n.createInstance();\ninstance.createInstance = I18n.createInstance;\n\nconst createInstance = instance.createInstance;\nconst dir = instance.dir;\nconst init = instance.init;\nconst loadResources = instance.loadResources;\nconst reloadResources = instance.reloadResources;\nconst use = instance.use;\nconst changeLanguage = instance.changeLanguage;\nconst getFixedT = instance.getFixedT;\nconst t = instance.t;\nconst exists = instance.exists;\nconst setDefaultNamespace = instance.setDefaultNamespace;\nconst hasLoadedNamespace = instance.hasLoadedNamespace;\nconst loadNamespaces = instance.loadNamespaces;\nconst loadLanguages = instance.loadLanguages;\n\nexport { changeLanguage, createInstance, instance as default, dir, exists, getFixedT, hasLoadedNamespace, init, loadLanguages, loadNamespaces, loadResources, reloadResources, setDefaultNamespace, t, use };\n","import e from\"void-elements\";var t=/\\s([^'\"/\\s><]+?)[\\s/>]|([^\\s=]+)=\\s?(\".*?\"|'.*?')/g;function n(n){var r={type:\"tag\",name:\"\",voidElement:!1,attrs:{},children:[]},i=n.match(/<\\/?([^\\s]+?)[/\\s>]/);if(i&&(r.name=i[1],(e[i[1]]||\"/\"===n.charAt(n.length-2))&&(r.voidElement=!0),r.name.startsWith(\"!--\"))){var s=n.indexOf(\"--\\x3e\");return{type:\"comment\",comment:-1!==s?n.slice(4,s):\"\"}}for(var a=new RegExp(t),c=null;null!==(c=a.exec(n));)if(c[0].trim())if(c[1]){var o=c[1].trim(),l=[o,\"\"];o.indexOf(\"=\")>-1&&(l=o.split(\"=\")),r.attrs[l[0]]=l[1],a.lastIndex--}else c[2]&&(r.attrs[c[2]]=c[3].trim().substring(1,c[3].length-1));return r}var r=/<[a-zA-Z0-9\\-\\!\\/](?:\"[^\"]*\"|'[^']*'|[^'\">])*>/g,i=/^\\s*$/,s=Object.create(null);function a(e,t){switch(t.type){case\"text\":return e+t.content;case\"tag\":return e+=\"<\"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'=\"'+e[n]+'\"');return t.length?\" \"+t.join(\" \"):\"\"}(t.attrs):\"\")+(t.voidElement?\"/>\":\">\"),t.voidElement?e:e+t.children.reduce(a,\"\")+\"</\"+t.name+\">\";case\"comment\":return e+\"\\x3c!--\"+t.comment+\"--\\x3e\"}}var c={parse:function(e,t){t||(t={}),t.components||(t.components=s);var a,c=[],o=[],l=-1,m=!1;if(0!==e.indexOf(\"<\")){var u=e.indexOf(\"<\");c.push({type:\"text\",content:-1===u?e:e.substring(0,u)})}return e.replace(r,function(r,s){if(m){if(r!==\"</\"+a.name+\">\")return;m=!1}var u,f=\"/\"!==r.charAt(1),h=r.startsWith(\"\\x3c!--\"),p=s+r.length,d=e.charAt(p);if(h){var v=n(r);return l<0?(c.push(v),c):((u=o[l]).children.push(v),c)}if(f&&(l++,\"tag\"===(a=n(r)).type&&t.components[a.name]&&(a.type=\"component\",m=!0),a.voidElement||m||!d||\"<\"===d||a.children.push({type:\"text\",content:e.slice(p,e.indexOf(\"<\",p))}),0===l&&c.push(a),(u=o[l-1])&&u.children.push(a),o[l]=a),(!f||a.voidElement)&&(l>-1&&(a.voidElement||a.name===r.slice(2,-1))&&(l--,a=-1===l?c:o[l]),!m&&\"<\"!==d&&d)){u=-1===l?c:o[l].children;var x=e.indexOf(\"<\",p),g=e.slice(p,-1===x?void 0:x);i.test(g)&&(g=\" \"),(x>-1&&l+u.length>=0||\" \"!==g)&&u.push({type:\"text\",content:g})}}),c},stringify:function(e){return e.reduce(function(e,t){return e+a(\"\",t)},\"\")}};export default c;\n//# sourceMappingURL=html-parse-stringify.module.js.map\n","export const warn = (...args) => {\n  if (console?.warn) {\n    if (isString(args[0])) args[0] = `react-i18next:: ${args[0]}`;\n    console.warn(...args);\n  }\n};\nconst alreadyWarned = {};\nexport const warnOnce = (...args) => {\n  if (isString(args[0]) && alreadyWarned[args[0]]) return;\n  if (isString(args[0])) alreadyWarned[args[0]] = new Date();\n  warn(...args);\n};\nconst loadedClb = (i18n, cb) => () => {\n  if (i18n.isInitialized) {\n    cb();\n  } else {\n    const initialized = () => {\n      setTimeout(() => {\n        i18n.off('initialized', initialized);\n      }, 0);\n      cb();\n    };\n    i18n.on('initialized', initialized);\n  }\n};\nexport const loadNamespaces = (i18n, ns, cb) => {\n  i18n.loadNamespaces(ns, loadedClb(i18n, cb));\n};\nexport const loadLanguages = (i18n, lng, ns, cb) => {\n  if (isString(ns)) ns = [ns];\n  ns.forEach(n => {\n    if (i18n.options.ns.indexOf(n) < 0) i18n.options.ns.push(n);\n  });\n  i18n.loadLanguages(lng, loadedClb(i18n, cb));\n};\nexport const hasLoadedNamespace = (ns, i18n, options = {}) => {\n  if (!i18n.languages || !i18n.languages.length) {\n    warnOnce('i18n.languages were undefined or empty', i18n.languages);\n    return true;\n  }\n  return i18n.hasLoadedNamespace(ns, {\n    lng: options.lng,\n    precheck: (i18nInstance, loadNotPending) => {\n      if (options.bindI18n?.indexOf('languageChanging') > -1 && i18nInstance.services.backendConnector.backend && i18nInstance.isLanguageChangingTo && !loadNotPending(i18nInstance.isLanguageChangingTo, ns)) return false;\n    }\n  });\n};\nexport const getDisplayName = Component => Component.displayName || Component.name || (isString(Component) && Component.length > 0 ? Component : 'Unknown');\nexport const isString = obj => typeof obj === 'string';\nexport const isObject = obj => typeof obj === 'object' && obj !== null;","const matchHtmlEntity = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g;\nconst htmlEntities = {\n  '&amp;': '&',\n  '&#38;': '&',\n  '&lt;': '<',\n  '&#60;': '<',\n  '&gt;': '>',\n  '&#62;': '>',\n  '&apos;': \"'\",\n  '&#39;': \"'\",\n  '&quot;': '\"',\n  '&#34;': '\"',\n  '&nbsp;': ' ',\n  '&#160;': ' ',\n  '&copy;': '',\n  '&#169;': '',\n  '&reg;': '',\n  '&#174;': '',\n  '&hellip;': '',\n  '&#8230;': '',\n  '&#x2F;': '/',\n  '&#47;': '/'\n};\nconst unescapeHtmlEntity = m => htmlEntities[m];\nexport const unescape = text => text.replace(matchHtmlEntity, unescapeHtmlEntity);","import { unescape } from './unescape.js';\nlet defaultOptions = {\n  bindI18n: 'languageChanged',\n  bindI18nStore: '',\n  transEmptyNodeValue: '',\n  transSupportBasicHtmlNodes: true,\n  transWrapTextNodes: '',\n  transKeepBasicHtmlNodesFor: ['br', 'strong', 'i', 'p'],\n  useSuspense: true,\n  unescape\n};\nexport const setDefaults = (options = {}) => {\n  defaultOptions = {\n    ...defaultOptions,\n    ...options\n  };\n};\nexport const getDefaults = () => defaultOptions;","let i18nInstance;\nexport const setI18n = instance => {\n  i18nInstance = instance;\n};\nexport const getI18n = () => i18nInstance;","import { setDefaults } from './defaults.js';\nimport { setI18n } from './i18nInstance.js';\nexport const initReactI18next = {\n  type: '3rdParty',\n  init(instance) {\n    setDefaults(instance.options.react);\n    setI18n(instance);\n  }\n};","import { createContext } from 'react';\nimport { getDefaults, setDefaults } from './defaults.js';\nimport { getI18n, setI18n } from './i18nInstance.js';\nimport { initReactI18next } from './initReactI18next.js';\nexport { getDefaults, setDefaults, getI18n, setI18n, initReactI18next };\nexport const I18nContext = createContext();\nexport class ReportNamespaces {\n  constructor() {\n    this.usedNamespaces = {};\n  }\n  addUsedNamespaces(namespaces) {\n    namespaces.forEach(ns => {\n      this.usedNamespaces[ns] ??= true;\n    });\n  }\n  getUsedNamespaces() {\n    return Object.keys(this.usedNamespaces);\n  }\n}\nexport const composeInitialProps = ForComponent => async ctx => {\n  const componentsInitialProps = (await ForComponent.getInitialProps?.(ctx)) ?? {};\n  const i18nInitialProps = getInitialProps();\n  return {\n    ...componentsInitialProps,\n    ...i18nInitialProps\n  };\n};\nexport const getInitialProps = () => {\n  const i18n = getI18n();\n  const namespaces = i18n.reportNamespaces?.getUsedNamespaces() ?? [];\n  const ret = {};\n  const initialI18nStore = {};\n  i18n.languages.forEach(l => {\n    initialI18nStore[l] = {};\n    namespaces.forEach(ns => {\n      initialI18nStore[l][ns] = i18n.getResourceBundle(l, ns) || {};\n    });\n  });\n  ret.initialI18nStore = initialI18nStore;\n  ret.initialLanguage = i18n.language;\n  return ret;\n};","import { useState, useEffect, useContext, useRef, useCallback } from 'react';\nimport { getI18n, getDefaults, ReportNamespaces, I18nContext } from './context.js';\nimport { warnOnce, loadNamespaces, loadLanguages, hasLoadedNamespace, isString, isObject } from './utils.js';\nconst usePrevious = (value, ignore) => {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = ignore ? ref.current : value;\n  }, [value, ignore]);\n  return ref.current;\n};\nconst alwaysNewT = (i18n, language, namespace, keyPrefix) => i18n.getFixedT(language, namespace, keyPrefix);\nconst useMemoizedT = (i18n, language, namespace, keyPrefix) => useCallback(alwaysNewT(i18n, language, namespace, keyPrefix), [i18n, language, namespace, keyPrefix]);\nexport const useTranslation = (ns, props = {}) => {\n  const {\n    i18n: i18nFromProps\n  } = props;\n  const {\n    i18n: i18nFromContext,\n    defaultNS: defaultNSFromContext\n  } = useContext(I18nContext) || {};\n  const i18n = i18nFromProps || i18nFromContext || getI18n();\n  if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new ReportNamespaces();\n  if (!i18n) {\n    warnOnce('You will need to pass in an i18next instance by using initReactI18next');\n    const notReadyT = (k, optsOrDefaultValue) => {\n      if (isString(optsOrDefaultValue)) return optsOrDefaultValue;\n      if (isObject(optsOrDefaultValue) && isString(optsOrDefaultValue.defaultValue)) return optsOrDefaultValue.defaultValue;\n      return Array.isArray(k) ? k[k.length - 1] : k;\n    };\n    const retNotReady = [notReadyT, {}, false];\n    retNotReady.t = notReadyT;\n    retNotReady.i18n = {};\n    retNotReady.ready = false;\n    return retNotReady;\n  }\n  if (i18n.options.react?.wait) warnOnce('It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.');\n  const i18nOptions = {\n    ...getDefaults(),\n    ...i18n.options.react,\n    ...props\n  };\n  const {\n    useSuspense,\n    keyPrefix\n  } = i18nOptions;\n  let namespaces = ns || defaultNSFromContext || i18n.options?.defaultNS;\n  namespaces = isString(namespaces) ? [namespaces] : namespaces || ['translation'];\n  i18n.reportNamespaces.addUsedNamespaces?.(namespaces);\n  const ready = (i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every(n => hasLoadedNamespace(n, i18n, i18nOptions));\n  const memoGetT = useMemoizedT(i18n, props.lng || null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);\n  const getT = () => memoGetT;\n  const getNewT = () => alwaysNewT(i18n, props.lng || null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);\n  const [t, setT] = useState(getT);\n  let joinedNS = namespaces.join();\n  if (props.lng) joinedNS = `${props.lng}${joinedNS}`;\n  const previousJoinedNS = usePrevious(joinedNS);\n  const isMounted = useRef(true);\n  useEffect(() => {\n    const {\n      bindI18n,\n      bindI18nStore\n    } = i18nOptions;\n    isMounted.current = true;\n    if (!ready && !useSuspense) {\n      if (props.lng) {\n        loadLanguages(i18n, props.lng, namespaces, () => {\n          if (isMounted.current) setT(getNewT);\n        });\n      } else {\n        loadNamespaces(i18n, namespaces, () => {\n          if (isMounted.current) setT(getNewT);\n        });\n      }\n    }\n    if (ready && previousJoinedNS && previousJoinedNS !== joinedNS && isMounted.current) {\n      setT(getNewT);\n    }\n    const boundReset = () => {\n      if (isMounted.current) setT(getNewT);\n    };\n    if (bindI18n) i18n?.on(bindI18n, boundReset);\n    if (bindI18nStore) i18n?.store.on(bindI18nStore, boundReset);\n    return () => {\n      isMounted.current = false;\n      if (i18n) bindI18n?.split(' ').forEach(e => i18n.off(e, boundReset));\n      if (bindI18nStore && i18n) bindI18nStore.split(' ').forEach(e => i18n.store.off(e, boundReset));\n    };\n  }, [i18n, joinedNS]);\n  useEffect(() => {\n    if (isMounted.current && ready) {\n      setT(getT);\n    }\n  }, [i18n, keyPrefix, ready]);\n  const ret = [t, i18n, ready];\n  ret.t = t;\n  ret.i18n = i18n;\n  ret.ready = ready;\n  if (ready) return ret;\n  if (!ready && !useSuspense) return ret;\n  throw new Promise(resolve => {\n    if (props.lng) {\n      loadLanguages(i18n, props.lng, namespaces, () => resolve());\n    } else {\n      loadNamespaces(i18n, namespaces, () => resolve());\n    }\n  });\n};","import { HTMLAttributes } from 'react';\n\n/**\n * App Settings\n */\nexport interface AppSettings {}\n\n/**\n * Language\n */\nexport const enum Language {\n  DE = 'de',\n  EN = 'en',\n  ES = 'es',\n  FR = 'fr',\n  ZH = 'zh',\n}\n\n/**\n * Supported Language\n */\nexport type SupportedLanguage = Language.EN | Language.ES | Language.FR | Language.DE | Language.ZH;\n\n/**\n * SVG\n */\nexport interface SvgProps extends HTMLAttributes<SVGElement> {\n  /**\n   * Size\n   *\n   * @type {number}\n   */\n  size: number;\n\n  /**\n   * Fill primary color\n   *\n   * @type {string}\n   */\n  fill?: string;\n\n  /**\n   * Fill secondary color\n   *\n   * @type {string}\n   */\n  fill2?: string;\n\n  /**\n   * Title\n   *\n   * @type {string}\n   */\n  title?: string;\n\n  /**\n   * Class Name\n   *\n   * @type {string}\n   */\n  className?: string;\n}\n","import { Language, SupportedLanguage } from '../types';\n\n/**\n * Default Language\n */\nexport const DEFAULT_LANGUAGE: SupportedLanguage = Language.EN;\n\n/**\n * App Information\n */\nexport const APP_INFO = {\n  name: 'Business Manager',\n  root: '/a/volkovlabs-manager-app',\n};\n","import de from './de.json';\nimport en from './en.json';\nimport es from './es.json';\nimport fr from './fr.json';\nimport zh from './zh.json';\n\n/**\n * Translation Resources\n */\nexport const resources = {\n  /**\n   * English\n   */\n  en: {\n    translation: en,\n  },\n\n  /**\n   * Spanish\n   */\n  es: {\n    translation: es,\n  },\n\n  /**\n   * French\n   */\n  fr: {\n    translation: fr,\n  },\n\n  /**\n   * German\n   */\n  de: {\n    translation: de,\n  },\n\n  /**\n   * Chinese\n   */\n  zh: {\n    translation: zh,\n  },\n} as const;\n","import i18next from 'i18next';\nimport { initReactI18next } from 'react-i18next';\n\nimport { getUserLanguage } from '../utils';\nimport { resources } from './translations';\n\n/**\n * Default Namespace\n */\nexport const defaultNamespace = 'translation';\n\n/**\n * Init i18next\n */\ni18next.use(initReactI18next).init({\n  lng: getUserLanguage(),\n  debug: false,\n  resources,\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  defaultNS: defaultNamespace,\n});\n\n/**\n * I18Next instance\n */\nexport { i18next };\n","import { config } from '@grafana/runtime';\n\nimport { DEFAULT_LANGUAGE } from '../constants';\nimport { Language, SupportedLanguage } from '../types';\n\n/**\n * Get User Language\n * @param fallback\n */\nexport const getUserLanguage = (fallback = DEFAULT_LANGUAGE): SupportedLanguage => {\n  const locale = config?.bootData?.user?.language;\n  const lang = locale?.split('-')?.[0];\n\n  /**\n   * Validate supported languages\n   */\n  switch (lang) {\n    case Language.EN:\n    case Language.ES:\n    case Language.FR:\n    case Language.DE:\n    case Language.ZH: {\n      return lang;\n    }\n\n    default: {\n      return fallback;\n    }\n  }\n};\n","/**\n * Action Type\n */\nexport enum ActionType {\n  REQUEST = 'request',\n\n  /**\n   * Custom for testing purpose\n   */\n  CUSTOM = 'custom',\n}\n\n/**\n * Action Method\n */\nexport enum ActionMethod {\n  POST = 'POST',\n}\n\n/**\n * Action Base\n */\ninterface ActionBase {\n  /**\n   * ID\n   *\n   * @type {string}\n   */\n  id: string;\n\n  /**\n   * Title\n   *\n   * @type {string}\n   */\n  title: string;\n\n  /**\n   * Type\n   *\n   * @type {ActionType}\n   */\n  type: ActionType;\n\n  /**\n   * Is Default\n   *\n   * @type {boolean}\n   */\n  isDefault: boolean;\n\n  /**\n   * Use For\n   *\n   * @type {string[]}\n   */\n  useFor?: string[];\n\n  /**\n   * Use For By Default\n   *\n   * @type {string[]}\n   */\n  useForByDefault?: string[];\n\n  /**\n   * Message\n   *\n   * @type {string}\n   */\n  message: string;\n}\n\n/**\n * Action Request Header\n */\nexport interface ActionRequestHeader {\n  /**\n   * Key\n   *\n   * @type {string}\n   */\n  key: string;\n\n  /**\n   * Value\n   *\n   * @type {string}\n   */\n  value: string;\n}\n\n/**\n * Action Request Options\n */\nexport interface ActionRequestOptions {\n  /**\n   * URL\n   *\n   * @type {string}\n   */\n  url: string;\n\n  /**\n   * Headers\n   */\n  headers: ActionRequestHeader[];\n}\n\n/**\n * Action\n */\nexport type Action = ActionBase &\n  (\n    | {\n        type: ActionType.REQUEST;\n        options: ActionRequestOptions;\n      }\n    | { type: ActionType.CUSTOM; options: object }\n  );\n\n/**\n * Edit Action Data\n */\nexport interface EditActionData extends Omit<Action, 'useFor'> {}\n","/**\n * Evaluation Type\n */\nexport enum EvaluationType {\n  ANOMALY = 'anomaly',\n  PATTERN = 'pattern',\n  THRESHOLDS = 'thresholds',\n}\n\n/**\n * Alert Evaluation Apply Mode\n */\nexport enum AlertEvaluationApplyMode {\n  ALL = 'all',\n  LAST = 'last',\n  PERCENTAGE = 'percentage',\n}\n\n/**\n * Alert Variable Value\n */\nexport type AlertVariableValue = string | number | Array<string | number> | null;\n\n/**\n * Alert Variable\n */\nexport interface AlertVariable {\n  /**\n   * Name\n   *\n   * @type {string}\n   */\n  name: string;\n\n  /**\n   * Multi\n   *\n   * @type {boolean}\n   */\n  multi: boolean;\n\n  /**\n   * Allow custom value\n   *\n   * @type {boolean}\n   */\n  allowCustomValue?: boolean;\n\n  /**\n   * Order\n   *\n   * @type {number}\n   */\n  order: number;\n\n  /**\n   * Label\n   *\n   * @type {string}\n   */\n  label?: string;\n\n  /**\n   * Value\n   *\n   * @type {string[] | string}\n   */\n  value: AlertVariableValue;\n}\n\n/**\n * Alert Variable Option\n */\nexport interface AlertVariableOption {\n  /**\n   * Label\n   *\n   * @type {string}\n   */\n  label: string;\n\n  /**\n   * Value\n   *\n   * @type {string}\n   */\n  value: string | number;\n}\n\n/**\n * Alert Condition Base\n */\ninterface AlertConditionBase {\n  /**\n   * Id\n   *\n   * @type {string}\n   */\n  id: string;\n\n  /**\n   * Repeat variable\n   *\n   * @type {string | null}\n   */\n  repeat: string | null;\n}\n\n/**\n * Alert Evaluation\n */\nexport type AlertEvaluation = AlertEvaluationPattern | AlertEvaluationThresholds | { type: EvaluationType.ANOMALY };\n\n/**\n * Alert Condition Type\n */\nexport enum AlertConditionType {\n  GLOBAL = 'global',\n  ITEM = 'item',\n}\n\n/**\n * Alert Condition Global\n */\nexport interface AlertConditionGlobal extends AlertConditionBase {\n  /**\n   * Type\n   *\n   * @type {AlertConditionType}\n   */\n  type: AlertConditionType.GLOBAL;\n\n  /**\n   * Global variables\n   *\n   * @type {Record<string, AlertVariable>}\n   */\n  variables?: Record<string, AlertVariable>;\n\n  /**\n   * Evaluation Type\n   *\n   * @type {EvaluationType}\n   */\n  evaluationType: EvaluationType.THRESHOLDS | EvaluationType.ANOMALY | EvaluationType.PATTERN;\n\n  /**\n   * Evaluation\n   *\n   * @type {AlertEvaluation}\n   */\n  evaluation: AlertEvaluation;\n\n  /**\n   * Evaluation Apply\n   *\n   * @type {AlertEvaluationApply}\n   */\n  evaluationApply: AlertEvaluationApply;\n}\n\n/**\n * Alert Condition Item\n */\nexport interface AlertConditionItem extends AlertConditionBase {\n  /**\n   * Type\n   *\n   * @type {AlertConditionType}\n   */\n  type: AlertConditionType.ITEM;\n\n  /**\n   * Variables Override\n   *\n   * @type {Record<string, AlertVariableValue>}\n   */\n  variables?: Record<string, AlertVariableValue>;\n\n  /**\n   * Evaluation\n   *\n   * @type {Partial<AlertEvaluation>}\n   */\n  evaluation?: Partial<AlertEvaluation>;\n}\n\n/**\n * Alert Condition\n */\nexport type AlertCondition = AlertConditionGlobal | AlertConditionItem;\n\n/**\n * Alert Evaluation Pattern\n */\nexport interface AlertEvaluationPattern {\n  /**\n   * Type\n   *\n   * @type {EvaluationType}\n   */\n  type: EvaluationType.PATTERN;\n\n  /**\n   * Field\n   *\n   * @type {string}\n   */\n  field: string;\n\n  /**\n   * Pattern\n   *\n   * @type {string}\n   */\n  pattern: string;\n}\n\n/**\n * Alert Evaluation Thresholds\n */\nexport interface AlertEvaluationThresholds {\n  /**\n   * Type\n   *\n   * @type {EvaluationType}\n   */\n  type: EvaluationType.THRESHOLDS;\n\n  /**\n   * Allowable Colors\n   *\n   * @type {string[]}\n   */\n  colors: string[];\n}\n\n/**\n * Alert Evaluation Apply\n */\nexport type AlertEvaluationApply = {\n  /**\n   * Mode\n   *\n   * @type {AlertEvaluationApplyMode}\n   */\n  mode: AlertEvaluationApplyMode;\n\n  /**\n   * Percentage\n   *\n   * @type {number}\n   */\n  percentage: number;\n};\n","import { AlertCondition } from './alert-conditions';\n\n/**\n * Alert Status\n */\nexport enum AlertStatus {\n  ACTIVE = 'active',\n  PAUSED = 'paused',\n}\n\n/**\n * Alert Time Range Source\n */\nexport enum AlertTimeRangeSource {\n  CONFIGURED = 'configured',\n  DASHBOARD = 'dashboard',\n}\n\n/**\n * Alert Annotation Mode\n */\nexport enum AlertAnnotationMode {\n  PANEL = 'panel',\n  DASHBOARD = 'dashboard',\n  DISABLED = 'disabled',\n}\n\n/**\n * Alert State\n */\nexport enum AlertState {\n  SCHEDULED = 'scheduled',\n  OK = 'ok',\n  ALERTING = 'alerting',\n  ERROR = 'error',\n}\n\n/**\n * Alert Time Range\n */\nexport interface AlertTimeRange {\n  /**\n   * From\n   *\n   * @type {number}\n   */\n  from: number;\n\n  /**\n   * To\n   *\n   * @type {number}\n   */\n  to: number;\n}\n\n/**\n * Base Alert\n */\ninterface BaseAlert {\n  /**\n   * Id\n   *\n   * @type {string}\n   */\n  id: string;\n\n  /**\n   * Title\n   *\n   * @type {string}\n   */\n  title: string;\n\n  /**\n   * Dashboard ID\n   *\n   * @type {string}\n   */\n  dashboardId: string;\n\n  /**\n   * Panel ID\n   *\n   * @type {number}\n   */\n  panelId: number;\n\n  /**\n   * Schedule\n   *\n   * @type {string}\n   */\n  schedule: string;\n\n  /**\n   * Action Ids\n   *\n   * @type {string[]}\n   */\n  actionIds: string[];\n\n  /**\n   * Annotations\n   *\n   * @type {AlertAnnotationMode}\n   */\n  annotations: AlertAnnotationMode;\n\n  /**\n   * Status\n   *\n   * @type {AlertStatus}\n   */\n  status: AlertStatus;\n\n  /**\n   * Time Range Source\n   *\n   * @type {AlertTimeRangeSource}\n   */\n  timeRangeSource: AlertTimeRangeSource;\n\n  /**\n   * Time Range\n   *\n   * @type {AlertTimeRange}\n   */\n  timeRange?: AlertTimeRange;\n\n  /**\n   * State\n   *\n   * @type {AlertState}\n   */\n  state: AlertState;\n\n  /**\n   * Last Triggered\n   *\n   * @type {string | null}\n   */\n  lastTriggered: string | null;\n\n  /**\n   * Conditions\n   *\n   * @type {AlertCondition[]}\n   */\n  conditions: AlertCondition[];\n\n  /**\n   * State Start Date\n   *\n   * @type {string | null}\n   */\n  stateStartDate: string | null;\n}\n\n/**\n * Alert\n */\nexport type Alert = BaseAlert;\n\n/**\n * Edit Alert Data\n */\nexport interface EditAlertData\n  extends Omit<Alert, 'dashboardId' | 'panelId' | 'state' | 'lastTriggered' | 'stateStartDate'> {\n  dashboardId: Nullable<Alert['dashboardId']>;\n  panelId: Nullable<Alert['panelId']>;\n}\n\n/**\n * Alert With Info\n */\nexport type AlertWithInfo = Alert & {\n  /**\n   * Dashboard Title\n   *\n   * @type {string | null}\n   */\n  dashboardTitle: string | null;\n\n  /**\n   * Panel Title\n   *\n   * @type {string | null}\n   */\n  panelTitle: string | null;\n\n  /**\n   * Is Target Exists\n   *\n   * @type {boolean}\n   */\n  isTargetExists: boolean;\n};\n\n/**\n * Alert History\n */\nexport interface AlertHistory {\n  /**\n   * Id\n   *\n   * @type {string}\n   */\n  id: string;\n\n  /**\n   * Alert Id\n   *\n   * @type {string}\n   */\n  alertId: string;\n\n  /**\n   * Alert Title\n   *\n   * @type {string}\n   */\n  alertTitle: string;\n\n  /**\n   * Start Date\n   *\n   * @type {Date}\n   */\n  startDate: Date;\n\n  /**\n   * End Date\n   *\n   * @type {Date}\n   */\n  endDate: Date | null;\n\n  /**\n   * Event\n   *\n   * @type {string}\n   */\n  event: string;\n\n  /**\n   * Prev State\n   *\n   * @type {AlertState}\n   */\n  prevState: AlertState | 'none';\n\n  /**\n   * New State\n   *\n   * @type {AlertState}\n   */\n  newState: AlertState;\n\n  /**\n   * Duration ms\n   *\n   * @type {number}\n   */\n  duration: number;\n}\n\n/**\n * Threshold\n */\nexport interface Threshold {\n  /**\n   * Color\n   *\n   * @type {string}\n   */\n  color: string;\n\n  /**\n   * Value\n   *\n   * @type {number | null}\n   */\n  value: number | null;\n}\n","import { DataSourceJsonData } from '@grafana/data';\nimport { DataQuery, DataSourceRef } from '@grafana/schema';\n\nimport { Api } from '../api';\n\n/**\n * Data Source test status\n */\nexport enum DataSourceTestStatus {\n  SUCCESS = 'success',\n  ERROR = 'error',\n}\n\n/**\n * Query Request Type\n */\nexport enum QueryRequestType {\n  ALERT_HISTORY = 'alertHistory',\n  NONE = 'none',\n}\n\n/**\n * Query\n */\nexport interface Query extends DataQuery {\n  /**\n   * Request Type\n   *\n   * @type {QueryRequestType}\n   */\n  requestType?: QueryRequestType;\n\n  /**\n   * Alert Ids\n   *\n   * @type {string[]}\n   */\n  alertIds?: string[];\n}\n\n/**\n * Data Source Options\n */\nexport interface DataSourceOptions extends DataSourceJsonData {\n  /**\n   * URL\n   *\n   * @type {string}\n   */\n  url?: string;\n}\n\n/**\n * Secure JSON Data\n */\nexport interface SecureJsonData {\n  /**\n   * Token\n   *\n   * @type {string}\n   */\n  token?: string;\n}\n\n/**\n * Error Code\n */\nexport enum ErrorCode {\n  EMPTY_TOKEN = 'emptyToken',\n  INVALID_TOKEN = 'invalidToken',\n  LICENSE_VERIFICATION_FAILED = 'licenseVerificationFailed',\n  LIMIT_REACHED = 'limitReached',\n}\n\n/**\n * Error Response\n */\nexport interface ErrorResponse {\n  /**\n   * Code\n   *\n   * @type {ErrorCode}\n   */\n  code: ErrorCode;\n\n  /**\n   * Message\n   *\n   * @type {string}\n   */\n  message: string;\n}\n\n/**\n * Api Name\n */\nexport enum ApiName {\n  CREATE_ALERT = 'createAlert',\n  CREATE_ACTION = 'createAction',\n  DELETE_ALERT = 'deleteAlert',\n  DELETE_ACTION = 'deleteAction',\n  GET_ALERTS = 'getAlerts',\n  GET_HISTORY_EVENT = 'getHistoryEvent',\n  GET_HISTORY_EVENTS = 'getHistoryEvents',\n  GET_ACTIONS = 'getActions',\n  GET_DEFAULT_ACTION = 'getDefaultAction',\n  PING = 'ping',\n  UPDATE_ALERT = 'updateAlert',\n  UPDATE_ACTION = 'updateAction',\n  TEST_ACTION = 'testAction',\n  UPDATE_ALERT_STATUS = 'updateAlertStatus',\n  GET_LICENSE_INFO = 'getLicenseInfo',\n  GET_VARIABLE_OPTIONS = 'getVariableOptions',\n}\n\n/**\n * Data Source Ref for API\n */\nexport interface DataSourceApi extends DataSourceRef {\n  /**\n   * Api\n   */\n  api?: Api;\n}\n","import { FieldConfigSource, PanelModel, TypedVariableModel } from '@grafana/data';\n\n/**\n * Dashboard\n */\nexport interface Dashboard {\n  /**\n   * ID\n   *\n   * @type {number}\n   */\n  id: number;\n\n  /**\n   * Uid\n   *\n   * @type {string}\n   */\n  uid: string;\n\n  /**\n   * Title\n   *\n   * @type {string}\n   */\n  title: string;\n\n  /**\n   * Uri\n   *\n   * @type {string}\n   */\n  uri: string;\n\n  /**\n   * Type\n   *\n   * @type {'dash-db' | string}\n   */\n  type: 'dash-db' | string;\n}\n\n/**\n * Panel\n */\nexport interface Panel extends Omit<PanelModel, 'fieldConfig'> {\n  /**\n   * Repeat\n   *\n   * @type {string}\n   */\n  repeat?: string;\n\n  /**\n   * Field Config\n   *\n   * @type {FieldConfigSource}\n   */\n  fieldConfig?: FieldConfigSource;\n}\n\n/**\n * Dashboard Info\n */\nexport interface DashboardInfo extends Dashboard {\n  /**\n   * Panels\n   *\n   * @type {Panel[]}\n   */\n  panels: Panel[];\n\n  /**\n   * Time Range\n   */\n  time?: {\n    /**\n     * From\n     *\n     * @type {string}\n     */\n    from: string;\n\n    /**\n     * To\n     *\n     * @type {string}\n     */\n    to: string;\n  };\n\n  /**\n   * Templating\n   */\n  templating: {\n    /**\n     * List\n     *\n     * @type {TypedVariableModel[]}\n     */\n    list: TypedVariableModel[];\n  };\n}\n\n/**\n * User details\n */\nexport interface UserDetails {\n  /**\n   * User Id\n   *\n   * @type {number}\n   */\n  userId: number;\n\n  /**\n   * Login\n   *\n   * @type {string}\n   */\n  login: string;\n\n  /**\n   * Email\n   *\n   * @type {string}\n   */\n  email: string;\n}\n\n/**\n * Variable Type\n */\nexport enum VariableType {\n  QUERY = 'query',\n  CUSTOM = 'custom',\n  INTERVAL = 'interval',\n  DATASOURCE = 'datasource',\n  CONSTANT = 'constant',\n  TEXTBOX = 'textbox',\n}\n","import { SelectableValue } from '@grafana/data';\nimport { t } from 'i18next';\n\nimport { Query, QueryRequestType } from '../types';\n\n/**\n * Defaults for Query\n */\nexport const DEFAULT_QUERY: Partial<Query> = {\n  requestType: QueryRequestType.NONE,\n};\n\n/**\n * Request Type\n *\n * @type {SelectableValue[]}\n */\nexport const REQUEST_TYPE_OPTIONS: SelectableValue[] = [\n  {\n    label: t('engineDatasource.requestTypeOptions.none'),\n    value: QueryRequestType.NONE,\n  },\n  {\n    label: t('engineDatasource.requestTypeOptions.alertHistory'),\n    value: QueryRequestType.ALERT_HISTORY,\n  },\n];\n","/**\n * Tests Identifiers\n */\nexport const TEST_IDS = {\n  configEditor: {\n    fieldAccessToken: 'data-testid config-editor field-access-token',\n    fieldUrl: 'data-testid config-editor field-url',\n    root: 'data-testid config-editor',\n  },\n  queryEditor: {\n    fieldRequestType: 'data-testid query-editor field-request-type',\n  },\n};\n","import { t } from 'i18next';\n\nimport { ApiName, ErrorCode } from '../types';\n\n/**\n * Get Api Message\n * @param name\n * @param code\n */\nexport const getApiMessage = (name: ApiName, code?: ErrorCode): string => {\n  if (code === ErrorCode.LICENSE_VERIFICATION_FAILED) {\n    return t('api.licenseVerificationFailed');\n  }\n\n  if (code === ErrorCode.LIMIT_REACHED) {\n    return t('api.limitReached');\n  }\n\n  return t(`api.requestFailed`, { name: t(`api.names.${name}`) });\n};\n\n/**\n * Export constants to use in one import\n */\nexport { ApiName };\n","import { AlertErrorPayload, AlertPayload, AppEvents } from '@grafana/data';\nimport { getAppEvents } from '@grafana/runtime';\n\n/**\n * Events\n */\nconst appEvents = getAppEvents();\n\n/**\n * Success Notification\n */\nexport const notifySuccess = (payload: AlertPayload) =>\n  appEvents.publish({ type: AppEvents.alertSuccess.name, payload });\n\n/**\n * Error Notification\n */\nexport const notifyError = (payload: AlertErrorPayload) => {\n  appEvents.publish({ type: AppEvents.alertError.name, payload });\n};\n","import { Api } from './api';\n\n/**\n * Base Api\n */\nexport class BaseApi {\n  /**\n   * Constructor\n   */\n  constructor(protected readonly api: Api) {}\n}\n","import { FetchError, getBackendSrv } from '@grafana/runtime';\nimport { t } from 'i18next';\nimport { lastValueFrom } from 'rxjs';\n\nimport { Action, EditActionData, ErrorResponse } from '../types';\nimport { ApiName, getApiMessage, notifyError } from '../utils';\nimport { BaseApi } from './base';\n\n/**\n * Actions Api\n */\nexport class Actions extends BaseApi {\n  /**\n   * Get Actions\n   */\n  async getAll() {\n    const response = await lastValueFrom(\n      getBackendSrv().fetch<Action[]>({\n        url: `${this.api.instanceSettings.url}/actions`,\n        method: 'GET',\n      })\n    ).catch((e) => {\n      notifyError([t('api.error'), getApiMessage(ApiName.GET_ACTIONS)]);\n      throw e;\n    });\n\n    if (!response) {\n      return [];\n    }\n\n    return response.data;\n  }\n\n  /**\n   * Create action\n   */\n  async create<T extends EditActionData>({ id, ...action }: Exact<T, EditActionData>) {\n    const response = await lastValueFrom(\n      getBackendSrv().fetch<Action>({\n        url: `${this.api.instanceSettings.url}/actions`,\n        method: 'POST',\n        data: action,\n      })\n    ).catch((e: FetchError<ErrorResponse>) => {\n      notifyError([t('api.error'), getApiMessage(ApiName.CREATE_ACTION, e.data?.code ? e.data.code : undefined)]);\n      throw e;\n    });\n\n    return response.data;\n  }\n\n  /**\n   * Update Action\n   */\n  async update<T extends EditActionData>(id: string, { id: notUsedId, ...action }: Exact<T, EditActionData>) {\n    const response = await lastValueFrom(\n      getBackendSrv().fetch<Action>({\n        url: `${this.api.instanceSettings.url}/actions/${id}`,\n        method: 'PUT',\n        data: action,\n      })\n    ).catch((e: FetchError<ErrorResponse>) => {\n      notifyError([t('api.error'), getApiMessage(ApiName.UPDATE_ACTION, e.data?.code ? e.data.code : undefined)]);\n      throw e;\n    });\n\n    return response.data;\n  }\n\n  /**\n   * Delete action\n   * @param id\n   */\n  async delete(id: string) {\n    const response = await lastValueFrom(\n      getBackendSrv().fetch<Action>({\n        url: `${this.api.instanceSettings.url}/actions/${id}`,\n        method: 'DELETE',\n      })\n    ).catch((e: FetchError<ErrorResponse>) => {\n      notifyError([t('api.error'), getApiMessage(ApiName.DELETE_ACTION, e.data?.code ? e.data.code : undefined)]);\n      throw e;\n    });\n\n    return response.data;\n  }\n\n  /**\n   * Get Default Action\n   */\n  async getDefault() {\n    const response = await lastValueFrom(\n      getBackendSrv().fetch<Action>({\n        url: `${this.api.instanceSettings.url}/actions/default`,\n        method: 'GET',\n      })\n    ).catch(() => {});\n\n    if (!response) {\n      return null;\n    }\n\n    return response.data;\n  }\n\n  /**\n   * Test Action\n   */\n  async test<T extends EditActionData>({ id, ...action }: Exact<T, EditActionData>) {\n    const response = await lastValueFrom(\n      getBackendSrv().fetch<{ ok: boolean; message: string }>({\n        url: `${this.api.instanceSettings.url}/actions/test`,\n        method: 'POST',\n        data: action,\n      })\n    ).catch((e: FetchError<{ ok: boolean; message: string }>) => {\n      return e;\n    });\n\n    return response.data;\n  }\n}\n","import { FieldType, toDataFrame } from '@grafana/data';\nimport { FetchError, getBackendSrv } from '@grafana/runtime';\nimport { t } from 'i18next';\nimport { lastValueFrom } from 'rxjs';\n\nimport {\n  Alert,\n  AlertHistory,\n  AlertStatus,\n  AlertWithInfo,\n  DashboardInfo,\n  EditAlertData,\n  ErrorResponse,\n  Query,\n} from '../types';\nimport { ApiName, getApiMessage, notifyError } from '../utils';\nimport { BaseApi } from './base';\n\n/**\n * Alerts Api\n */\nexport class Alerts extends BaseApi {\n  /**\n   * Is Alert Target Exists\n   * @param alert\n   * @param dashboardInfo\n   */\n  static isAlertTargetExists(alert: Alert, dashboardInfo: DashboardInfo) {\n    const panel = dashboardInfo.panels.find((panel) => panel.id === alert.panelId);\n\n    return !!panel;\n  }\n\n  /**\n   * Get Alerts\n   */\n  async getAll(): Promise<AlertWithInfo[]> {\n    const response = await lastValueFrom(\n      getBackendSrv().fetch<Alert[]>({\n        url: `${this.api.instanceSettings.url}/alerts`,\n        method: 'GET',\n      })\n    ).catch((e) => {\n      notifyError([t('api.error'), getApiMessage(ApiName.GET_ALERTS)]);\n      throw e;\n    });\n\n    if (!response) {\n      return [];\n    }\n\n    /**\n     * Get Unique Dashboard Ids\n     */\n    const dashboardIds = new Set<string>();\n\n    response.data.forEach(({ dashboardId }) => dashboardIds.add(dashboardId));\n\n    /**\n     * Get Dashboards Info Map\n     */\n    const dashboardsInfo = await Promise.all(\n      Array.from(dashboardIds).map((dashboardId) => this.api.grafana.getDashboardInfo(dashboardId).catch(() => null))\n    );\n\n    /**\n     * Dashboards Info Map\n     */\n    const dashboardsInfoMap = dashboardsInfo.reduce((acc, dashboardInfo) => {\n      if (dashboardInfo) {\n        acc.set(dashboardInfo.uid, dashboardInfo);\n      }\n      return acc;\n    }, new Map<string, DashboardInfo>());\n\n    /**\n     * Get alert with addition info\n     */\n    return response.data.map((alert) => {\n      const dashboardInfo = dashboardsInfoMap.get(alert.dashboardId);\n\n      return {\n        ...alert,\n        dashboardTitle: dashboardInfo?.title || null,\n        panelTitle: dashboardInfo?.panels.find((panel) => panel.id === alert.panelId)?.title || null,\n        isTargetExists: dashboardInfo ? Alerts.isAlertTargetExists(alert, dashboardInfo) : false,\n      };\n    });\n  }\n\n  /**\n   * Create alert\n   */\n  async create<T extends EditAlertData>({ id, ...alert }: Exact<T, EditAlertData>) {\n    const response = await lastValueFrom(\n      getBackendSrv().fetch<Alert>({\n        url: `${this.api.instanceSettings.url}/alerts`,\n        method: 'POST',\n        data: alert,\n      })\n    ).catch((e: FetchError<ErrorResponse>) => {\n      notifyError([t('api.error'), getApiMessage(ApiName.CREATE_ALERT, e.data?.code ? e.data.code : undefined)]);\n      throw e;\n    });\n\n    return response.data;\n  }\n\n  /**\n   * Update alert\n   */\n  async update<T extends EditAlertData>(id: string, { id: notUsedId, ...alert }: Exact<T, EditAlertData>) {\n    const response = await lastValueFrom(\n      getBackendSrv().fetch<Alert>({\n        url: `${this.api.instanceSettings.url}/alerts/${id}`,\n        method: 'PUT',\n        data: alert,\n      })\n    ).catch((e: FetchError<ErrorResponse>) => {\n      notifyError([t('api.error'), getApiMessage(ApiName.UPDATE_ALERT, e.data?.code ? e.data.code : undefined)]);\n      throw e;\n    });\n\n    return response.data;\n  }\n\n  /**\n   * Update alert status\n   */\n  async updateStatus(id: string, status: AlertStatus) {\n    const response = await lastValueFrom(\n      getBackendSrv().fetch<Alert>({\n        url: `${this.api.instanceSettings.url}/alerts/${id}/status`,\n        method: 'PUT',\n        data: {\n          status,\n        },\n      })\n    ).catch((e: FetchError<ErrorResponse>) => {\n      notifyError([t('api.error'), getApiMessage(ApiName.UPDATE_ALERT_STATUS, e.data?.code ? e.data.code : undefined)]);\n      throw e;\n    });\n\n    return response.data;\n  }\n\n  /**\n   * Delete alert\n   * @param id\n   */\n  async delete(id: string) {\n    const response = await lastValueFrom(\n      getBackendSrv().fetch<Alert>({\n        url: `${this.api.instanceSettings.url}/alerts/${id}`,\n        method: 'DELETE',\n      })\n    ).catch((e: FetchError<ErrorResponse>) => {\n      notifyError([t('api.error'), getApiMessage(ApiName.DELETE_ALERT, e.data?.code ? e.data.code : undefined)]);\n      throw e;\n    });\n\n    return response.data;\n  }\n\n  /**\n   * Get History Events\n   * @param alertIds\n   */\n  private async getHistoryEvents(alertIds?: string[]): Promise<AlertHistory[]> {\n    const response = await lastValueFrom(\n      getBackendSrv().fetch<AlertHistory[]>({\n        url: `${this.api.instanceSettings.url}/alerts/history`,\n        method: 'GET',\n        params: {\n          ids: alertIds,\n        },\n      })\n    ).catch((e: FetchError<ErrorResponse>) => {\n      notifyError([t('api.error'), getApiMessage(ApiName.GET_HISTORY_EVENTS, e.data?.code ? e.data.code : undefined)]);\n      throw e;\n    });\n\n    return response.data || [];\n  }\n\n  /**\n   * Get Last History Event\n   * @param alertId\n   */\n  async getLastHistoryEvent(alertId: string): Promise<AlertHistory | null> {\n    const response = await lastValueFrom(\n      getBackendSrv().fetch<AlertHistory | null>({\n        url: `${this.api.instanceSettings.url}/alerts/${alertId}/history/last`,\n        method: 'GET',\n      })\n    ).catch((e: FetchError<ErrorResponse>) => {\n      notifyError([t('api.error'), getApiMessage(ApiName.GET_HISTORY_EVENT, e.data?.code ? e.data.code : undefined)]);\n      throw e;\n    });\n\n    return response.data || null;\n  }\n\n  /**\n   * Get History Events Frame\n   */\n  async getHistoryEventsFrame(query: Query) {\n    const historyEvents = await this.getHistoryEvents(query.alertIds);\n\n    /**\n     * Values Map\n     */\n    const valuesMap = Object.keys(historyEvents[0] || {}).reduce(\n      (acc, key) => ({\n        ...acc,\n        [key as keyof AlertHistory]: [],\n      }),\n      {} as {\n        id: Array<AlertHistory['id']>;\n        alertId: Array<AlertHistory['alertId']>;\n        alertTitle: Array<AlertHistory['alertTitle']>;\n        duration: Array<AlertHistory['duration']>;\n        event: Array<AlertHistory['event']>;\n        prevState: Array<AlertHistory['prevState']>;\n        newState: Array<AlertHistory['newState']>;\n        startDate: Array<AlertHistory['startDate']>;\n        endDate: Array<AlertHistory['endDate']>;\n      }\n    );\n\n    historyEvents.forEach((history) => {\n      valuesMap.id.push(history.id);\n      valuesMap.alertId.push(history.alertId);\n      valuesMap.alertTitle.push(history.alertTitle);\n      valuesMap.duration.push(history.duration);\n      valuesMap.event.push(history.event);\n      valuesMap.prevState.push(history.prevState);\n      valuesMap.newState.push(history.newState);\n      valuesMap.startDate.push(history.startDate);\n      valuesMap.endDate.push(history.endDate);\n    });\n\n    return toDataFrame({\n      refId: query.refId,\n      fields: [\n        {\n          name: 'id',\n          type: FieldType.string,\n          values: valuesMap.id,\n        },\n        {\n          name: 'alertId',\n          type: FieldType.string,\n          values: valuesMap.alertId,\n        },\n        {\n          name: 'alertTitle',\n          type: FieldType.string,\n          values: valuesMap.alertTitle,\n        },\n        {\n          name: 'duration',\n          type: FieldType.number,\n          values: valuesMap.duration,\n        },\n        {\n          name: 'event',\n          type: FieldType.string,\n          values: valuesMap.event,\n        },\n        {\n          name: 'prevState',\n          type: FieldType.string,\n          values: valuesMap.prevState,\n        },\n        {\n          name: 'newState',\n          type: FieldType.string,\n          values: valuesMap.newState,\n        },\n        {\n          name: 'startDate',\n          type: FieldType.time,\n          values: valuesMap.startDate,\n        },\n        {\n          name: 'endDate',\n          type: FieldType.time,\n          values: valuesMap.endDate,\n        },\n      ],\n    });\n  }\n}\n","import { getBackendSrv } from '@grafana/runtime';\nimport { lastValueFrom } from 'rxjs';\n\nimport { AlertTimeRange, AlertVariableOption, Dashboard, DashboardInfo, UserDetails } from '../types';\nimport { BaseApi } from './base';\n\n/**\n * Grafana Api\n */\nexport class Grafana extends BaseApi {\n  async getDashboards() {\n    const response = await lastValueFrom(\n      getBackendSrv().fetch<Dashboard[]>({\n        url: `${this.api.instanceSettings.url}/grafana/search`,\n        method: 'GET',\n        params: {\n          limit: 1000,\n        },\n      })\n    ).catch(() => {});\n\n    if (!response) {\n      return [];\n    }\n\n    return response.data.filter((dashboard) => dashboard.type === 'dash-db');\n  }\n\n  async getDashboardInfo(id: string) {\n    const response = await lastValueFrom(\n      getBackendSrv().fetch<DashboardInfo>({\n        url: `${this.api.instanceSettings.url}/grafana/dashboards/uid/${id}`,\n        method: 'GET',\n      })\n    ).catch(() => {});\n\n    if (!response) {\n      return null;\n    }\n\n    return response.data;\n  }\n\n  async getVariableOptions(\n    dashboardId: string,\n    variables: Record<string, string | string[]>,\n    timeRange?: AlertTimeRange\n  ): Promise<Record<string, AlertVariableOption[]>> {\n    const response = await lastValueFrom(\n      getBackendSrv().fetch<{ options: Record<string, AlertVariableOption | AlertVariableOption[]> }>({\n        url: `${this.api.instanceSettings.url}/grafana/variables/load`,\n        method: 'POST',\n        data: {\n          dashboardId,\n          variables,\n          timeRange,\n        },\n      })\n    );\n\n    const { options } = response.data;\n\n    return Object.entries(options).reduce(\n      (acc, [name, value]) => ({\n        ...acc,\n        [name]: Array.isArray(value) ? value : [value],\n      }),\n      {} as Record<string, AlertVariableOption[]>\n    );\n  }\n\n  async getOrgUsers(): Promise<UserDetails[]> {\n    const response = await lastValueFrom(\n      getBackendSrv().fetch<UserDetails[]>({\n        url: `${this.api.instanceSettings.url}/grafana/org/users`,\n        method: 'GET',\n      })\n    ).catch(() => {});\n\n    if (!response) {\n      return [];\n    }\n\n    return response.data;\n  }\n}\n","import { ApiName, notifyError } from '@bi/volkovlabs-engine-datasource';\nimport { LicenseInfo } from '@bi/volkovlabs-engine-datasource/types/license';\nimport { getApiMessage } from '@bi/volkovlabs-engine-datasource/utils';\nimport { getBackendSrv } from '@grafana/runtime';\nimport { t } from 'i18next';\nimport { lastValueFrom } from 'rxjs';\n\nimport { BaseApi } from './base';\n\n/**\n * License Api\n */\nexport class License extends BaseApi {\n  /**\n   * Get license info\n   */\n  async get() {\n    const response = await lastValueFrom(\n      getBackendSrv().fetch<LicenseInfo>({\n        url: `${this.api.instanceSettings.url}/license`,\n        method: 'GET',\n      })\n    ).catch((e) => {\n      notifyError([t('api.error'), getApiMessage(ApiName.GET_LICENSE_INFO)]);\n      throw e;\n    });\n\n    if (!response) {\n      return null;\n    }\n\n    return response.data;\n  }\n}\n","import { DataFrame, DataSourceInstanceSettings, FieldType, TimeRange, toDataFrame } from '@grafana/data';\nimport { FetchError, getBackendSrv } from '@grafana/runtime';\nimport { t } from 'i18next';\nimport { lastValueFrom } from 'rxjs';\n\nimport { ApiName, DataSourceOptions, ErrorResponse, Query, QueryRequestType } from '../types';\nimport { getApiMessage, notifyError } from '../utils';\nimport { Actions } from './actions';\nimport { Alerts } from './alerts';\nimport { Grafana } from './grafana';\nimport { License } from './license';\n\n/**\n * API\n */\nexport class Api {\n  /**\n   * Constructor\n   */\n  constructor(public instanceSettings: DataSourceInstanceSettings<DataSourceOptions>) {}\n\n  /**\n   * Alerts Api\n   */\n  alerts = new Alerts(this);\n\n  /**\n   * Grafana Api\n   */\n  grafana = new Grafana(this);\n\n  /**\n   * Actions Api\n   */\n  actions = new Actions(this);\n\n  /**\n   * License Api\n   */\n  license = new License(this);\n\n  /**\n   * Ping\n   */\n  async ping() {\n    const response = await lastValueFrom(\n      getBackendSrv().fetch<{\n        message: string;\n      }>({\n        method: 'GET',\n        url: `${this.instanceSettings.url}/ping`,\n      })\n    ).catch((e: FetchError<ErrorResponse>) => {\n      notifyError([t('api.error'), getApiMessage(ApiName.PING, e.data.code)]);\n    });\n\n    /**\n     * Check Response\n     */\n    if (!response || !response.data) {\n      return null;\n    }\n\n    /**\n     * Pong received\n     */\n    return response.data;\n  }\n\n  /**\n   * Get data\n   */\n  async getData(query: Query, range: TimeRange): Promise<DataFrame> {\n    if (query.requestType === QueryRequestType.ALERT_HISTORY) {\n      return this.alerts.getHistoryEventsFrame(query);\n    }\n\n    return toDataFrame({\n      refId: query.refId,\n      fields: [\n        { name: 'Time', values: [range.from, range.to], type: FieldType.time },\n        { name: 'Value', values: [1, 2], type: FieldType.number },\n      ],\n    });\n  }\n}\n","import { DataQueryRequest, DataQueryResponse, DataSourceApi, DataSourceInstanceSettings } from '@grafana/data';\nimport { t } from 'i18next';\n\nimport { Api } from '../api';\nimport { DataSourceOptions, DataSourceTestStatus, Query } from '../types';\n\n/**\n * Datasource\n */\nexport class DataSource extends DataSourceApi<Query, DataSourceOptions> {\n  /**\n   * Api\n   *\n   * @type {Api} api\n   */\n  api: Api;\n\n  /**\n   * Constructor\n   */\n  constructor(instanceSettings: DataSourceInstanceSettings<DataSourceOptions>) {\n    super(instanceSettings);\n    this.api = new Api(instanceSettings);\n  }\n\n  /**\n   * Query\n   */\n  async query(options: DataQueryRequest<Query>): Promise<DataQueryResponse> {\n    const { range } = options;\n\n    /**\n     * Process targets\n     */\n    const data = await Promise.all(options.targets.map((target) => this.api.getData(target, range)));\n\n    /**\n     * Return data\n     */\n    return { data };\n  }\n\n  /**\n   * Health Check\n   */\n  async testDatasource() {\n    /**\n     * Is Status Ok\n     */\n    const pong = await this.api.ping();\n\n    if (!pong) {\n      return {\n        status: DataSourceTestStatus.ERROR,\n        message: t('api.testDatasource.connectionFailed'),\n      };\n    }\n\n    /**\n     * Return\n     */\n    return {\n      status: DataSourceTestStatus.SUCCESS,\n      message: t('api.testDatasource.connected'),\n    };\n  }\n}\n","import '../i18n';\n\nimport { DataSourcePlugin } from '@grafana/data';\n\nimport { ConfigEditor, QueryEditor } from './components';\nimport { DataSource } from './datasource';\nimport { DataSourceOptions, Query } from './types';\n\n/**\n * Data Source Plugin\n */\nexport const plugin = new DataSourcePlugin<DataSource, Query, DataSourceOptions>(DataSource)\n  .setConfigEditor(ConfigEditor)\n  .setQueryEditor(QueryEditor);\n","import { DataSourcePluginOptionsEditorProps } from '@grafana/data';\nimport { FieldSet, InlineField, InlineFieldRow, Input } from '@grafana/ui';\nimport React, { ChangeEvent, useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { TEST_IDS } from '../../constants';\nimport { DataSourceOptions, SecureJsonData } from '../../types';\n\n/**\n * Editor Properties\n */\ninterface Props extends DataSourcePluginOptionsEditorProps<DataSourceOptions> {}\n\n/**\n * Config Editor\n */\nexport const ConfigEditor: React.FC<Props> = ({ options, onOptionsChange }) => {\n  /**\n   * Translation\n   */\n  const { t } = useTranslation();\n\n  /**\n   * URL Change\n   */\n  const onUrlChange = useCallback(\n    (event: ChangeEvent<HTMLInputElement>) => {\n      onOptionsChange({\n        ...options,\n        jsonData: {\n          ...options.jsonData,\n          url: event.target.value,\n        },\n      });\n    },\n    [onOptionsChange, options]\n  );\n\n  /**\n   * Token Change\n   * Secure fields only sent to the backend\n   */\n  const onTokenChange = useCallback(\n    (event: ChangeEvent<HTMLInputElement>) => {\n      onOptionsChange({\n        ...options,\n        secureJsonData: {\n          token: event.target.value,\n        },\n      });\n    },\n    [onOptionsChange, options]\n  );\n\n  const { jsonData, secureJsonFields } = options;\n  const secureJsonData = (options.secureJsonData || {}) as SecureJsonData;\n\n  return (\n    <FieldSet data-testid={TEST_IDS.configEditor.root}>\n      <InlineFieldRow>\n        <InlineField label={t('engineDatasource.configEditor.urlLabel')} labelWidth={14}>\n          <Input\n            type=\"text\"\n            value={jsonData.url}\n            width={40}\n            onChange={onUrlChange}\n            data-testid={TEST_IDS.configEditor.fieldUrl}\n          />\n        </InlineField>\n      </InlineFieldRow>\n\n      <InlineFieldRow>\n        <InlineField label={t('engineDatasource.configEditor.tokenLabel')} labelWidth={14} grow>\n          <Input\n            type=\"password\"\n            placeholder={secureJsonFields?.token ? t('engineDatasource.configEditor.configured') : ''}\n            value={secureJsonData.token ?? ''}\n            onChange={onTokenChange}\n            data-testid={TEST_IDS.configEditor.fieldAccessToken}\n          />\n        </InlineField>\n      </InlineFieldRow>\n    </FieldSet>\n  );\n};\n","import { QueryEditorProps, SelectableValue } from '@grafana/data';\nimport { InlineField, InlineFieldRow, Select } from '@grafana/ui';\nimport { defaults } from 'lodash';\nimport React, { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport { DEFAULT_QUERY, REQUEST_TYPE_OPTIONS, TEST_IDS } from '../../constants';\nimport { DataSource } from '../../datasource';\nimport { DataSourceOptions, Query, QueryRequestType } from '../../types';\n\n/**\n * Editor Properties\n */\ntype Props = QueryEditorProps<DataSource, Query, DataSourceOptions>;\n\n/**\n * Query Editor\n */\nexport const QueryEditor: React.FC<Props> = ({ query: rawQuery, onRunQuery, onChange }) => {\n  /**\n   * Translation\n   */\n  const { t } = useTranslation();\n\n  /**\n   * Request Type change\n   */\n  const onRequestTypeChange = useCallback(\n    async (item: SelectableValue<QueryRequestType>) => {\n      onChange({ ...rawQuery, requestType: item.value });\n      onRunQuery();\n    },\n    [onChange, onRunQuery, rawQuery]\n  );\n\n  /**\n   * Query with defaults\n   */\n  const query = defaults(rawQuery, DEFAULT_QUERY);\n\n  /**\n   * Render\n   */\n  return (\n    <>\n      <InlineFieldRow>\n        <InlineField grow label={t('engineDatasource.queryEditor.requestTypeLabel')} labelWidth={12}>\n          <Select\n            options={REQUEST_TYPE_OPTIONS}\n            value={query.requestType}\n            onChange={onRequestTypeChange}\n            data-testid={TEST_IDS.queryEditor.fieldRequestType}\n          />\n        </InlineField>\n      </InlineFieldRow>\n    </>\n  );\n};\n"],"names":["module","exports","__WEBPACK_EXTERNAL_MODULE__781__","__WEBPACK_EXTERNAL_MODULE__531__","__WEBPACK_EXTERNAL_MODULE__7__","__WEBPACK_EXTERNAL_MODULE__241__","__WEBPACK_EXTERNAL_MODULE__959__","__WEBPACK_EXTERNAL_MODULE__269__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","consoleLogger","type","log","args","this","output","warn","error","console","apply","Logger","constructor","concreteLogger","options","arguments","length","init","prefix","logger","debug","_len","Array","_key","forward","_len2","_key2","_len3","_key3","deprecate","_len4","_key4","lvl","debugOnly","create","moduleName","clone","baseLogger","EventEmitter","observers","on","events","listener","split","forEach","event","Map","numListeners","set","off","delete","emit","from","entries","_ref","observer","numTimesAdded","i","_ref2","defer","res","rej","promise","Promise","resolve","reject","makeString","object","lastOfPathSeparatorRegExp","cleanKey","indexOf","replace","canNotTraverseDeeper","getLastOfPath","path","Empty","stack","stackIndex","k","setPath","newValue","e","p","slice","last","getPath","deepExtend","target","source","overwrite","String","regexEscape","str","_entityMap","data","s","chars","looksLikeObjectPathRegExpCache","capacity","regExpMap","regExpQueue","getRegExp","pattern","regExpFromCache","regExpNew","RegExp","shift","push","deepFind","keySeparator","tokens","current","next","nextPath","j","getCleanedCode","code","ResourceStore","ns","defaultNS","super","ignoreJSONStructure","addNamespaces","removeNamespaces","index","splice","getResource","lng","isArray","result","join","addResource","silent","concat","addResources","resources","m","addResourceBundle","deep","skipCopy","pack","JSON","parse","stringify","removeResourceBundle","hasResourceBundle","getResourceBundle","compatibilityAPI","getDataByLanguage","hasLanguageSomeTranslations","keys","find","v","toJSON","postProcessor","processors","addPostProcessor","name","handle","translator","processor","process","checkedLoadedFor","Translator","services","t","copy","changeLanguage","language","exists","interpolation","resolved","extractFromKey","nsSeparator","namespaces","wouldCheckForNsInKey","seemsNaturalLanguage","userDefinedKeySeparator","userDefinedNsSeparator","possibleChars","filter","c","map","matched","test","ki","substring","looksLikeObjectPath","match","interpolator","nestingRegexp","parts","translate","lastKey","overloadTranslationOptionHandler","returnDetails","namespace","appendNamespaceToCIMode","toLowerCase","usedKey","exactUsedKey","usedLng","usedNS","usedParams","getUsedParamsDetails","resUsedKey","resExactUsedKey","resType","toString","joinArrays","handleAsObjectInI18nFormat","i18nFormat","handleAsObject","returnObjects","returnedObjectHandler","resTypeIsArray","newKeyToUse","deepKey","extendTranslation","usedDefault","needsPluralHandling","count","hasDefaultValue","defaultValueSuffix","pluralResolver","getSuffix","defaultValueSuffixOrdinalFallback","ordinal","needsZeroSuffixLookup","shouldUseIntlApi","defaultValue","pluralSeparator","isValidLookup","resForMissing","missingKeyNoValueFallbackToKey","updateMissing","fk","lngs","fallbackLngs","languageUtils","getFallbackCodes","fallbackLng","saveMissingTo","toResolveHierarchy","send","l","specificDefaultValue","defaultForMissing","missingKeyHandler","backendConnector","saveMissing","saveMissingPlurals","suffixes","getSuffixes","suffix","appendNamespaceToMissingKey","parseMissingKeyHandler","_this","defaultVariables","skipInterpolation","skipOnVariables","nestBef","nb","interpolate","na","nest","context","reset","postProcess","postProcessorNames","applyPostProcessor","postProcessPassResolved","i18nResolved","found","extracted","fallbackNS","needsContextHandling","codes","utils","hasLoadedNamespace","finalKeys","addLookupKeys","pluralSuffix","zeroSuffix","ordinalPrefix","contextKey","contextSeparator","possibleKey","pop","returnNull","returnEmptyString","resourceStore","optionsKeys","useOptionsReplaceForData","option","capitalize","string","charAt","toUpperCase","LanguageUtil","supportedLngs","getScriptPartFromCode","formatLanguageCode","getLanguagePartFromCode","specialCases","lowerCaseLng","part","cleanCode","isSupportedCode","load","nonExplicitSupportedLngs","getBestMatchFromCodes","cleanedLng","lngOnly","supportedLng","fallbacks","default","fallbackCode","fallbackCodes","addCode","fc","sets","nr","_rulesPluralsTypes","Number","nonIntlVersions","intlVersions","suffixesOrder","zero","one","two","few","many","other","PluralResolver","compatibilityJSON","includes","Intl","PluralRules","rules","numbers","plurals","createRules","pluralRulesCache","addRule","clearCache","getRule","cleanedCode","cacheKey","rule","err","needsPlural","resolvedOptions","pluralCategories","getPluralFormsOfKey","sort","pluralCategory1","pluralCategory2","pluralCategory","prepend","number","select","getSuffixRetroCompatible","idx","noAbs","Math","abs","simplifyPluralSuffix","returnSuffix","deepFindWithDefaults","defaultData","getPathWithDefaults","regexSafe","val","Interpolator","format","escapeValue","escape","escape$1","useRawValueToEscape","prefixEscaped","suffixEscaped","formatSeparator","unescapeSuffix","unescapePrefix","nestingPrefix","nestingPrefixEscaped","nestingSuffix","nestingSuffixEscaped","nestingOptionsSeparator","maxReplaces","alwaysFormat","resetRegExp","getOrResetRegExp","existingRegExp","lastIndex","regexp","regexpUnescape","replaces","handleFormat","interpolationkey","trim","f","missingInterpolationHandler","regex","safeValue","todo","exec","matchedVar","temp","clonedOptions","handleHasOptions","inheritedOptions","sep","optionsString","matchedSingleQuotes","matchedDoubleQuotes","formatters","doReduce","elem","reduce","createCachedFormatter","fn","cache","optForCache","formatParams","formatter","Formatter","formats","opt","NumberFormat","currency","style","datetime","DateTimeFormat","relativetime","RelativeTimeFormat","range","list","ListFormat","iOpts","add","addCached","findIndex","mem","formatName","formatOptions","formatStr","optStr","rest","trimmedKey","isNaN","parseInt","parseFormatStr","formatted","valOptions","locale","Connector","backend","store","waitingReads","maxParallelReads","readingCalls","maxRetries","retryTimeout","state","queue","queueLoad","languages","callback","toLoad","pending","toLoadLanguages","toLoadNamespaces","hasAllNamespaces","reload","pendingCount","loaded","errors","q","pushPath","removePending","done","loadedKeys","read","fcName","tried","wait","resolver","setTimeout","bind","then","catch","prepareLoading","loadOne","fallbackValue","isUpdate","clb","opts","initImmediate","preload","partialBundledLanguages","ret","tDescription","transformOptions","noop","I18n","inst","modules","external","getOwnPropertyNames","getPrototypeOf","isInitialized","isClone","isInitializing","defOpts","createClassOnDemand","ClassOrObject","lu","languageDetector","detection","deferred","finish","initializedStoreOnce","loadResources","usedCallback","append","resolvedLanguage","setResolvedLanguage","reloadResources","use","Error","li","lngInLngs","_this2","isLanguageChangingTo","setLngProps","setLng","cacheUserLanguage","async","detect","getFixedT","keyPrefix","_this3","fixedT","resultKey","setDefaultNamespace","lastLng","loadNotPending","loadState","precheck","preResult","loadNamespaces","loadLanguages","preloaded","newLngs","dir","createInstance","cloneInstance","forkResourceStore","mergedOptions","instance","alreadyWarned","Date","loadedClb","i18n","cb","initialized","matchHtmlEntity","htmlEntities","unescapeHtmlEntity","i18nInstance","defaultOptions","bindI18n","bindI18nStore","transEmptyNodeValue","transSupportBasicHtmlNodes","transWrapTextNodes","transKeepBasicHtmlNodesFor","useSuspense","unescape","text","initReactI18next","setDefaults","react","setI18n","createContext","ReportNamespaces","usedNamespaces","addUsedNamespaces","getUsedNamespaces","alwaysNewT","props","i18nFromProps","i18nFromContext","defaultNSFromContext","useContext","reportNamespaces","notReadyT","optsOrDefaultValue","retNotReady","ready","i18nOptions","every","memoGetT","useCallback","useMemoizedT","nsMode","getT","getNewT","setT","useState","joinedNS","previousJoinedNS","ignore","ref","useRef","useEffect","usePrevious","isMounted","boundReset","Language","DEFAULT_LANGUAGE","EN","en","translation","es","fr","de","zh","i18next","fallback","config","bootData","user","lang","ES","FR","DE","ZH","getUserLanguage","ActionType","ActionMethod","EvaluationType","AlertEvaluationApplyMode","AlertConditionType","AlertStatus","AlertTimeRangeSource","AlertAnnotationMode","AlertState","DataSourceTestStatus","QueryRequestType","ErrorCode","ApiName","VariableType","DEFAULT_QUERY","requestType","NONE","REQUEST_TYPE_OPTIONS","label","ALERT_HISTORY","TEST_IDS","getApiMessage","LICENSE_VERIFICATION_FAILED","LIMIT_REACHED","appEvents","getAppEvents","notifyError","payload","publish","AppEvents","alertError","BaseApi","api","Actions","response","lastValueFrom","getBackendSrv","fetch","url","instanceSettings","method","GET_ACTIONS","id","action","CREATE_ACTION","notUsedId","UPDATE_ACTION","DELETE_ACTION","Alerts","isAlertTargetExists","alert","dashboardInfo","panels","panel","panelId","GET_ALERTS","dashboardIds","Set","dashboardId","dashboardsInfoMap","all","grafana","getDashboardInfo","acc","uid","dashboardTitle","title","panelTitle","isTargetExists","CREATE_ALERT","UPDATE_ALERT","status","UPDATE_ALERT_STATUS","DELETE_ALERT","alertIds","params","ids","GET_HISTORY_EVENTS","alertId","GET_HISTORY_EVENT","query","historyEvents","getHistoryEvents","valuesMap","history","alertTitle","duration","prevState","newState","startDate","endDate","toDataFrame","refId","fields","FieldType","values","time","Grafana","getDashboards","limit","dashboard","getVariableOptions","variables","timeRange","getOrgUsers","License","GET_LICENSE_INFO","Api","PING","alerts","getHistoryEventsFrame","to","actions","license","DataSource","DataSourceApi","targets","getData","ping","SUCCESS","message","ERROR","plugin","DataSourcePlugin","setConfigEditor","onOptionsChange","useTranslation","onUrlChange","jsonData","onTokenChange","secureJsonData","token","secureJsonFields","FieldSet","data-testid","InlineFieldRow","InlineField","labelWidth","Input","width","onChange","grow","placeholder","setQueryEditor","rawQuery","onRunQuery","onRequestTypeChange","item","defaults","Select"],"sourceRoot":""}