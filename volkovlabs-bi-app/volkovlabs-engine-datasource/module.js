define(["react","@grafana/runtime","@grafana/data","@grafana/ui","rxjs"],((e,t,n,s,o)=>(()=>{var r={304:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},305:e=>{"use strict";e.exports=n},545:e=>{"use strict";e.exports=t},388:e=>{"use strict";e.exports=s},650:t=>{"use strict";t.exports=e},177:e=>{"use strict";e.exports=o}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return r[e](n,n.exports,a),n.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};return(()=>{"use strict";a.r(l),a.d(l,{plugin:()=>ze});const e={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class t{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||e,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,s){return s&&!this.debug?null:("string"==typeof e[0]&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new t(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new t(this.logger,e)}}var n=new t;class s{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]=this.observers[e]||[],this.observers[e].push(t)})),this}off(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((e=>e!==t)):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];this.observers[e]&&[].concat(this.observers[e]).forEach((e=>{e(...n)})),this.observers["*"]&&[].concat(this.observers["*"]).forEach((t=>{t.apply(t,[e,...n])}))}}function o(){let e,t;const n=new Promise(((n,s)=>{e=n,t=s}));return n.resolve=e,n.reject=t,n}function r(e){return null==e?"":""+e}function i(e,t,n){function s(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function o(){return!e||"string"==typeof e}const r="string"!=typeof t?[].concat(t):t.split(".");for(;r.length>1;){if(o())return{};const t=s(r.shift());!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{}}return o()?{}:{obj:e,k:s(r.shift())}}function u(e,t,n){const{obj:s,k:o}=i(e,t,Object);s[o]=n}function c(e,t){const{obj:n,k:s}=i(e,t);if(n)return n[s]}function d(e,t,n){for(const s in t)"__proto__"!==s&&"constructor"!==s&&(s in e?"string"==typeof e[s]||e[s]instanceof String||"string"==typeof t[s]||t[s]instanceof String?n&&(e[s]=t[s]):d(e[s],t[s],n):e[s]=t[s]);return e}function h(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function g(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(e=>p[e])):e}const f=[" ",",","?","!",";"];function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const s=t.split(n);let o=e;for(let e=0;e<s.length;++e){if(!o)return;if("string"==typeof o[s[e]]&&e+1<s.length)return;if(void 0===o[s[e]]){let r=2,i=s.slice(e,e+r).join(n),a=o[i];for(;void 0===a&&s.length>e+r;)r++,i=s.slice(e,e+r).join(n),a=o[i];if(void 0===a)return;if(null===a)return null;if(t.endsWith(i)){if("string"==typeof a)return a;if(i&&"string"==typeof a[i])return a[i]}const l=s.slice(e+r).join(n);return l?m(a,l,n):void 0}o=o[s[e]]}return o}function b(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class v extends s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator,r=void 0!==s.ignoreJSONStructure?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let i=[e,t];n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(i=e.split("."));const a=c(this.data,i);return a||!r||"string"!=typeof n?a:m(this.data&&this.data[e]&&this.data[e][t],n,o)}addResource(e,t,n,s){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const r=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator;let i=[e,t];n&&(i=i.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(i=e.split("."),s=t,t=i[1]),this.addNamespaces(t),u(this.data,i,s),o.silent||this.emit("added",e,t,n,s)}addResources(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const s in n)"string"!=typeof n[s]&&"[object Array]"!==Object.prototype.toString.apply(n[s])||this.addResource(e,t,s,n[s],{silent:!0});s.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,s,o){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},i=[e,t];e.indexOf(".")>-1&&(i=e.split("."),s=n,n=t,t=i[1]),this.addNamespaces(t);let a=c(this.data,i)||{};s?d(a,n,o):a={...a,...n},u(this.data,i,a),r.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var y={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,s,o){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,n,s,o))})),t}};const S={};class k extends s{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),function(e,t,n){["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach((e=>{t[e]&&(n[e]=t[e])}))}(0,e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=n.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const s=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let o=t.ns||this.options.defaultNS||[];const r=n&&e.indexOf(n)>-1,i=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";const s=f.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===s.length)return!0;const o=new RegExp(`(${s.map((e=>"?"===e?"\\?":e)).join("|")})`);let r=!o.test(e);if(!r){const t=e.indexOf(n);t>0&&!o.test(e.substring(0,t))&&(r=!0)}return r}(e,n,s));if(r&&!i){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:o};const r=e.split(n);(n!==s||n===s&&this.options.ns.indexOf(r[0])>-1)&&(o=r.shift()),e=r.join(s)}return"string"==typeof o&&(o=[o]),{key:e,namespaces:o}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const s=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:r,namespaces:i}=this.extractFromKey(e[e.length-1],t),a=i[i.length-1],l=t.lng||this.language,u=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(u){const e=t.nsSeparator||this.options.nsSeparator;return s?{res:`${a}${e}${r}`,usedKey:r,exactUsedKey:r,usedLng:l,usedNS:a,usedParams:this.getUsedParamsDetails(t)}:`${a}${e}${r}`}return s?{res:r,usedKey:r,exactUsedKey:r,usedLng:l,usedNS:a,usedParams:this.getUsedParamsDetails(t)}:r}const c=this.resolve(e,t);let d=c&&c.res;const h=c&&c.usedKey||r,p=c&&c.exactUsedKey||r,g=Object.prototype.toString.apply(d),f=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject;if(m&&d&&"string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d&&["[object Number]","[object Function]","[object RegExp]"].indexOf(g)<0&&("string"!=typeof f||"[object Array]"!==g)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,d,{...t,ns:i}):`key '${r} (${this.language})' returned an object instead of string.`;return s?(c.res=e,c.usedParams=this.getUsedParamsDetails(t),c):e}if(o){const e="[object Array]"===g,n=e?[]:{},s=e?p:h;for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e)){const r=`${s}${o}${e}`;n[e]=this.translate(r,{...t,joinArrays:!1,ns:i}),n[e]===r&&(n[e]=d[e])}d=n}}else if(m&&"string"==typeof f&&"[object Array]"===g)d=d.join(f),d&&(d=this.extendTranslation(d,e,t,n));else{let s=!1,i=!1;const u=void 0!==t.count&&"string"!=typeof t.count,h=k.hasDefaultValue(t),p=u?this.pluralResolver.getSuffix(l,t.count,t):"",g=t.ordinal&&u?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",f=t[`defaultValue${p}`]||t[`defaultValue${g}`]||t.defaultValue;!this.isValidLookup(d)&&h&&(s=!0,d=f),this.isValidLookup(d)||(i=!0,d=r);const m=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&i?void 0:d,b=h&&f!==d&&this.options.updateMissing;if(i||s||b){if(this.logger.log(b?"updateKey":"missingKey",l,a,r,b?f:d),o){const e=this.resolve(r,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const s=(e,n,s)=>{const o=h&&s!==d?s:m;this.options.missingKeyHandler?this.options.missingKeyHandler(e,a,n,o,b,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,a,n,o,b,t),this.emit("missingKey",e,a,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&u?e.forEach((e=>{this.pluralResolver.getSuffixes(e,t).forEach((n=>{s([e],r+n,t[`defaultValue${n}`]||f)}))})):s(e,r,f))}d=this.extendTranslation(d,e,t,c,n),i&&d===r&&this.options.appendNamespaceToMissingKey&&(d=`${a}:${r}`),(i||s)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${a}:${r}`:r,s?d:void 0):this.options.parseMissingKeyHandler(d))}return s?(c.res=d,c.usedParams=this.getUsedParamsDetails(t),c):d}extendTranslation(e,t,n,s,o){var r=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const i="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let a;if(i){const t=e.match(this.interpolator.nestingRegexp);a=t&&t.length}let l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),i){const t=e.match(this.interpolator.nestingRegexp);a<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&s&&s.res&&(n.lng=s.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,s=new Array(e),i=0;i<e;i++)s[i]=arguments[i];return o&&o[0]===s[0]&&!n.context?(r.logger.warn(`It seems you are nesting recursively key: ${s[0]} in key: ${t[0]}`),null):r.translate(...s,t)}),n)),n.interpolation&&this.interpolator.reset()}const i=n.postProcess||this.options.postProcess,a="string"==typeof i?[i]:i;return null!=e&&a&&a.length&&!1!==n.applyPostProcessor&&(e=y.handle(a,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:s,...n}:n,this)),e}resolve(e){let t,n,s,o,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const a=this.extractFromKey(e,i),l=a.key;n=l;let u=a.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const c=void 0!==i.count&&"string"!=typeof i.count,d=c&&!i.ordinal&&0===i.count&&this.pluralResolver.shouldUseIntlApi(),h=void 0!==i.context&&("string"==typeof i.context||"number"==typeof i.context)&&""!==i.context,p=i.lngs?i.lngs:this.languageUtils.toResolveHierarchy(i.lng||this.language,i.fallbackLng);u.forEach((e=>{this.isValidLookup(t)||(r=e,!S[`${p[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(r)&&(S[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${p.join(", ")}" won't get resolved as namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((n=>{if(this.isValidLookup(t))return;o=n;const r=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(r,l,n,e,i);else{let e;c&&(e=this.pluralResolver.getSuffix(n,i.count,i));const t=`${this.options.pluralSeparator}zero`,s=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(c&&(r.push(l+e),i.ordinal&&0===e.indexOf(s)&&r.push(l+e.replace(s,this.options.pluralSeparator)),d&&r.push(l+t)),h){const n=`${l}${this.options.contextSeparator}${i.context}`;r.push(n),c&&(r.push(n+e),i.ordinal&&0===e.indexOf(s)&&r.push(n+e.replace(s,this.options.pluralSeparator)),d&&r.push(n+t))}}let a;for(;a=r.pop();)this.isValidLookup(t)||(s=a,t=this.getResource(n,e,a,i))})))}))})),{res:t,usedKey:n,exactUsedKey:s,usedLng:o,usedNS:r}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,s):this.resourceStore.getResource(e,t,n,s)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&"string"!=typeof e.replace;let s=n?e.replace:e;if(n&&void 0!==e.count&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!n){s={...s};for(const e of t)delete s[e]}return s}static hasDefaultValue(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,12)&&void 0!==e[t])return!0;return!1}}function O(e){return e.charAt(0).toUpperCase()+e.slice(1)}class x{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=n.create("languageUtils")}getScriptPartFromCode(e){if(!(e=b(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=b(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if("string"==typeof e&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map((e=>e.toLowerCase())):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=O(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=O(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=O(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find((e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:0===e.indexOf(n)?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),s=[],o=e=>{e&&(this.isSupportedCode(e)?s.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),n.forEach((e=>{s.indexOf(e)<0&&o(this.formatLanguageCode(e))})),s}}let w=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],E={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};const L=["v1","v2","v3"],R=["v4"],P={zero:0,one:1,two:2,few:3,many:4,other:5};class T{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=n.create("pluralResolver"),this.options.compatibilityJSON&&!R.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){const e={};return w.forEach((t=>{t.lngs.forEach((n=>{e[n]={numbers:t.nr,plurals:E[t.fc]}}))})),e}()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(b(e),{type:t.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort(((e,t)=>P[e]-P[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):n.numbers.map((n=>this.getSuffix(e,n,t))):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=this.getRule(e,n);return s?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:this.getSuffixRetroCompatible(s,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let s=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===s?s="plural":1===s&&(s=""));const o=()=>this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString();return"v1"===this.options.compatibilityJSON?1===s?"":"number"==typeof s?`_plural_${s.toString()}`:o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!L.includes(this.options.compatibilityJSON)}}function N(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=function(e,t,n){const s=c(e,n);return void 0!==s?s:c(t,n)}(e,t,n);return!r&&o&&"string"==typeof n&&(r=m(e,n,s),void 0===r&&(r=m(t,n,s))),r}class C{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=n.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const t=e.interpolation;this.escape=void 0!==t.escape?t.escape:g,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?h(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?h(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?h(t.nestingPrefix):t.nestingPrefixEscaped||h("$t("),this.nestingSuffix=t.nestingSuffix?h(t.nestingSuffix):t.nestingSuffixEscaped||h(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const t=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(t,"g");const n=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(n,"g")}interpolate(e,t,n,s){let o,i,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}const c=e=>{if(e.indexOf(this.formatSeparator)<0){const o=N(t,l,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(o,void 0,n,{...s,...t,interpolationkey:e}):o}const o=e.split(this.formatSeparator),r=o.shift().trim(),i=o.join(this.formatSeparator).trim();return this.format(N(t,l,r,this.options.keySeparator,this.options.ignoreJSONStructure),i,n,{...s,...t,interpolationkey:r})};this.resetRegExp();const d=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,h=s&&s.interpolation&&void 0!==s.interpolation.skipOnVariables?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>u(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?u(this.escape(e)):u(e)}].forEach((t=>{for(a=0;o=t.regex.exec(e);){const n=o[1].trim();if(i=c(n),void 0===i)if("function"==typeof d){const t=d(e,o,s);i="string"==typeof t?t:""}else if(s&&Object.prototype.hasOwnProperty.call(s,n))i="";else{if(h){i=o[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),i=""}else"string"==typeof i||this.useRawValueToEscape||(i=r(i));const l=t.safeValue(i);if(e=e.replace(o[0],l),h?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=o[0].length):t.regex.lastIndex=0,a++,a>=this.maxReplaces)break}})),e}nest(e,t){let n,s,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function a(e,t){const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const s=e.split(new RegExp(`${n}[ ]*{`));let r=`{${s[1]}`;e=s[0],r=this.interpolate(r,o);const i=r.match(/'/g),a=r.match(/"/g);(i&&i.length%2==0&&!a||a.length%2!=0)&&(r=r.replace(/'/g,'"'));try{o=JSON.parse(r),t&&(o={...t,...o})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${r}`}return delete o.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){let l=[];o={...i},o=o.replace&&"string"!=typeof o.replace?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map((e=>e.trim()));n[1]=e.shift(),l=e,u=!0}if(s=t(a.call(this,n[1].trim(),o),o),s&&n[0]===e&&"string"!=typeof s)return s;"string"!=typeof s&&(s=r(s)),s||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),s=""),u&&(s=l.reduce(((e,t)=>this.format(e,t,i.lng,{...i,interpolationkey:n[1].trim()})),s.trim())),e=e.replace(n[0],s),this.regexp.lastIndex=0}return e}}function A(e){const t={};return function(n,s,o){const r=s+JSON.stringify(o);let i=t[r];return i||(i=e(b(s),o),t[r]=i),i(n)}}class D{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=n.create("formatter"),this.options=e,this.formats={number:A(((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)})),currency:A(((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)})),datetime:A(((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)})),relativetime:A(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")})),list:A(((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)}))},this.init(e)}init(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=A(t)}format(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.split(this.formatSeparator).reduce(((e,t)=>{const{formatName:o,formatOptions:r}=function(e){let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const s=e.split("(");t=s[0].toLowerCase().trim();const o=s[1].substring(0,s[1].length-1);"currency"===t&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):"relativetime"===t&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach((e=>{if(!e)return;const[t,...s]=e.split(":"),o=s.join(":").trim().replace(/^'+|'+$/g,"");n[t.trim()]||(n[t.trim()]=o),"false"===o&&(n[t.trim()]=!1),"true"===o&&(n[t.trim()]=!0),isNaN(o)||(n[t.trim()]=parseInt(o,10))}))}return{formatName:t,formatOptions:n}}(t);if(this.formats[o]){let t=e;try{const i=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},a=i.locale||i.lng||s.locale||s.lng||n;t=this.formats[o](e,a,{...r,...s,...i})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${o}`),e}),e)}}class j extends s{constructor(e,t,s){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=s,this.languageUtils=s.languageUtils,this.options=o,this.logger=n.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(s,o.backend,o)}queueLoad(e,t,n,s){const o={},r={},i={},a={};return e.forEach((e=>{let s=!0;t.forEach((t=>{const i=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[i]=2:this.state[i]<0||(1===this.state[i]?void 0===r[i]&&(r[i]=!0):(this.state[i]=1,s=!1,void 0===r[i]&&(r[i]=!0),void 0===o[i]&&(o[i]=!0),void 0===a[t]&&(a[t]=!0)))})),s||(i[e]=!0)})),(Object.keys(o).length||Object.keys(r).length)&&this.queue.push({pending:r,pendingCount:Object.keys(r).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(r),toLoadLanguages:Object.keys(i),toLoadNamespaces:Object.keys(a)}}loaded(e,t,n){const s=e.split("|"),o=s[0],r=s[1];t&&this.emit("failedLoading",o,r,t),n&&this.store.addResourceBundle(o,r,n),this.state[e]=t?-1:2;const a={};this.queue.forEach((n=>{!function(e,t,n,s){const{obj:o,k:r}=i(e,t,Object);o[r]=o[r]||[],o[r].push(n)}(n.loaded,[o],r),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{a[e]||(a[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,r=arguments.length>5?arguments[5]:void 0;if(!e.length)return r(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:s,wait:o,callback:r});this.readingCalls++;const i=(i,a)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}i&&a&&s<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,s+1,2*o,r)}),o):r(i,a)},a=this.backend[n].bind(this.backend);if(2!==a.length)return a(e,t,i);try{const n=a(e,t);n&&"function"==typeof n.then?n.then((e=>i(null,e))).catch(i):i(null,n)}catch(e){i(e)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);const o=this.queueLoad(e,t,n,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),s=n[0],o=n[1];this.read(s,o,"read",void 0,void 0,((n,r)=>{n&&this.logger.warn(`${t}loading namespace ${o} for language ${s} failed`,n),!n&&r&&this.logger.log(`${t}loaded namespace ${o} for language ${s}`,r),this.loaded(e,n,r)}))}saveMissing(e,t,n,s,o){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){const a={...r,isUpdate:o},l=this.backend.create.bind(this.backend);if(l.length<6)try{let o;o=5===l.length?l(e,t,n,s,a):l(e,t,n,s),o&&"function"==typeof o.then?o.then((e=>i(null,e))).catch(i):i(null,o)}catch(e){i(e)}else l(e,t,n,s,i,a)}e&&e[0]&&this.store.addResource(e[0],t,n,s)}}}function $(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:(e,t,n,s)=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function I(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function F(){}class B extends s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var s;if(super(),this.options=I(e),this.services={},this.logger=n,this.modules={external:[]},s=this,Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach((e=>{"function"==typeof s[e]&&(s[e]=s[e].bind(s))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(s=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=$();function i(e){return e?"function"==typeof e?new e:e:null}if(this.options={...r,...this.options,...I(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){let t;this.modules.logger?n.init(i(this.modules.logger),this.options):n.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=D);const s=new x(this.options);this.store=new v(this.options.resources,this.options);const o=this.services;o.logger=n,o.resourceStore=this.store,o.languageUtils=s,o.pluralResolver=new T(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(o.formatter=i(t),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new C(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new j(i(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];e.emit(t,...s)})),this.modules.languageDetector&&(o.languageDetector=i(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=i(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new k(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];e.emit(t,...s)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,s||(s=F),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const a=o(),l=()=>{const e=(e,t)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(t),s(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),a}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F;const n="string"==typeof e?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],s=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};n?s(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>s(e))),this.options.preload&&this.options.preload.forEach((e=>s(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const s=o();return e||(e=this.languages),t||(t=this.options.ns),n||(n=F),this.services.backendConnector.reload(e,t,(e=>{s.resolve(),n(e)})),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&y.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const s=o();this.emit("languageChanging",e);const r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},i=(e,o)=>{o?(r(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,s.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},a=t=>{e||t||!this.services.languageDetector||(t=[]);const n="string"==typeof t?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||r(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,(e=>{i(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),s}getFixedT(e,t,n){var s=this;const o=function(e,t){let r;if("object"!=typeof t){for(var i=arguments.length,a=new Array(i>2?i-2:0),l=2;l<i;l++)a[l-2]=arguments[l];r=s.options.overloadTranslationOptionHandler([e,t].concat(a))}else r={...t};r.lng=r.lng||o.lng,r.lngs=r.lngs||o.lngs,r.ns=r.ns||o.ns,r.keyPrefix=r.keyPrefix||n||o.keyPrefix;const u=s.options.keySeparator||".";let c;return c=r.keyPrefix&&Array.isArray(e)?e.map((e=>`${r.keyPrefix}${u}${e}`)):r.keyPrefix?`${r.keyPrefix}${u}${e}`:e,s.t(c,r)};return"string"==typeof e?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],s=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const r=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||2===n};if(t.precheck){const e=t.precheck(this,r);if(void 0!==e)return e}return!(!this.hasResourceBundle(n,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!r(n,e)||s&&!r(o,e)))}loadNamespaces(e,t){const n=o();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=o();"string"==typeof e&&(e=[e]);const s=this.options.preload||[],r=e.filter((e=>s.indexOf(e)<0));return r.length?(this.options.preload=s.concat(r),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new x($());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new B(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},o=new B(s);return void 0===e.debug&&void 0===e.prefix||(o.logger=o.logger.clone(e)),["store","services","language"].forEach((e=>{o[e]=this[e]})),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n&&(o.store=new v(this.store.data,s),o.services.resourceStore=o.store),o.translator=new k(o.services,s),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];o.emit(e,...n)})),o.init(s,t),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const U=B.createInstance();U.createInstance=B.createInstance,U.createInstance,U.dir,U.init,U.loadResources,U.reloadResources,U.use,U.changeLanguage,U.getFixedT;const V=U.t;U.exists,U.setDefaultNamespace,U.hasLoadedNamespace,U.loadNamespaces,U.loadLanguages;var M=a(650),W=a.n(M);a(304),Object.create(null);const _={};function K(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&_[t[0]]||("string"==typeof t[0]&&(_[t[0]]=new Date),function(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}(...t))}const H=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout((()=>{e.off("initialized",n)}),0),t()};e.on("initialized",n)}};function G(e,t,n){e.loadNamespaces(t,H(e,n))}function J(e,t,n,s){"string"==typeof n&&(n=[n]),n.forEach((t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)})),e.loadLanguages(t,H(e,s))}const z=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,q={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Y=e=>q[e];let Q,Z={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(z,Y)};const X={type:"3rdParty",init(e){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Z={...Z,...e}}(e.options.react),function(e){Q=e}(e)}},ee=(0,M.createContext)();class te{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach((e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)}))}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var ne,se=a(545);!function(e){e.DE="de",e.EN="en",e.ES="es",e.FR="fr",e.ZH="zh"}(ne||(ne={}));const oe=ne.EN,re=JSON.parse('{"config":{"description":"Business Intelligence App for Grafana.","updateButton":"Update Einstellungen"}}'),ie={en:{translation:JSON.parse('{"alert":{"annotationOptions":{"disabled":"Disabled","enabled":"Enabled"},"evaluationTypeOptions":{"anomaly":"Anomaly Detection","pattern":"Regex Pattern","thresholds":"Thresholds"},"state":{"alerting":"Alerting","error":"Error","ok":"OK","scheduled":"Scheduled"},"thresholdColorsOptions":{"green":"Green"},"timeRangeSourceOptions":{"configured":"Custom","dashboard":"From Dashboard"}},"alertingPanel":{"panel":{"alertOverview":{"actionLabel":"Action","annotationsLabel":"Annotations","closeButton":"Close","errorDetailsLabel":"Error Details","evaluation":{"fieldLabel":"Fields","patternLabel":"Pattern"},"evaluationLabel":"Evaluation","evaluationTypeLabel":"Type","invalidSchedule":"Invalid Cron Format","panelLabel":"Panel","panelOptions":{"untitled":"Untitled"},"removedPanel":"Removed Panel","saveButton":"Save","scheduleLabel":"Schedule","schedulePlaceholder":"Cron schedule, */5 * * * *","targetLabel":"Target","timeRange":{"from":"From","to":"To"},"timeRangeLabel":"Time Range","timeRangeSourceLabel":"Source","untitled":"Untitled","webhooksLabel":"Webhooks"},"alertsList":{"activateButton":"Start","addButton":"Add Rule","addDrawer":{"title":"Add Alert Rule"},"alertActivatedMessage":"Alert Rule \'{{name}}\' has been activated.","alertActivatedTitle":"Success","alertCreatedMessage":"Alert Rule \'{{name}}\' has been created.","alertCreatedTitle":"Success","alertDeletedMessage":"Alert Rule \'{{name}}\' has been deleted.","alertDeletedTitle":"Success","alertPausedMessage":"Alert Rule \'{{name}}\' has been paused.","alertPausedTitle":"Success","alertUpdatedMessage":"Alert Rule \'{{name}}\' has been updated.","alertUpdatedTitle":"Success","collapseAllButton":"Collapse All","deleteButton":"Delete","deleteConfirmModal":{"body":"Please confirm to delete Alert Rule \'{{name}}\'.","confirmButton":"Delete","confirmButtonLoading":"Deleting...","title":"Delete"},"editButton":"Edit","editDrawer":{"title":"Edit Alert Rule"},"expandAllButton":"Expand All","lastTriggeredDate":"Last Triggered at {{- date, datetime}}","noItemsMessage":"Please add one or more alert rules to start.","noItemsTitle":"Getting Started","noWebhooksMessage":"Please add webhooks to start working with alert rules.","overviewButton":"Details","overviewDrawer":{"title":"Alert Rule \'{{name}}\'"},"pauseButton":"Pause","removedDashboardTitle":"Dashboard removed","removedPanelTitle":"Panel removed","schedule":"Scheduled at {{schedule}}.","status":{"active":"Active","paused":"Paused"},"targetStatus":{"invalid":"Invalid","valid":"Valid"}},"editAlert":{"actionLabel":"Action","annotationsLabel":"Add Annotations","closeButton":"Close","dashboardLabel":"Dashboard","evaluation":{"fieldLabel":"Fields","fieldTooltip":"Regex expression. Example: title$|message$. If empty, will be applied to all fields","patternLabel":"Pattern","patternTooltip":"Regex expression. Example: warn|error"},"evaluationLabel":"Evaluation","evaluationTypeLabel":"Type","invalidSchedule":"Invalid Cron Format","noWebhooksError":"Please select at least one webhook or create default","panelLabel":"Panel","panelOptions":{"untitled":"Untitled"},"queryLabel":"Query","saveButton":"Save","scheduleLabel":"Schedule","schedulePlaceholder":"Cron schedule, */5 * * * *","targetLabel":"Target","thresholdColors":{"fieldLabel":"Allowable Colors","fieldTooltip":"Alert rule will be triggered on all thresholds which are not in a specific color range"},"timeRange":{"from":"From","to":"To"},"timeRangeLabel":"Time Range","timeRangeSourceLabel":"Source","titleLabel":"Title","webhooksLabel":"Webhooks","webhooksNoDefaultMessage":"Default Webhook doesn\'t exist","webhooksPlaceholder":"Default Webhook \'{{name}}\' will be used"},"tabs":{"alerts":"Alert Rules","webhooks":"Webhooks"},"webhookDetails":{"closeButton":"Close","defaultLabel":"Use by Default","isDefaultOptions":{"disabled":"Disabled","enabled":"Enabled"},"requestOptions":{"label":"Request","methodLabel":"Method","urlLabel":"URL"},"saveButton":"Save","testButton":"Test Connectivity","testErrorTitle":"Error","testProgressMessage":"Checking...","testProgressTitle":"Test Connectivity","testSuccessMessage":"Connected","testSuccessTitle":"Success","titleLabel":"Title","typeLabel":"Type"},"webhookType":{"custom":"Test","request":"HTTP Request"},"webhooksList":{"addButton":"Add Webhook","addDrawer":{"title":"Add Webhook"},"deleteButton":"Delete","deleteButtonDisabled":"Webhook is being used","deleteConfirmModal":{"body":"Please confirm to delete Webhook \'{{name}}\'.","confirmButton":"Delete","confirmButtonLoading":"Deleting...","title":"Delete"},"editButton":"Edit","editDrawer":{"title":"Edit Webhook"},"isDefault":"Default","noItemsMessage":"Please add one or more webhooks to start.","noItemsTitle":"Getting Started","testButton":"Test","webhookCreatedMessage":"Webhook \'{{name}}\' has been created.","webhookCreatedTitle":"Success","webhookDeletedMessage":"Webhook \'{{name}}\' has been deleted.","webhookDeletedTitle":"Success","webhookTestedMessage":"Webhook \'{{name}}\' connected.","webhookTestedTitle":"Success","webhookUpdatedMessage":"Webhook \'{{name}}\' has been updated.","webhookUpdatedTitle":"Success"}}},"api":{"error":"Error","licenseVerificationFailed":"License verification failed.","limitReached":"License limit reached.","names":{"createAlert":"Create Alert Rule","createWebhook":"Create Webhook","deleteAlert":"Delete Alert Rule","deleteWebhook":"Delete Webhook","getAlerts":"Get Alert Rules","getDefaultWebhook":"Get Default Webhook","getTriggerEvent":"Get Trigger Event","getWebhooks":"Get Webhooks","ping":"Ping","testWebhook":"Test Webhook","updateAlert":"Update Alert Rule","updateAlertStatus":"Update Alert Rule Status","updateWebhook":"Update Webhook"},"requestFailed":"{{name}}: Request failed.","testDatasource":{"connected":"Connected","connectionFailed":"Error. Can\'t connect.","licenseActivated":"Connected. Current license limits: {{alerts}} alert rules, {{forecasts}} forecasts."}},"basic":{"wait":"Please wait"},"config":{"description":"Business Intelligence App for Grafana.","updateButton":"Update Settings"},"engineDatasource":{"configEditor":{"configured":"Configured","tokenLabel":"Access Token","urlLabel":"URL"}},"messages":{"loading":"Loading...","notAvailableMessage":"Engine is unavailable. Please check data source settings and try again","notAvailableTitle":"Not Available"}}')},es:{translation:JSON.parse('{"config":{"description":"Business Intelligence App for Grafana.","updateButton":"Ajustes de actualización"}}')},fr:{translation:JSON.parse('{"config":{"description":"Business Intelligence App for Grafana.","updateButton":"Mettre à jour les paramètres"}}')},de:{translation:re},zh:{translation:JSON.parse('{"config":{"description":"Business Intelligence App for Grafana.","updateButton":"更新设置"}}')}};U.use(X).init({lng:((e=oe)=>{var t,n,s;const o=null===se.config||void 0===se.config||null===(n=se.config.bootData)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.language,r=null==o||null===(s=o.split("-"))||void 0===s?void 0:s[0];switch(r){case ne.EN:case ne.ES:case ne.FR:case ne.DE:case ne.ZH:return r;default:return e}})(),debug:!1,resources:ie,defaultNS:"translation"});var ae=a(305),le=a(388);const ue="data-testid config-editor field-access-token",ce="data-testid config-editor field-url",de="data-testid config-editor";function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),s.forEach((function(t){he(e,t,n[t])}))}return e}function ge(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n.push.apply(n,s)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}var fe,me,be,ve,ye,Se,ke,Oe,xe,we,Ee=a(177);!function(e){e.ACTIVE="active",e.PAUSED="paused"}(fe||(fe={})),function(e){e.CONFIGURED="configured",e.DASHBOARD="dashboard"}(me||(me={})),function(e){e.ANOMALY="anomaly",e.PATTERN="pattern",e.THRESHOLDS="thresholds"}(be||(be={})),function(e){e.GREEN="green"}(ve||(ve={})),function(e){e.SCHEDULED="scheduled",e.OK="ok",e.ALERTING="alerting",e.ERROR="error"}(ye||(ye={})),function(e){e.SUCCESS="success",e.ERROR="error"}(Se||(Se={})),function(e){e.EMPTY_TOKEN="emptyToken",e.INVALID_TOKEN="invalidToken",e.LICENSE_VERIFICATION_FAILED="licenseVerificationFailed",e.LIMIT_REACHED="limitReached"}(ke||(ke={})),function(e){e.CREATE_ALERT="createAlert",e.CREATE_WEBHOOK="createWebhook",e.DELETE_ALERT="deleteAlert",e.DELETE_WEBHOOK="deleteWebhook",e.GET_ALERTS="getAlerts",e.GET_TRIGGER_EVENT="getTriggerEvent",e.GET_WEBHOOKS="getWebhooks",e.GET_DEFAULT_WEBHOOK="getDefaultWebhook",e.PING="ping",e.UPDATE_ALERT="updateAlert",e.UPDATE_WEBHOOK="updateWebhook",e.TEST_WEBHOOK="testWebhook",e.UPDATE_ALERT_STATUS="updateAlertStatus"}(Oe||(Oe={})),function(e){e.REQUEST="request",e.CUSTOM="custom"}(xe||(xe={})),function(e){e.POST="POST"}(we||(we={}));const Le=(e,t)=>t===ke.LICENSE_VERIFICATION_FAILED?V("api.licenseVerificationFailed"):t===ke.LIMIT_REACHED?V("api.limitReached"):V("api.requestFailed",{name:V(`api.names.${e}`)}),Re=(0,se.getAppEvents)(),Pe=e=>{Re.publish({type:ae.AppEvents.alertError.name,payload:e}),console.error(e)};class Te{constructor(e){var t;t=void 0,"api"in this?Object.defineProperty(this,"api",{value:t,enumerable:!0,configurable:!0,writable:!0}):this.api=t,this.api=e}}function Ne(e,t,n,s,o,r,i){try{var a=e[r](i),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,o)}function Ce(e){return function(){var t=this,n=arguments;return new Promise((function(s,o){var r=e.apply(t,n);function i(e){Ne(r,s,o,i,a,"next",e)}function a(e){Ne(r,s,o,i,a,"throw",e)}i(void 0)}))}}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){if(null==e)return{};var n,s,o=function(e,t){if(null==e)return{};var n,s,o={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class je extends Te{static isAlertTargetExists(e,t){return!!t.panels.find((t=>t.id===e.panelId))}getAll(){var e=this;return Ce((function*(){const t=yield(0,Ee.lastValueFrom)((0,se.getBackendSrv)().fetch({url:`${e.api.instanceSettings.url}/alerts`,method:"GET"})).catch((e=>{throw Pe([V("api.error"),Le(Oe.GET_ALERTS)]),e}));if(!t)return[];const n=new Set;t.data.forEach((({dashboardId:e})=>n.add(e)));const s=(yield Promise.all(Array.from(n).map((t=>e.api.grafana.getDashboardInfo(t).catch((()=>null)))))).reduce(((e,t)=>(t&&e.set(t.uid,t),e)),new Map);return t.data.map((e=>{var t;const n=s.get(e.dashboardId);return o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),s.forEach((function(t){Ae(e,t,n[t])}))}return e}({},e),r=null!=(r={dashboardTitle:(null==n?void 0:n.title)||null,panelTitle:(null==n||null===(t=n.panels.find((t=>t.id===e.panelId)))||void 0===t?void 0:t.title)||null,isTargetExists:!!n&&je.isAlertTargetExists(e,n)})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(r)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n.push.apply(n,s)}return n}(Object(r)).forEach((function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(r,e))})),o;var o,r}))}))()}create(e){var t=this;return Ce((function*(){var{id:n}=e,s=De(e,["id"]);return(yield(0,Ee.lastValueFrom)((0,se.getBackendSrv)().fetch({url:`${t.api.instanceSettings.url}/alerts`,method:"POST",data:s})).catch((e=>{var t;throw Pe([V("api.error"),Le(Oe.CREATE_ALERT,(null===(t=e.data)||void 0===t?void 0:t.code)?e.data.code:void 0)]),e}))).data}))()}update(e,t){var n=this;return Ce((function*(){var{id:s}=t,o=De(t,["id"]);return(yield(0,Ee.lastValueFrom)((0,se.getBackendSrv)().fetch({url:`${n.api.instanceSettings.url}/alerts/${e}`,method:"PUT",data:o})).catch((e=>{var t;throw Pe([V("api.error"),Le(Oe.UPDATE_ALERT,(null===(t=e.data)||void 0===t?void 0:t.code)?e.data.code:void 0)]),e}))).data}))()}updateStatus(e,t){var n=this;return Ce((function*(){return(yield(0,Ee.lastValueFrom)((0,se.getBackendSrv)().fetch({url:`${n.api.instanceSettings.url}/alerts/${e}/status`,method:"PUT",data:{status:t}})).catch((e=>{var t;throw Pe([V("api.error"),Le(Oe.UPDATE_ALERT_STATUS,(null===(t=e.data)||void 0===t?void 0:t.code)?e.data.code:void 0)]),e}))).data}))()}delete(e){var t=this;return Ce((function*(){return(yield(0,Ee.lastValueFrom)((0,se.getBackendSrv)().fetch({url:`${t.api.instanceSettings.url}/alerts/${e}`,method:"DELETE"})).catch((e=>{var t;throw Pe([V("api.error"),Le(Oe.DELETE_ALERT,(null===(t=e.data)||void 0===t?void 0:t.code)?e.data.code:void 0)]),e}))).data}))()}getTriggerEvent(e){var t=this;return Ce((function*(){return(yield(0,Ee.lastValueFrom)((0,se.getBackendSrv)().fetch({url:`${t.api.instanceSettings.url}/alerts/${e}/trigger-event`,method:"GET"})).catch((e=>{var t;throw Pe([V("api.error"),Le(Oe.GET_TRIGGER_EVENT,(null===(t=e.data)||void 0===t?void 0:t.code)?e.data.code:void 0)]),e}))).data||null}))()}}function $e(e,t,n,s,o,r,i){try{var a=e[r](i),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,o)}function Ie(e){return function(){var t=this,n=arguments;return new Promise((function(s,o){var r=e.apply(t,n);function i(e){$e(r,s,o,i,a,"next",e)}function a(e){$e(r,s,o,i,a,"throw",e)}i(void 0)}))}}class Fe extends Te{getDashboards(){return Ie((function*(){const e=yield(0,Ee.lastValueFrom)((0,se.getBackendSrv)().fetch({url:"/api/search?limit=1000",method:"GET"})).catch((()=>{}));return e?e.data.filter((e=>"dash-db"===e.type)):[]}))()}getDashboardInfo(e){return Ie((function*(){const t=yield(0,Ee.lastValueFrom)((0,se.getBackendSrv)().fetch({url:`/api/dashboards/uid/${e}`,method:"GET"})).catch((()=>{}));return t?t.data.dashboard:null}))()}}function Be(e,t,n,s,o,r,i){try{var a=e[r](i),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,o)}function Ue(e){return function(){var t=this,n=arguments;return new Promise((function(s,o){var r=e.apply(t,n);function i(e){Be(r,s,o,i,a,"next",e)}function a(e){Be(r,s,o,i,a,"throw",e)}i(void 0)}))}}function Ve(e,t){if(null==e)return{};var n,s,o=function(e,t){if(null==e)return{};var n,s,o={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}class Me extends Te{getAll(){var e=this;return Ue((function*(){const t=yield(0,Ee.lastValueFrom)((0,se.getBackendSrv)().fetch({url:`${e.api.instanceSettings.url}/webhooks`,method:"GET"})).catch((e=>{throw Pe([V("api.error"),Le(Oe.GET_WEBHOOKS)]),e}));return t?t.data:[]}))()}create(e){var t=this;return Ue((function*(){var{id:n}=e,s=Ve(e,["id"]);return(yield(0,Ee.lastValueFrom)((0,se.getBackendSrv)().fetch({url:`${t.api.instanceSettings.url}/webhooks`,method:"POST",data:s})).catch((e=>{var t;throw Pe([V("api.error"),Le(Oe.CREATE_WEBHOOK,(null===(t=e.data)||void 0===t?void 0:t.code)?e.data.code:void 0)]),e}))).data}))()}update(e,t){var n=this;return Ue((function*(){var{id:s}=t,o=Ve(t,["id"]);return(yield(0,Ee.lastValueFrom)((0,se.getBackendSrv)().fetch({url:`${n.api.instanceSettings.url}/webhooks/${e}`,method:"PUT",data:o})).catch((e=>{var t;throw Pe([V("api.error"),Le(Oe.UPDATE_WEBHOOK,(null===(t=e.data)||void 0===t?void 0:t.code)?e.data.code:void 0)]),e}))).data}))()}delete(e){var t=this;return Ue((function*(){return(yield(0,Ee.lastValueFrom)((0,se.getBackendSrv)().fetch({url:`${t.api.instanceSettings.url}/webhooks/${e}`,method:"DELETE"})).catch((e=>{var t;throw Pe([V("api.error"),Le(Oe.DELETE_WEBHOOK,(null===(t=e.data)||void 0===t?void 0:t.code)?e.data.code:void 0)]),e}))).data}))()}getDefault(){var e=this;return Ue((function*(){const t=yield(0,Ee.lastValueFrom)((0,se.getBackendSrv)().fetch({url:`${e.api.instanceSettings.url}/webhooks/default`,method:"GET"})).catch((()=>{}));return t?t.data:null}))()}test(e){var t=this;return Ue((function*(){var{id:n}=e,s=Ve(e,["id"]);return(yield(0,Ee.lastValueFrom)((0,se.getBackendSrv)().fetch({url:`${t.api.instanceSettings.url}/webhooks/test`,method:"POST",data:s})).catch((e=>e))).data}))()}}function We(e,t,n,s,o,r,i){try{var a=e[r](i),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,o)}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ke{ping(){var e,t=this;return(e=function*(){const e=yield(0,Ee.lastValueFrom)((0,se.getBackendSrv)().fetch({method:"GET",url:`${t.instanceSettings.url}/ping`})).catch((e=>{Pe([V("api.error"),Le(Oe.PING,e.data.code)])}));return e&&e.data?e.data:(console.error("error"),null)},function(){var t=this,n=arguments;return new Promise((function(s,o){var r=e.apply(t,n);function i(e){We(r,s,o,i,a,"next",e)}function a(e){We(r,s,o,i,a,"throw",e)}i(void 0)}))})()}getData(e,t){return(0,ae.toDataFrame)({refId:e.refId,fields:[{name:"Time",values:[t.from,t.to],type:ae.FieldType.time},{name:"Value",values:[1,2],type:ae.FieldType.number}]})}constructor(e){_e(this,"instanceSettings",void 0),_e(this,"alerts",void 0),_e(this,"grafana",void 0),_e(this,"webhooks",void 0),this.instanceSettings=e,this.alerts=new je(this),this.grafana=new Fe(this),this.webhooks=new Me(this)}}function He(e,t,n,s,o,r,i){try{var a=e[r](i),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(s,o)}function Ge(e){return function(){var t=this,n=arguments;return new Promise((function(s,o){var r=e.apply(t,n);function i(e){He(r,s,o,i,a,"next",e)}function a(e){He(r,s,o,i,a,"throw",e)}i(void 0)}))}}class Je extends ae.DataSourceApi{query(e){var t=this;return Ge((function*(){const{range:n}=e;return{data:e.targets.map((e=>t.api.getData(e,n)))}}))()}testDatasource(){var e=this;return Ge((function*(){return(yield e.api.ping())?{status:Se.SUCCESS,message:V("api.testDatasource.connected")}:{status:Se.ERROR,message:V("api.testDatasource.connectionFailed")}}))()}constructor(e){var t;super(e),t=void 0,"api"in this?Object.defineProperty(this,"api",{value:t,enumerable:!0,configurable:!0,writable:!0}):this.api=t,this.api=new Ke(e)}}const ze=new ae.DataSourcePlugin(Je).setConfigEditor((({options:e,onOptionsChange:t})=>{const{t:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:n}=t,{i18n:s,defaultNS:o}=(0,M.useContext)(ee)||{},r=n||s||Q;if(r&&!r.reportNamespaces&&(r.reportNamespaces=new te),!r){K("You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>"string"==typeof t?t:t&&"object"==typeof t&&"string"==typeof t.defaultValue?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}r.options.react&&void 0!==r.options.react.wait&&K("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const i={...Z,...r.options.react,...t},{useSuspense:a,keyPrefix:l}=i;let u=e||o||r.options&&r.options.defaultNS;u="string"==typeof u?[u]:u||["translation"],r.reportNamespaces.addUsedNamespaces&&r.reportNamespaces.addUsedNamespaces(u);const c=(r.isInitialized||r.initializedStoreOnce)&&u.every((e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,s)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!s(t.isLanguageChangingTo,e))return!1}}):function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=t.languages[0],o=!!t.options&&t.options.fallbackLng,r=t.languages[t.languages.length-1];if("cimode"===s.toLowerCase())return!0;const i=(e,n)=>{const s=t.services.backendConnector.state[`${e}|${n}`];return-1===s||2===s};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e)||!t.hasResourceBundle(s,e)&&t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages)&&(!i(s,e)||o&&!i(r,e)))}(e,t,n):(K("i18n.languages were undefined or empty",t.languages),!0)}(e,r,i)));function d(){return r.getFixedT(t.lng||null,"fallback"===i.nsMode?u:u[0],l)}const[h,p]=(0,M.useState)(d);let g=u.join();t.lng&&(g=`${t.lng}${g}`);const f=((e,t)=>{const n=(0,M.useRef)();return(0,M.useEffect)((()=>{n.current=e}),[e,t]),n.current})(g),m=(0,M.useRef)(!0);(0,M.useEffect)((()=>{const{bindI18n:e,bindI18nStore:n}=i;function s(){m.current&&p(d)}return m.current=!0,c||a||(t.lng?J(r,t.lng,u,(()=>{m.current&&p(d)})):G(r,u,(()=>{m.current&&p(d)}))),c&&f&&f!==g&&m.current&&p(d),e&&r&&r.on(e,s),n&&r&&r.store.on(n,s),()=>{m.current=!1,e&&r&&e.split(" ").forEach((e=>r.off(e,s))),n&&r&&n.split(" ").forEach((e=>r.store.off(e,s)))}}),[r,g]);const b=(0,M.useRef)(!0);(0,M.useEffect)((()=>{m.current&&!b.current&&p(d),b.current=!1}),[r,l]);const v=[h,r,c];if(v.t=h,v.i18n=r,v.ready=c,c)return v;if(!c&&!a)return v;throw new Promise((e=>{t.lng?J(r,t.lng,u,(()=>e())):G(r,u,(()=>e()))}))}(),s=(0,M.useCallback)((n=>{t(ge(pe({},e),{jsonData:ge(pe({},e.jsonData),{url:n.target.value})}))}),[t,e]),o=(0,M.useCallback)((n=>{t(ge(pe({},e),{secureJsonData:{token:n.target.value}}))}),[t,e]),{jsonData:r,secureJsonFields:i}=e,a=e.secureJsonData||{};var l;return W().createElement(le.FieldSet,{"data-testid":de},W().createElement(le.InlineFieldRow,null,W().createElement(le.InlineField,{label:n("engineDatasource.configEditor.urlLabel"),labelWidth:14},W().createElement(le.Input,{type:"text",value:r.url,width:40,onChange:s,"data-testid":ce}))),W().createElement(le.InlineFieldRow,null,W().createElement(le.InlineField,{label:n("engineDatasource.configEditor.tokenLabel"),labelWidth:14,grow:!0},W().createElement(le.Input,{type:"password",placeholder:(null==i?void 0:i.token)?n("engineDatasource.configEditor.configured"):"",value:null!==(l=a.token)&&void 0!==l?l:"",onChange:o,"data-testid":ue}))))})).setQueryEditor((({})=>W().createElement(W().Fragment,null)))})(),l})()));
//# sourceMappingURL=module.js.map