define(["react","@grafana/runtime","@grafana/data","@emotion/css","@grafana/ui"],((e,t,n,a,r)=>(()=>{var i={635:e=>{var t;globalThis,t=()=>(()=>{"use strict";var e={794:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CronParser=void 0;var a=n(586),r=function(){function e(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1),this.expression=e,this.dayOfWeekStartIndexZero=t,this.monthStartIndexZero=n}return e.prototype.parse=function(){var e=this.extractParts(this.expression);return this.normalize(e),this.validate(e),e},e.prototype.extractParts=function(e){if(!this.expression)throw new Error("Expression is empty");var t=e.trim().split(/[ ]+/);if(t.length<5)throw new Error("Expression has only ".concat(t.length," part").concat(1==t.length?"":"s",". At least 5 parts are required."));if(5==t.length)t.unshift(""),t.push("");else if(6==t.length)/\d{4}$/.test(t[5])||"?"==t[4]||"?"==t[2]?t.unshift(""):t.push("");else if(t.length>7)throw new Error("Expression has ".concat(t.length," parts; too many!"));return t},e.prototype.normalize=function(e){var t=this;if(e[3]=e[3].replace("?","*"),e[5]=e[5].replace("?","*"),e[2]=e[2].replace("?","*"),0==e[0].indexOf("0/")&&(e[0]=e[0].replace("0/","*/")),0==e[1].indexOf("0/")&&(e[1]=e[1].replace("0/","*/")),0==e[2].indexOf("0/")&&(e[2]=e[2].replace("0/","*/")),0==e[3].indexOf("1/")&&(e[3]=e[3].replace("1/","*/")),0==e[4].indexOf("1/")&&(e[4]=e[4].replace("1/","*/")),0==e[6].indexOf("1/")&&(e[6]=e[6].replace("1/","*/")),e[5]=e[5].replace(/(^\d)|([^#/\s]\d)/g,(function(e){var n=e.replace(/\D/,""),a=n;return t.dayOfWeekStartIndexZero?"7"==n&&(a="0"):a=(parseInt(n)-1).toString(),e.replace(n,a)})),"L"==e[5]&&(e[5]="6"),"?"==e[3]&&(e[3]="*"),e[3].indexOf("W")>-1&&(e[3].indexOf(",")>-1||e[3].indexOf("-")>-1))throw new Error("The 'W' character can be specified only when the day-of-month is a single day, not a range or list of days.");var n={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6};for(var a in n)e[5]=e[5].replace(new RegExp(a,"gi"),n[a].toString());e[4]=e[4].replace(/(^\d{1,2})|([^#/\s]\d{1,2})/g,(function(e){var n=e.replace(/\D/,""),a=n;return t.monthStartIndexZero&&(a=(parseInt(n)+1).toString()),e.replace(n,a)}));var r={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12};for(var i in r)e[4]=e[4].replace(new RegExp(i,"gi"),r[i].toString());"0"==e[0]&&(e[0]=""),/\*|\-|\,|\//.test(e[2])||!/\*|\//.test(e[1])&&!/\*|\//.test(e[0])||(e[2]+="-".concat(e[2]));for(var o=0;o<e.length;o++)if(-1!=e[o].indexOf(",")&&(e[o]=e[o].split(",").filter((function(e){return""!==e})).join(",")||"*"),"*/1"==e[o]&&(e[o]="*"),e[o].indexOf("/")>-1&&!/^\*|\-|\,/.test(e[o])){var s=null;switch(o){case 4:s="12";break;case 5:s="6";break;case 6:s="9999";break;default:s=null}if(null!==s){var l=e[o].split("/");e[o]="".concat(l[0],"-").concat(s,"/").concat(l[1])}}},e.prototype.validate=function(e){this.assertNoInvalidCharacters("DOW",e[5]),this.assertNoInvalidCharacters("DOM",e[3]),this.validateRange(e)},e.prototype.validateRange=function(e){a.default.secondRange(e[0]),a.default.minuteRange(e[1]),a.default.hourRange(e[2]),a.default.dayOfMonthRange(e[3]),a.default.monthRange(e[4],this.monthStartIndexZero),a.default.dayOfWeekRange(e[5],this.dayOfWeekStartIndexZero)},e.prototype.assertNoInvalidCharacters=function(e,t){var n=t.match(/[A-KM-VX-Z]+/gi);if(n&&n.length)throw new Error("".concat(e," part contains invalid values: '").concat(n.toString(),"'"))},e}();t.CronParser=r},728:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionDescriptor=void 0;var a=n(910),r=n(794),i=function(){function e(t,n){if(this.expression=t,this.options=n,this.expressionParts=new Array(5),!this.options.locale&&e.defaultLocale&&(this.options.locale=e.defaultLocale),!e.locales[this.options.locale]){var a=Object.keys(e.locales)[0];console.warn("Locale '".concat(this.options.locale,"' could not be found; falling back to '").concat(a,"'.")),this.options.locale=a}this.i18n=e.locales[this.options.locale],void 0===n.use24HourTimeFormat&&(n.use24HourTimeFormat=this.i18n.use24HourTimeFormatByDefault())}return e.toString=function(t,n){var a=void 0===n?{}:n,r=a.throwExceptionOnParseError,i=void 0===r||r,o=a.verbose,s=void 0!==o&&o,l=a.dayOfWeekStartIndexZero,u=void 0===l||l,c=a.monthStartIndexZero,d=void 0!==c&&c,p=a.use24HourTimeFormat,h=a.locale,g=void 0===h?null:h,f=a.tzOffset;return new e(t,{throwExceptionOnParseError:i,verbose:s,dayOfWeekStartIndexZero:u,monthStartIndexZero:d,use24HourTimeFormat:p,locale:g,tzOffset:void 0===f?0:f}).getFullDescription()},e.initialize=function(t,n){void 0===n&&(n="en"),e.specialCharacters=["/","-",",","*"],e.defaultLocale=n,t.load(e.locales)},e.prototype.getFullDescription=function(){var e="";try{var t=new r.CronParser(this.expression,this.options.dayOfWeekStartIndexZero,this.options.monthStartIndexZero);this.expressionParts=t.parse();var n=this.getTimeOfDayDescription(),a=this.getDayOfMonthDescription(),i=this.getMonthDescription();e+=n+a+this.getDayOfWeekDescription()+i+this.getYearDescription(),e=(e=this.transformVerbosity(e,!!this.options.verbose)).charAt(0).toLocaleUpperCase()+e.substr(1)}catch(t){if(this.options.throwExceptionOnParseError)throw"".concat(t);e=this.i18n.anErrorOccuredWhenGeneratingTheExpressionD()}return e},e.prototype.getTimeOfDayDescription=function(){var t=this.expressionParts[0],n=this.expressionParts[1],r=this.expressionParts[2],i="";if(a.StringUtilities.containsAny(n,e.specialCharacters)||a.StringUtilities.containsAny(r,e.specialCharacters)||a.StringUtilities.containsAny(t,e.specialCharacters))if(t||!(n.indexOf("-")>-1)||n.indexOf(",")>-1||n.indexOf("/")>-1||a.StringUtilities.containsAny(r,e.specialCharacters))if(!t&&r.indexOf(",")>-1&&-1==r.indexOf("-")&&-1==r.indexOf("/")&&!a.StringUtilities.containsAny(n,e.specialCharacters)){var o=r.split(",");i+=this.i18n.at();for(var s=0;s<o.length;s++)i+=" ",i+=this.formatTime(o[s],n,""),s<o.length-2&&(i+=","),s==o.length-2&&(i+=this.i18n.spaceAnd())}else{var l=this.getSecondsDescription(),u=this.getMinutesDescription(),c=this.getHoursDescription();if((i+=l)&&u&&(i+=", "),i+=u,u===c)return i;i&&c&&(i+=", "),i+=c}else{var d=n.split("-");i+=a.StringUtilities.format(this.i18n.everyMinuteBetweenX0AndX1(),this.formatTime(r,d[0],""),this.formatTime(r,d[1],""))}else i+=this.i18n.atSpace()+this.formatTime(r,n,t);return i},e.prototype.getSecondsDescription=function(){var e=this;return this.getSegmentDescription(this.expressionParts[0],this.i18n.everySecond(),(function(e){return e}),(function(t){return a.StringUtilities.format(e.i18n.everyX0Seconds(t),t)}),(function(t){return e.i18n.secondsX0ThroughX1PastTheMinute()}),(function(t){return"0"==t?"":parseInt(t)<20?e.i18n.atX0SecondsPastTheMinute(t):e.i18n.atX0SecondsPastTheMinuteGt20()||e.i18n.atX0SecondsPastTheMinute(t)}))},e.prototype.getMinutesDescription=function(){var e=this,t=this.expressionParts[0],n=this.expressionParts[2];return this.getSegmentDescription(this.expressionParts[1],this.i18n.everyMinute(),(function(e){return e}),(function(t){return a.StringUtilities.format(e.i18n.everyX0Minutes(t),t)}),(function(t){return e.i18n.minutesX0ThroughX1PastTheHour()}),(function(a){try{return"0"==a&&-1==n.indexOf("/")&&""==t?e.i18n.everyHour():parseInt(a)<20?e.i18n.atX0MinutesPastTheHour(a):e.i18n.atX0MinutesPastTheHourGt20()||e.i18n.atX0MinutesPastTheHour(a)}catch(t){return e.i18n.atX0MinutesPastTheHour(a)}}))},e.prototype.getHoursDescription=function(){var e=this,t=this.expressionParts[2],n=this.getSegmentDescription(t,this.i18n.everyHour(),(function(t){return e.formatTime(t,"0","")}),(function(t){return a.StringUtilities.format(e.i18n.everyX0Hours(t),t)}),(function(t){return e.i18n.betweenX0AndX1()}),(function(t){return e.i18n.atX0()}));if(n&&t.includes("-")&&"0"!=this.expressionParts[1]){var r=Array.from(n.matchAll(/:00/g));if(r.length>1){var i=r[r.length-1].index;n=n.substring(0,i)+":59"+n.substring(i+3)}}return n},e.prototype.getDayOfWeekDescription=function(){var e=this,t=this.i18n.daysOfTheWeek();return"*"==this.expressionParts[5]?"":this.getSegmentDescription(this.expressionParts[5],this.i18n.commaEveryDay(),(function(n,a){var r=n;n.indexOf("#")>-1?r=n.substring(0,n.indexOf("#")):n.indexOf("L")>-1&&(r=r.replace("L",""));var i=parseInt(r);if(e.options.tzOffset){var o=e.expressionParts[2],s=parseInt(o)+(e.options.tzOffset?e.options.tzOffset:0);s>=24?i++:s<0&&i--,i>6?i=0:i<0&&(i=6)}var l=e.i18n.daysOfTheWeekInCase?e.i18n.daysOfTheWeekInCase(a)[i]:t[i];if(n.indexOf("#")>-1){var u=null,c=n.substring(n.indexOf("#")+1),d=n.substring(0,n.indexOf("#"));switch(c){case"1":u=e.i18n.first(d);break;case"2":u=e.i18n.second(d);break;case"3":u=e.i18n.third(d);break;case"4":u=e.i18n.fourth(d);break;case"5":u=e.i18n.fifth(d)}l=u+" "+l}return l}),(function(t){return 1==parseInt(t)?"":a.StringUtilities.format(e.i18n.commaEveryX0DaysOfTheWeek(t),t)}),(function(t){var n=t.substring(0,t.indexOf("-"));return"*"!=e.expressionParts[3]?e.i18n.commaAndX0ThroughX1(n):e.i18n.commaX0ThroughX1(n)}),(function(t){var n=null;if(t.indexOf("#")>-1){var a=t.substring(t.indexOf("#")+1);n=e.i18n.commaOnThe(a).trim()+e.i18n.spaceX0OfTheMonth()}else n=t.indexOf("L")>-1?e.i18n.commaOnTheLastX0OfTheMonth(t.replace("L","")):"*"!=e.expressionParts[3]?e.i18n.commaAndOnX0():e.i18n.commaOnlyOnX0(t);return n}))},e.prototype.getMonthDescription=function(){var e=this,t=this.i18n.monthsOfTheYear();return this.getSegmentDescription(this.expressionParts[4],"",(function(n,a){return a&&e.i18n.monthsOfTheYearInCase?e.i18n.monthsOfTheYearInCase(a)[parseInt(n)-1]:t[parseInt(n)-1]}),(function(t){return 1==parseInt(t)?"":a.StringUtilities.format(e.i18n.commaEveryX0Months(t),t)}),(function(t){return e.i18n.commaMonthX0ThroughMonthX1()||e.i18n.commaX0ThroughX1()}),(function(t){return e.i18n.commaOnlyInMonthX0?e.i18n.commaOnlyInMonthX0():e.i18n.commaOnlyInX0()}))},e.prototype.getDayOfMonthDescription=function(){var e=this,t=null,n=this.expressionParts[3];switch(n){case"L":t=this.i18n.commaOnTheLastDayOfTheMonth();break;case"WL":case"LW":t=this.i18n.commaOnTheLastWeekdayOfTheMonth();break;default:var r=n.match(/(\d{1,2}W)|(W\d{1,2})/);if(r){var i=parseInt(r[0].replace("W","")),o=1==i?this.i18n.firstWeekday():a.StringUtilities.format(this.i18n.weekdayNearestDayX0(),i.toString());t=a.StringUtilities.format(this.i18n.commaOnTheX0OfTheMonth(),o);break}var s=n.match(/L-(\d{1,2})/);if(s){var l=s[1];t=a.StringUtilities.format(this.i18n.commaDaysBeforeTheLastDayOfTheMonth(l),l);break}if("*"==n&&"*"!=this.expressionParts[5])return"";t=this.getSegmentDescription(n,this.i18n.commaEveryDay(),(function(t){return"L"==t?e.i18n.lastDay():e.i18n.dayX0?a.StringUtilities.format(e.i18n.dayX0(),t):t}),(function(t){return"1"==t?e.i18n.commaEveryDay():e.i18n.commaEveryX0Days(t)}),(function(t){return e.i18n.commaBetweenDayX0AndX1OfTheMonth(t)}),(function(t){return e.i18n.commaOnDayX0OfTheMonth(t)}))}return t},e.prototype.getYearDescription=function(){var e=this;return this.getSegmentDescription(this.expressionParts[6],"",(function(e){return/^\d+$/.test(e)?new Date(parseInt(e),1).getFullYear().toString():e}),(function(t){return a.StringUtilities.format(e.i18n.commaEveryX0Years(t),t)}),(function(t){return e.i18n.commaYearX0ThroughYearX1()||e.i18n.commaX0ThroughX1()}),(function(t){return e.i18n.commaOnlyInYearX0?e.i18n.commaOnlyInYearX0():e.i18n.commaOnlyInX0()}))},e.prototype.getSegmentDescription=function(e,t,n,r,i,o){var s=null,l=e.indexOf("/")>-1,u=e.indexOf("-")>-1,c=e.indexOf(",")>-1;if(e)if("*"===e)s=t;else if(l||u||c)if(c){for(var d=e.split(","),p="",h=0;h<d.length;h++)if(h>0&&d.length>2&&(p+=",",h<d.length-1&&(p+=" ")),h>0&&d.length>1&&(h==d.length-1||2==d.length)&&(p+="".concat(this.i18n.spaceAnd()," ")),d[h].indexOf("/")>-1||d[h].indexOf("-")>-1){var g=d[h].indexOf("-")>-1&&-1==d[h].indexOf("/"),f=this.getSegmentDescription(d[h],t,n,r,g?this.i18n.commaX0ThroughX1:i,o);g&&(f=f.replace(", ","")),p+=f}else p+=l?this.getSegmentDescription(d[h],t,n,r,i,o):n(d[h]);s=l?p:a.StringUtilities.format(o(e),p)}else if(l){if(d=e.split("/"),s=a.StringUtilities.format(r(d[1]),d[1]),d[0].indexOf("-")>-1){var m=this.generateRangeSegmentDescription(d[0],i,n);0!=m.indexOf(", ")&&(s+=", "),s+=m}else if(-1==d[0].indexOf("*")){var b=a.StringUtilities.format(o(d[0]),n(d[0]));b=b.replace(", ",""),s+=a.StringUtilities.format(this.i18n.commaStartingX0(),b)}}else u&&(s=this.generateRangeSegmentDescription(e,i,n));else s=a.StringUtilities.format(o(e),n(e));else s="";return s},e.prototype.generateRangeSegmentDescription=function(e,t,n){var r="",i=e.split("-"),o=n(i[0],1),s=n(i[1],2),l=t(e);return r+a.StringUtilities.format(l,o,s)},e.prototype.formatTime=function(e,t,n){var a=0,r=0;this.options.tzOffset&&(a=this.options.tzOffset>0?Math.floor(this.options.tzOffset):Math.ceil(this.options.tzOffset),0!=(r=parseFloat((this.options.tzOffset%1).toFixed(2)))&&(r*=60));var i=parseInt(e)+a,o=parseInt(t)+r;o>=60?(o-=60,i+=1):o<0&&(o+=60,i-=1),i>=24?i-=24:i<0&&(i=24+i);var s="",l=!1;this.options.use24HourTimeFormat||(s=(l=!(!this.i18n.setPeriodBeforeTime||!this.i18n.setPeriodBeforeTime()))?"".concat(this.getPeriod(i)," "):" ".concat(this.getPeriod(i)),i>12&&(i-=12),0===i&&(i=12));var u="";return n&&(u=":".concat(("00"+n).substring(n.length))),"".concat(l?s:"").concat(("00"+i.toString()).substring(i.toString().length),":").concat(("00"+o.toString()).substring(o.toString().length)).concat(u).concat(l?"":s)},e.prototype.transformVerbosity=function(e,t){return t||(e=(e=(e=(e=e.replace(new RegExp(", ".concat(this.i18n.everyMinute()),"g"),"")).replace(new RegExp(", ".concat(this.i18n.everyHour()),"g"),"")).replace(new RegExp(this.i18n.commaEveryDay(),"g"),"")).replace(/\, ?$/,"")),e},e.prototype.getPeriod=function(e){return e>=12?this.i18n.pm&&this.i18n.pm()||"PM":this.i18n.am&&this.i18n.am()||"AM"},e.locales={},e}();t.ExpressionDescriptor=i},336:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.enLocaleLoader=void 0;var a=n(751),r=function(){function e(){}return e.prototype.load=function(e){e.en=new a.en},e}();t.enLocaleLoader=r},751:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.en=void 0;var n=function(){function e(){}return e.prototype.atX0SecondsPastTheMinuteGt20=function(){return null},e.prototype.atX0MinutesPastTheHourGt20=function(){return null},e.prototype.commaMonthX0ThroughMonthX1=function(){return null},e.prototype.commaYearX0ThroughYearX1=function(){return null},e.prototype.use24HourTimeFormatByDefault=function(){return!1},e.prototype.anErrorOccuredWhenGeneratingTheExpressionD=function(){return"An error occured when generating the expression description.  Check the cron expression syntax."},e.prototype.everyMinute=function(){return"every minute"},e.prototype.everyHour=function(){return"every hour"},e.prototype.atSpace=function(){return"At "},e.prototype.everyMinuteBetweenX0AndX1=function(){return"Every minute between %s and %s"},e.prototype.at=function(){return"At"},e.prototype.spaceAnd=function(){return" and"},e.prototype.everySecond=function(){return"every second"},e.prototype.everyX0Seconds=function(){return"every %s seconds"},e.prototype.secondsX0ThroughX1PastTheMinute=function(){return"seconds %s through %s past the minute"},e.prototype.atX0SecondsPastTheMinute=function(){return"at %s seconds past the minute"},e.prototype.everyX0Minutes=function(){return"every %s minutes"},e.prototype.minutesX0ThroughX1PastTheHour=function(){return"minutes %s through %s past the hour"},e.prototype.atX0MinutesPastTheHour=function(){return"at %s minutes past the hour"},e.prototype.everyX0Hours=function(){return"every %s hours"},e.prototype.betweenX0AndX1=function(){return"between %s and %s"},e.prototype.atX0=function(){return"at %s"},e.prototype.commaEveryDay=function(){return", every day"},e.prototype.commaEveryX0DaysOfTheWeek=function(){return", every %s days of the week"},e.prototype.commaX0ThroughX1=function(){return", %s through %s"},e.prototype.commaAndX0ThroughX1=function(){return", %s through %s"},e.prototype.first=function(){return"first"},e.prototype.second=function(){return"second"},e.prototype.third=function(){return"third"},e.prototype.fourth=function(){return"fourth"},e.prototype.fifth=function(){return"fifth"},e.prototype.commaOnThe=function(){return", on the "},e.prototype.spaceX0OfTheMonth=function(){return" %s of the month"},e.prototype.lastDay=function(){return"the last day"},e.prototype.commaOnTheLastX0OfTheMonth=function(){return", on the last %s of the month"},e.prototype.commaOnlyOnX0=function(){return", only on %s"},e.prototype.commaAndOnX0=function(){return", and on %s"},e.prototype.commaEveryX0Months=function(){return", every %s months"},e.prototype.commaOnlyInX0=function(){return", only in %s"},e.prototype.commaOnTheLastDayOfTheMonth=function(){return", on the last day of the month"},e.prototype.commaOnTheLastWeekdayOfTheMonth=function(){return", on the last weekday of the month"},e.prototype.commaDaysBeforeTheLastDayOfTheMonth=function(){return", %s days before the last day of the month"},e.prototype.firstWeekday=function(){return"first weekday"},e.prototype.weekdayNearestDayX0=function(){return"weekday nearest day %s"},e.prototype.commaOnTheX0OfTheMonth=function(){return", on the %s of the month"},e.prototype.commaEveryX0Days=function(){return", every %s days"},e.prototype.commaBetweenDayX0AndX1OfTheMonth=function(){return", between day %s and %s of the month"},e.prototype.commaOnDayX0OfTheMonth=function(){return", on day %s of the month"},e.prototype.commaEveryHour=function(){return", every hour"},e.prototype.commaEveryX0Years=function(){return", every %s years"},e.prototype.commaStartingX0=function(){return", starting %s"},e.prototype.daysOfTheWeek=function(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},e.prototype.monthsOfTheYear=function(){return["January","February","March","April","May","June","July","August","September","October","November","December"]},e}();t.en=n},586:(e,t)=>{function n(e,t){if(!e)throw new Error(t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e.secondRange=function(e){for(var t=e.split(","),a=0;a<t.length;a++)if(!isNaN(parseInt(t[a],10))){var r=parseInt(t[a],10);n(r>=0&&r<=59,"seconds part must be >= 0 and <= 59")}},e.minuteRange=function(e){for(var t=e.split(","),a=0;a<t.length;a++)if(!isNaN(parseInt(t[a],10))){var r=parseInt(t[a],10);n(r>=0&&r<=59,"minutes part must be >= 0 and <= 59")}},e.hourRange=function(e){for(var t=e.split(","),a=0;a<t.length;a++)if(!isNaN(parseInt(t[a],10))){var r=parseInt(t[a],10);n(r>=0&&r<=23,"hours part must be >= 0 and <= 23")}},e.dayOfMonthRange=function(e){for(var t=e.split(","),a=0;a<t.length;a++)if(!isNaN(parseInt(t[a],10))){var r=parseInt(t[a],10);n(r>=1&&r<=31,"DOM part must be >= 1 and <= 31")}},e.monthRange=function(e,t){for(var a=e.split(","),r=0;r<a.length;r++)if(!isNaN(parseInt(a[r],10))){var i=parseInt(a[r],10);n(i>=1&&i<=12,t?"month part must be >= 0 and <= 11":"month part must be >= 1 and <= 12")}},e.dayOfWeekRange=function(e,t){for(var a=e.split(","),r=0;r<a.length;r++)if(!isNaN(parseInt(a[r],10))){var i=parseInt(a[r],10);n(i>=0&&i<=6,t?"DOW part must be >= 0 and <= 6":"DOW part must be >= 1 and <= 7")}},e}();t.default=a},910:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StringUtilities=void 0;var n=function(){function e(){}return e.format=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.replace(/%s/g,(function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return t.shift()}))},e.containsAny=function(e,t){return t.some((function(t){return e.indexOf(t)>-1}))},e}();t.StringUtilities=n}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}var a={};return(()=>{var e=a;Object.defineProperty(e,"__esModule",{value:!0}),e.toString=void 0;var t=n(728),r=n(336);t.ExpressionDescriptor.initialize(new r.enLocaleLoader),e.default=t.ExpressionDescriptor;var i=t.ExpressionDescriptor.toString;e.toString=i})(),a})(),e.exports=t()},304:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},644:e=>{"use strict";e.exports=a},305:e=>{"use strict";e.exports=n},545:e=>{"use strict";e.exports=t},388:e=>{"use strict";e.exports=r},650:t=>{"use strict";t.exports=e}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return i[e](n,n.exports,s),n.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var l={};return(()=>{"use strict";s.r(l),s.d(l,{plugin:()=>Ct});const e={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class t{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||e,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,a){return a&&!this.debug?null:("string"==typeof e[0]&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new t(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new t(this.logger,e)}}var n=new t;class a{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]=this.observers[e]||[],this.observers[e].push(t)})),this}off(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((e=>e!==t)):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];this.observers[e]&&[].concat(this.observers[e]).forEach((e=>{e(...n)})),this.observers["*"]&&[].concat(this.observers["*"]).forEach((t=>{t.apply(t,[e,...n])}))}}function r(){let e,t;const n=new Promise(((n,a)=>{e=n,t=a}));return n.resolve=e,n.reject=t,n}function i(e){return null==e?"":""+e}function o(e,t,n){function a(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}const i="string"!=typeof t?[].concat(t):t.split(".");for(;i.length>1;){if(r())return{};const t=a(i.shift());!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{}}return r()?{}:{obj:e,k:a(i.shift())}}function u(e,t,n){const{obj:a,k:r}=o(e,t,Object);a[r]=n}function c(e,t){const{obj:n,k:a}=o(e,t);if(n)return n[a]}function d(e,t,n){for(const a in t)"__proto__"!==a&&"constructor"!==a&&(a in e?"string"==typeof e[a]||e[a]instanceof String||"string"==typeof t[a]||t[a]instanceof String?n&&(e[a]=t[a]):d(e[a],t[a],n):e[a]=t[a]);return e}function p(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function g(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(e=>h[e])):e}const f=[" ",",","?","!",";"];function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const a=t.split(n);let r=e;for(let e=0;e<a.length;++e){if(!r)return;if("string"==typeof r[a[e]]&&e+1<a.length)return;if(void 0===r[a[e]]){let i=2,o=a.slice(e,e+i).join(n),s=r[o];for(;void 0===s&&a.length>e+i;)i++,o=a.slice(e,e+i).join(n),s=r[o];if(void 0===s)return;if(null===s)return null;if(t.endsWith(o)){if("string"==typeof s)return s;if(o&&"string"==typeof s[o])return s[o]}const l=a.slice(e+i).join(n);return l?m(s,l,n):void 0}r=r[a[e]]}return r}function b(e){return e&&e.indexOf("_")>0?e.replace("_","-"):e}class y extends a{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=void 0!==a.keySeparator?a.keySeparator:this.options.keySeparator,i=void 0!==a.ignoreJSONStructure?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let o=[e,t];n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(o=e.split("."));const s=c(this.data,o);return s||!i||"string"!=typeof n?s:m(this.data&&this.data[e]&&this.data[e][t],n,r)}addResource(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator;let o=[e,t];n&&(o=o.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(o=e.split("."),a=t,t=o[1]),this.addNamespaces(t),u(this.data,o,a),r.silent||this.emit("added",e,t,n,a)}addResources(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const a in n)"string"!=typeof n[a]&&"[object Array]"!==Object.prototype.toString.apply(n[a])||this.addResource(e,t,a,n[a],{silent:!0});a.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,a,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),a=n,n=t,t=o[1]),this.addNamespaces(t);let s=c(this.data,o)||{};a?d(s,n,r):s={...s,...n},u(this.data,o,s),i.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var v={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,a,r){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,n,a,r))})),t}};const O={};class S extends a{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var a,r;super(),a=e,r=this,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach((e=>{a[e]&&(r[e]=a[e])})),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=n.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const i=n&&e.indexOf(n)>-1,o=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";const a=f.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===a.length)return!0;const r=new RegExp(`(${a.map((e=>"?"===e?"\\?":e)).join("|")})`);let i=!r.test(e);if(!i){const t=e.indexOf(n);t>0&&!r.test(e.substring(0,t))&&(i=!0)}return i}(e,n,a));if(i&&!o){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:r};const i=e.split(n);(n!==a||n===a&&this.options.ns.indexOf(i[0])>-1)&&(r=i.shift()),e=i.join(a)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const a=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:i,namespaces:o}=this.extractFromKey(e[e.length-1],t),s=o[o.length-1],l=t.lng||this.language,u=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(u){const e=t.nsSeparator||this.options.nsSeparator;return a?{res:`${s}${e}${i}`,usedKey:i,exactUsedKey:i,usedLng:l,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:`${s}${e}${i}`}return a?{res:i,usedKey:i,exactUsedKey:i,usedLng:l,usedNS:s,usedParams:this.getUsedParamsDetails(t)}:i}const c=this.resolve(e,t);let d=c&&c.res;const p=c&&c.usedKey||i,h=c&&c.exactUsedKey||i,g=Object.prototype.toString.apply(d),f=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject;if(m&&d&&"string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d&&["[object Number]","[object Function]","[object RegExp]"].indexOf(g)<0&&("string"!=typeof f||"[object Array]"!==g)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,d,{...t,ns:o}):`key '${i} (${this.language})' returned an object instead of string.`;return a?(c.res=e,c.usedParams=this.getUsedParamsDetails(t),c):e}if(r){const e="[object Array]"===g,n=e?[]:{},a=e?h:p;for(const e in d)if(Object.prototype.hasOwnProperty.call(d,e)){const i=`${a}${r}${e}`;n[e]=this.translate(i,{...t,joinArrays:!1,ns:o}),n[e]===i&&(n[e]=d[e])}d=n}}else if(m&&"string"==typeof f&&"[object Array]"===g)d=d.join(f),d&&(d=this.extendTranslation(d,e,t,n));else{let a=!1,o=!1;const u=void 0!==t.count&&"string"!=typeof t.count,p=S.hasDefaultValue(t),h=u?this.pluralResolver.getSuffix(l,t.count,t):"",g=t.ordinal&&u?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",f=t[`defaultValue${h}`]||t[`defaultValue${g}`]||t.defaultValue;!this.isValidLookup(d)&&p&&(a=!0,d=f),this.isValidLookup(d)||(o=!0,d=i);const m=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&o?void 0:d,b=p&&f!==d&&this.options.updateMissing;if(o||a||b){if(this.logger.log(b?"updateKey":"missingKey",l,s,i,b?f:d),r){const e=this.resolve(i,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const a=(e,n,a)=>{const r=p&&a!==d?a:m;this.options.missingKeyHandler?this.options.missingKeyHandler(e,s,n,r,b,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,s,n,r,b,t),this.emit("missingKey",e,s,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&u?e.forEach((e=>{this.pluralResolver.getSuffixes(e,t).forEach((n=>{a([e],i+n,t[`defaultValue${n}`]||f)}))})):a(e,i,f))}d=this.extendTranslation(d,e,t,c,n),o&&d===i&&this.options.appendNamespaceToMissingKey&&(d=`${s}:${i}`),(o||a)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${s}:${i}`:i,a?d:void 0):this.options.parseMissingKeyHandler(d))}return a?(c.res=d,c.usedParams=this.getUsedParamsDetails(t),c):d}extendTranslation(e,t,n,a,r){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const o="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let s;if(o){const t=e.match(this.interpolator.nestingRegexp);s=t&&t.length}let l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,n.lng||this.language,n),o){const t=e.match(this.interpolator.nestingRegexp);s<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&a&&a.res&&(n.lng=a.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return r&&r[0]===a[0]&&!n.context?(i.logger.warn(`It seems you are nesting recursively key: ${a[0]} in key: ${t[0]}`),null):i.translate(...a,t)}),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,s="string"==typeof o?[o]:o;return null!=e&&s&&s.length&&!1!==n.applyPostProcessor&&(e=v.handle(s,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:a,...n}:n,this)),e}resolve(e){let t,n,a,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const s=this.extractFromKey(e,o),l=s.key;n=l;let u=s.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const c=void 0!==o.count&&"string"!=typeof o.count,d=c&&!o.ordinal&&0===o.count&&this.pluralResolver.shouldUseIntlApi(),p=void 0!==o.context&&("string"==typeof o.context||"number"==typeof o.context)&&""!==o.context,h=o.lngs?o.lngs:this.languageUtils.toResolveHierarchy(o.lng||this.language,o.fallbackLng);u.forEach((e=>{this.isValidLookup(t)||(i=e,!O[`${h[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(i)&&(O[`${h[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${h.join(", ")}" won't get resolved as namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((n=>{if(this.isValidLookup(t))return;r=n;const i=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(i,l,n,e,o);else{let e;c&&(e=this.pluralResolver.getSuffix(n,o.count,o));const t=`${this.options.pluralSeparator}zero`,a=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(c&&(i.push(l+e),o.ordinal&&0===e.indexOf(a)&&i.push(l+e.replace(a,this.options.pluralSeparator)),d&&i.push(l+t)),p){const n=`${l}${this.options.contextSeparator}${o.context}`;i.push(n),c&&(i.push(n+e),o.ordinal&&0===e.indexOf(a)&&i.push(n+e.replace(a,this.options.pluralSeparator)),d&&i.push(n+t))}}let s;for(;s=i.pop();)this.isValidLookup(t)||(a=s,t=this.getResource(n,e,s,o))})))}))})),{res:t,usedKey:n,exactUsedKey:a,usedLng:r,usedNS:i}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,a):this.resourceStore.getResource(e,t,n,a)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&"string"!=typeof e.replace;let a=n?e.replace:e;if(n&&void 0!==e.count&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const e of t)delete a[e]}return a}static hasDefaultValue(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,12)&&void 0!==e[t])return!0;return!1}}function w(e){return e.charAt(0).toUpperCase()+e.slice(1)}class E{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=n.create("languageUtils")}getScriptPartFromCode(e){if(!(e=b(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=b(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if("string"==typeof e&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map((e=>e.toLowerCase())):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=w(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=w(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=w(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find((e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:0===e.indexOf(n)?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[],r=e=>{e&&(this.isSupportedCode(e)?a.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):"string"==typeof e&&r(this.formatLanguageCode(e)),n.forEach((e=>{a.indexOf(e)<0&&r(this.formatLanguageCode(e))})),a}}let k=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],P={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};const x=["v1","v2","v3"],L=["v4"],T={zero:0,one:1,two:2,few:3,many:4,other:5};class D{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=n.create("pluralResolver"),this.options.compatibilityJSON&&!L.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=function(){const e={};return k.forEach((t=>{t.lngs.forEach((n=>{e[n]={numbers:t.nr,plurals:P[t.fc]}}))})),e}()}addRule(e,t){this.rules[e]=t}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(b(e),{type:t.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort(((e,t)=>T[e]-T[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):n.numbers.map((n=>this.getSuffix(e,n,t))):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=this.getRule(e,n);return a?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(t)}`:this.getSuffixRetroCompatible(a,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let a=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===a?a="plural":1===a&&(a=""));const r=()=>this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString();return"v1"===this.options.compatibilityJSON?1===a?"":"number"==typeof a?`_plural_${a.toString()}`:r():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?r():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!x.includes(this.options.compatibilityJSON)}}function C(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=function(e,t,n){const a=c(e,n);return void 0!==a?a:c(t,n)}(e,t,n);return!i&&r&&"string"==typeof n&&(i=m(e,n,a),void 0===i&&(i=m(t,n,a))),i}class R{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=n.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const t=e.interpolation;this.escape=void 0!==t.escape?t.escape:g,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?p(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?p(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?p(t.nestingPrefix):t.nestingPrefixEscaped||p("$t("),this.nestingSuffix=t.nestingSuffix?p(t.nestingSuffix):t.nestingSuffixEscaped||p(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const t=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(t,"g");const n=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(n,"g")}interpolate(e,t,n,a){let r,o,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}const c=e=>{if(e.indexOf(this.formatSeparator)<0){const r=C(t,l,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(r,void 0,n,{...a,...t,interpolationkey:e}):r}const r=e.split(this.formatSeparator),i=r.shift().trim(),o=r.join(this.formatSeparator).trim();return this.format(C(t,l,i,this.options.keySeparator,this.options.ignoreJSONStructure),o,n,{...a,...t,interpolationkey:i})};this.resetRegExp();const d=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,p=a&&a.interpolation&&void 0!==a.interpolation.skipOnVariables?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>u(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?u(this.escape(e)):u(e)}].forEach((t=>{for(s=0;r=t.regex.exec(e);){const n=r[1].trim();if(o=c(n),void 0===o)if("function"==typeof d){const t=d(e,r,a);o="string"==typeof t?t:""}else if(a&&Object.prototype.hasOwnProperty.call(a,n))o="";else{if(p){o=r[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),o=""}else"string"==typeof o||this.useRawValueToEscape||(o=i(o));const l=t.safeValue(o);if(e=e.replace(r[0],l),p?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,s++,s>=this.maxReplaces)break}})),e}nest(e,t){let n,a,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function s(e,t){const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const a=e.split(new RegExp(`${n}[ ]*{`));let i=`{${a[1]}`;e=a[0],i=this.interpolate(i,r);const o=i.match(/'/g),s=i.match(/"/g);(o&&o.length%2==0&&!s||s.length%2!=0)&&(i=i.replace(/'/g,'"'));try{r=JSON.parse(i),t&&(r={...t,...r})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${n}${i}`}return delete r.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){let l=[];r={...o},r=r.replace&&"string"!=typeof r.replace?r.replace:r,r.applyPostProcessor=!1,delete r.defaultValue;let u=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map((e=>e.trim()));n[1]=e.shift(),l=e,u=!0}if(a=t(s.call(this,n[1].trim(),r),r),a&&n[0]===e&&"string"!=typeof a)return a;"string"!=typeof a&&(a=i(a)),a||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),a=""),u&&(a=l.reduce(((e,t)=>this.format(e,t,o.lng,{...o,interpolationkey:n[1].trim()})),a.trim())),e=e.replace(n[0],a),this.regexp.lastIndex=0}return e}}function I(e){const t={};return function(n,a,r){const i=a+JSON.stringify(r);let o=t[i];return o||(o=e(b(a),r),t[i]=o),o(n)}}class A{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=n.create("formatter"),this.options=e,this.formats={number:I(((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)})),currency:I(((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)})),datetime:I(((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)})),relativetime:I(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")})),list:I(((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)}))},this.init(e)}init(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=I(t)}format(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.split(this.formatSeparator).reduce(((e,t)=>{const{formatName:r,formatOptions:i}=function(e){let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const a=e.split("(");t=a[0].toLowerCase().trim();const r=a[1].substring(0,a[1].length-1);"currency"===t&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach((e=>{if(!e)return;const[t,...a]=e.split(":"),r=a.join(":").trim().replace(/^'+|'+$/g,"");n[t.trim()]||(n[t.trim()]=r),"false"===r&&(n[t.trim()]=!1),"true"===r&&(n[t.trim()]=!0),isNaN(r)||(n[t.trim()]=parseInt(r,10))}))}return{formatName:t,formatOptions:n}}(t);if(this.formats[r]){let t=e;try{const o=a&&a.formatParams&&a.formatParams[a.interpolationkey]||{},s=o.locale||o.lng||a.locale||a.lng||n;t=this.formats[r](e,s,{...i,...a,...o})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${r}`),e}),e)}}class N extends a{constructor(e,t,a){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=a,this.languageUtils=a.languageUtils,this.options=r,this.logger=n.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(a,r.backend,r)}queueLoad(e,t,n,a){const r={},i={},o={},s={};return e.forEach((e=>{let a=!0;t.forEach((t=>{const o=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[o]=2:this.state[o]<0||(1===this.state[o]?void 0===i[o]&&(i[o]=!0):(this.state[o]=1,a=!1,void 0===i[o]&&(i[o]=!0),void 0===r[o]&&(r[o]=!0),void 0===s[t]&&(s[t]=!0)))})),a||(o[e]=!0)})),(Object.keys(r).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(r),pending:Object.keys(i),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(s)}}loaded(e,t,n){const a=e.split("|"),r=a[0],i=a[1];t&&this.emit("failedLoading",r,i,t),n&&this.store.addResourceBundle(r,i,n),this.state[e]=t?-1:2;const s={};this.queue.forEach((n=>{!function(e,t,n,a){const{obj:r,k:i}=o(e,t,Object);r[i]=r[i]||[],r[i].push(n)}(n.loaded,[r],i),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{s[e]||(s[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===s[e][t]&&(s[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:a,wait:r,callback:i});this.readingCalls++;const o=(o,s)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}o&&s&&a<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,a+1,2*r,i)}),r):i(o,s)},s=this.backend[n].bind(this.backend);if(2!==s.length)return s(e,t,o);try{const n=s(e,t);n&&"function"==typeof n.then?n.then((e=>o(null,e))).catch(o):o(null,n)}catch(e){o(e)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);const r=this.queueLoad(e,t,n,a);if(!r.toLoad.length)return r.pending.length||a(),null;r.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),a=n[0],r=n[1];this.read(a,r,"read",void 0,void 0,((n,i)=>{n&&this.logger.warn(`${t}loading namespace ${r} for language ${a} failed`,n),!n&&i&&this.logger.log(`${t}loaded namespace ${r} for language ${a}`,i),this.loaded(e,n,i)}))}saveMissing(e,t,n,a,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){const s={...i,isUpdate:r},l=this.backend.create.bind(this.backend);if(l.length<6)try{let r;r=5===l.length?l(e,t,n,a,s):l(e,t,n,a),r&&"function"==typeof r.then?r.then((e=>o(null,e))).catch(o):o(null,r)}catch(e){o(e)}else l(e,t,n,a,o,s)}e&&e[0]&&this.store.addResource(e[0],t,n,a)}}}function M(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:(e,t,n,a)=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function j(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function F(){}class B extends a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var a;if(super(),this.options=j(e),this.services={},this.logger=n,this.modules={external:[]},a=this,Object.getOwnPropertyNames(Object.getPrototypeOf(a)).forEach((e=>{"function"==typeof a[e]&&(a[e]=a[e].bind(a))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(a=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=M();function o(e){return e?"function"==typeof e?new e:e:null}if(this.options={...i,...this.options,...j(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){let t;this.modules.logger?n.init(o(this.modules.logger),this.options):n.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=A);const a=new E(this.options);this.store=new y(this.options.resources,this.options);const r=this.services;r.logger=n,r.resourceStore=this.store,r.languageUtils=a,r.pluralResolver=new D(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format||(r.formatter=o(t),r.formatter.init(r,this.options),this.options.interpolation.format=r.formatter.format.bind(r.formatter)),r.interpolator=new R(this.options),r.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},r.backendConnector=new N(o(this.modules.backend),r.resourceStore,r,this.options),r.backendConnector.on("*",(function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emit(t,...a)})),this.modules.languageDetector&&(r.languageDetector=o(this.modules.languageDetector),r.languageDetector.init&&r.languageDetector.init(r,this.options.detection,this.options)),this.modules.i18nFormat&&(r.i18nFormat=o(this.modules.i18nFormat),r.i18nFormat.init&&r.i18nFormat.init(this)),this.translator=new S(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];e.emit(t,...a)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,a||(a=F),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const s=r(),l=()=>{const e=(e,t)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(t),a(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),s}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F;const n="string"==typeof e?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],a=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};n?a(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>a(e))),this.options.preload&&this.options.preload.forEach((e=>a(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const a=r();return e||(e=this.languages),t||(t=this.options.ns),n||(n=F),this.services.backendConnector.reload(e,t,(e=>{a.resolve(),n(e)})),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&v.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const a=r();this.emit("languageChanging",e);const i=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(e,r)=>{r?(i(r),this.translator.changeLanguage(r),this.isLanguageChangingTo=void 0,this.emit("languageChanged",r),this.logger.log("languageChanged",r)):this.isLanguageChangingTo=void 0,a.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},s=t=>{e||t||!this.services.languageDetector||(t=[]);const n="string"==typeof t?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||i(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,(e=>{o(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),a}getFixedT(e,t,n){var a=this;const r=function(e,t){let i;if("object"!=typeof t){for(var o=arguments.length,s=new Array(o>2?o-2:0),l=2;l<o;l++)s[l-2]=arguments[l];i=a.options.overloadTranslationOptionHandler([e,t].concat(s))}else i={...t};i.lng=i.lng||r.lng,i.lngs=i.lngs||r.lngs,i.ns=i.ns||r.ns,i.keyPrefix=i.keyPrefix||n||r.keyPrefix;const u=a.options.keySeparator||".";let c;return c=i.keyPrefix&&Array.isArray(e)?e.map((e=>`${i.keyPrefix}${u}${e}`)):i.keyPrefix?`${i.keyPrefix}${u}${e}`:e,a.t(c,i)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],a=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const i=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||2===n};if(t.precheck){const e=t.precheck(this,i);if(void 0!==e)return e}return!(!this.hasResourceBundle(n,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!i(n,e)||a&&!i(r,e)))}loadNamespaces(e,t){const n=r();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=r();"string"==typeof e&&(e=[e]);const a=this.options.preload||[],i=e.filter((e=>a.indexOf(e)<0));return i.length?(this.options.preload=a.concat(i),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new E(M());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new B(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},r=new B(a);return void 0===e.debug&&void 0===e.prefix||(r.logger=r.logger.clone(e)),["store","services","language"].forEach((e=>{r[e]=this[e]})),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n&&(r.store=new y(this.store.data,a),r.services.resourceStore=r.store),r.translator=new S(r.services,a),r.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];r.emit(e,...n)})),r.init(a,t),r.translator.options=a,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const $=B.createInstance();$.createInstance=B.createInstance,$.createInstance,$.dir,$.init,$.loadResources,$.reloadResources,$.use,$.changeLanguage,$.getFixedT,$.t,$.exists,$.setDefaultNamespace,$.hasLoadedNamespace,$.loadNamespaces,$.loadLanguages;var W=s(650),U=s.n(W);s(304),Object.create(null);const X={};function H(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&X[t[0]]||("string"==typeof t[0]&&(X[t[0]]=new Date),function(){if(console&&console.warn){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&(t[0]=`react-i18next:: ${t[0]}`),console.warn(...t)}}(...t))}const V=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout((()=>{e.off("initialized",n)}),0),t()};e.on("initialized",n)}};function q(e,t,n){e.loadNamespaces(t,V(e,n))}function z(e,t,n,a){"string"==typeof n&&(n=[n]),n.forEach((t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)})),e.loadLanguages(t,V(e,a))}const G=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,K={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},_=e=>K[e];let J,Y={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(G,_)};const Z={type:"3rdParty",init(e){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Y={...Y,...e}}(e.options.react),function(e){J=e}(e)}},Q=(0,W.createContext)();class ee{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach((e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)}))}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}function te(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:n}=t,{i18n:a,defaultNS:r}=(0,W.useContext)(Q)||{},i=n||a||J;if(i&&!i.reportNamespaces&&(i.reportNamespaces=new ee),!i){H("You will need to pass in an i18next instance by using initReactI18next");const e=(e,t)=>"string"==typeof t?t:t&&"object"==typeof t&&"string"==typeof t.defaultValue?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}i.options.react&&void 0!==i.options.react.wait&&H("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Y,...i.options.react,...t},{useSuspense:s,keyPrefix:l}=o;let u=e||r||i.options&&i.options.defaultNS;u="string"==typeof u?[u]:u||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(u);const c=(i.isInitialized||i.initializedStoreOnce)&&u.every((e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e))return!1}}):function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=t.languages[0],r=!!t.options&&t.options.fallbackLng,i=t.languages[t.languages.length-1];if("cimode"===a.toLowerCase())return!0;const o=(e,n)=>{const a=t.services.backendConnector.state[`${e}|${n}`];return-1===a||2===a};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!o(t.isLanguageChangingTo,e)||!t.hasResourceBundle(a,e)&&t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages)&&(!o(a,e)||r&&!o(i,e)))}(e,t,n):(H("i18n.languages were undefined or empty",t.languages),!0)}(e,i,o)));function d(){return i.getFixedT(t.lng||null,"fallback"===o.nsMode?u:u[0],l)}const[p,h]=(0,W.useState)(d);let g=u.join();t.lng&&(g=`${t.lng}${g}`);const f=((e,t)=>{const n=(0,W.useRef)();return(0,W.useEffect)((()=>{n.current=e}),[e,t]),n.current})(g),m=(0,W.useRef)(!0);(0,W.useEffect)((()=>{const{bindI18n:e,bindI18nStore:n}=o;function a(){m.current&&h(d)}return m.current=!0,c||s||(t.lng?z(i,t.lng,u,(()=>{m.current&&h(d)})):q(i,u,(()=>{m.current&&h(d)}))),c&&f&&f!==g&&m.current&&h(d),e&&i&&i.on(e,a),n&&i&&i.store.on(n,a),()=>{m.current=!1,e&&i&&e.split(" ").forEach((e=>i.off(e,a))),n&&i&&n.split(" ").forEach((e=>i.store.off(e,a)))}}),[i,g]);const b=(0,W.useRef)(!0);(0,W.useEffect)((()=>{m.current&&!b.current&&h(d),b.current=!1}),[i,l]);const y=[p,i,c];if(y.t=p,y.i18n=i,y.ready=c,c)return y;if(!c&&!s)return y;throw new Promise((e=>{t.lng?z(i,t.lng,u,(()=>e())):q(i,u,(()=>e()))}))}var ne,ae=s(545);!function(e){e.DE="de",e.EN="en",e.ES="es",e.FR="fr",e.ZH="zh"}(ne||(ne={}));const re=ne.EN,ie=JSON.parse('{"config":{"description":"Business Intelligence App for Grafana.","updateButton":"Update Einstellungen"}}'),oe={en:{translation:JSON.parse('{"alert":{"annotationOptions":{"disabled":"Disabled","enabled":"Enabled"},"evaluationTypeOptions":{"anomaly":"Anomaly Detection","pattern":"Regex Pattern","thresholds":"Thresholds"},"state":{"alerting":"Alerting","error":"Error","ok":"OK","scheduled":"Scheduled"},"thresholdColorsOptions":{"green":"Green"},"timeRangeSourceOptions":{"configured":"Custom","dashboard":"From Dashboard"}},"alertingPanel":{"panel":{"alertOverview":{"actionLabel":"Action","annotationsLabel":"Annotations","closeButton":"Close","errorDetailsLabel":"Error Details","evaluation":{"fieldLabel":"Fields","patternLabel":"Pattern"},"evaluationLabel":"Evaluation","evaluationTypeLabel":"Type","invalidSchedule":"Invalid Cron Format","panelLabel":"Panel","panelOptions":{"untitled":"Untitled"},"removedPanel":"Removed Panel","saveButton":"Save","scheduleLabel":"Schedule","schedulePlaceholder":"Cron schedule, */5 * * * *","targetLabel":"Target","timeRange":{"from":"From","to":"To"},"timeRangeLabel":"Time Range","timeRangeSourceLabel":"Source","untitled":"Untitled","webhooksLabel":"Webhooks"},"alertsList":{"activateButton":"Start","addButton":"Add Rule","addDrawer":{"title":"Add Alert Rule"},"alertActivatedMessage":"Alert Rule \'{{name}}\' has been activated.","alertActivatedTitle":"Success","alertCreatedMessage":"Alert Rule \'{{name}}\' has been created.","alertCreatedTitle":"Success","alertDeletedMessage":"Alert Rule \'{{name}}\' has been deleted.","alertDeletedTitle":"Success","alertPausedMessage":"Alert Rule \'{{name}}\' has been paused.","alertPausedTitle":"Success","alertUpdatedMessage":"Alert Rule \'{{name}}\' has been updated.","alertUpdatedTitle":"Success","collapseAllButton":"Collapse All","deleteButton":"Delete","deleteConfirmModal":{"body":"Please confirm to delete Alert Rule \'{{name}}\'.","confirmButton":"Delete","confirmButtonLoading":"Deleting...","title":"Delete"},"editButton":"Edit","editDrawer":{"title":"Edit Alert Rule"},"expandAllButton":"Expand All","lastTriggeredDate":"Last Triggered at {{- date, datetime}}","noItemsMessage":"Please add one or more alert rules to start.","noItemsTitle":"Getting Started","noWebhooksMessage":"Please add webhooks to start working with alert rules.","overviewButton":"Details","overviewDrawer":{"title":"Alert Rule \'{{name}}\'"},"pauseButton":"Pause","removedDashboardTitle":"Dashboard removed","removedPanelTitle":"Panel removed","schedule":"Scheduled at {{schedule}}.","status":{"active":"Active","paused":"Paused"},"targetStatus":{"invalid":"Invalid","valid":"Valid"}},"editAlert":{"actionLabel":"Action","annotationsLabel":"Add Annotations","closeButton":"Close","dashboardLabel":"Dashboard","evaluation":{"fieldLabel":"Fields","fieldTooltip":"Regex expression. Example: title$|message$. If empty, will be applied to all fields","patternLabel":"Pattern","patternTooltip":"Regex expression. Example: warn|error"},"evaluationLabel":"Evaluation","evaluationTypeLabel":"Type","invalidSchedule":"Invalid Cron Format","noWebhooksError":"Please select at least one webhook or create default","panelLabel":"Panel","panelOptions":{"untitled":"Untitled"},"queryLabel":"Query","saveButton":"Save","scheduleLabel":"Schedule","schedulePlaceholder":"Cron schedule, */5 * * * *","targetLabel":"Target","thresholdColors":{"fieldLabel":"Allowable Colors","fieldTooltip":"Alert rule will be triggered on all thresholds which are not in a specific color range"},"timeRange":{"from":"From","to":"To"},"timeRangeLabel":"Time Range","timeRangeSourceLabel":"Source","titleLabel":"Title","webhooksLabel":"Webhooks","webhooksNoDefaultMessage":"Default Webhook doesn\'t exist","webhooksPlaceholder":"Default Webhook \'{{name}}\' will be used"},"tabs":{"alerts":"Alert Rules","webhooks":"Webhooks"},"webhookDetails":{"closeButton":"Close","defaultLabel":"Use by Default","isDefaultOptions":{"disabled":"Disabled","enabled":"Enabled"},"requestOptions":{"label":"Request","methodLabel":"Method","urlLabel":"URL"},"saveButton":"Save","testButton":"Test Connectivity","testErrorTitle":"Error","testProgressMessage":"Checking...","testProgressTitle":"Test Connectivity","testSuccessMessage":"Connected","testSuccessTitle":"Success","titleLabel":"Title","typeLabel":"Type"},"webhookType":{"custom":"Test","request":"HTTP Request"},"webhooksList":{"addButton":"Add Webhook","addDrawer":{"title":"Add Webhook"},"deleteButton":"Delete","deleteButtonDisabled":"Webhook is being used","deleteConfirmModal":{"body":"Please confirm to delete Webhook \'{{name}}\'.","confirmButton":"Delete","confirmButtonLoading":"Deleting...","title":"Delete"},"editButton":"Edit","editDrawer":{"title":"Edit Webhook"},"isDefault":"Default","noItemsMessage":"Please add one or more webhooks to start.","noItemsTitle":"Getting Started","testButton":"Test","webhookCreatedMessage":"Webhook \'{{name}}\' has been created.","webhookCreatedTitle":"Success","webhookDeletedMessage":"Webhook \'{{name}}\' has been deleted.","webhookDeletedTitle":"Success","webhookTestedMessage":"Webhook \'{{name}}\' connected.","webhookTestedTitle":"Success","webhookUpdatedMessage":"Webhook \'{{name}}\' has been updated.","webhookUpdatedTitle":"Success"}}},"api":{"error":"Error","licenseVerificationFailed":"License verification failed.","limitReached":"License limit reached.","names":{"createAlert":"Create Alert Rule","createWebhook":"Create Webhook","deleteAlert":"Delete Alert Rule","deleteWebhook":"Delete Webhook","getAlerts":"Get Alert Rules","getDefaultWebhook":"Get Default Webhook","getTriggerEvent":"Get Trigger Event","getWebhooks":"Get Webhooks","ping":"Ping","testWebhook":"Test Webhook","updateAlert":"Update Alert Rule","updateAlertStatus":"Update Alert Rule Status","updateWebhook":"Update Webhook"},"requestFailed":"{{name}}: Request failed.","testDatasource":{"connected":"Connected","connectionFailed":"Error. Can\'t connect.","licenseActivated":"Connected. Current license limits: {{alerts}} alert rules, {{forecasts}} forecasts."}},"basic":{"wait":"Please wait"},"config":{"description":"Business Intelligence App for Grafana.","updateButton":"Update Settings"},"engineDatasource":{"configEditor":{"configured":"Configured","tokenLabel":"Access Token","urlLabel":"URL"}},"messages":{"loading":"Loading...","notAvailableMessage":"Engine is unavailable. Please check data source settings and try again","notAvailableTitle":"Not Available"}}')},es:{translation:JSON.parse('{"config":{"description":"Business Intelligence App for Grafana.","updateButton":"Ajustes de actualización"}}')},fr:{translation:JSON.parse('{"config":{"description":"Business Intelligence App for Grafana.","updateButton":"Mettre à jour les paramètres"}}')},de:{translation:ie},zh:{translation:JSON.parse('{"config":{"description":"Business Intelligence App for Grafana.","updateButton":"更新设置"}}')}};$.use(Z).init({lng:((e=re)=>{var t,n,a;const r=null===ae.config||void 0===ae.config||null===(n=ae.config.bootData)||void 0===n||null===(t=n.user)||void 0===t?void 0:t.language,i=null==r||null===(a=r.split("-"))||void 0===a?void 0:a[0];switch(i){case ne.EN:case ne.ES:case ne.FR:case ne.DE:case ne.ZH:return i;default:return e}})(),debug:!1,resources:oe,defaultNS:"translation"});const se={dateWithTime:{dateStyle:"short",timeStyle:"medium"}};var le=s(305);function ue(e,t,n,a,r,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function ce(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){ue(i,a,r,o,s,"next",e)}function s(e){ue(i,a,r,o,s,"throw",e)}o(void 0)}))}}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const pe=({datasource:e,query:t,initial:n})=>{const[a,r]=(0,W.useState)(n),[i,o]=(0,W.useState)(!1),[s,l]=(0,W.useState)(!1),u=(0,W.useCallback)(ce((function*(){if(e&&e.api){o(!0),l(!1);try{const i=yield t((n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){de(e,t,n[t])}))}return e}({},e),a={api:e.api},a=null!=a?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n.push.apply(n,a)}return n}(Object(a)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))})),n));r(i),o(!1)}catch(e){o(!1),l(!0)}}else l(!0);var n,a})),[e,t]);return(0,W.useEffect)((()=>{u()}),[e,u,t]),{data:a,loading:i,update:u,error:s}};function he(e,t,n,a,r,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function ge(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){he(i,a,r,o,s,"next",e)}function s(e){he(i,a,r,o,s,"throw",e)}o(void 0)}))}}const fe=(me=ge((function*(e){var t;const n=null===(t=e.request)||void 0===t?void 0:t.targets.filter((e=>{var t;return"volkovlabs-engine-datasource"===(null===(t=e.datasource)||void 0===t?void 0:t.type)}));if(!n||!n.length||!n[0].datasource)return null;const a=yield(0,ae.getDataSourceSrv)().get(n[0].datasource);return a&&a.api?a:null})),function(e){return me.apply(this,arguments)});var me;const be=e=>{const[t,n]=(0,W.useState)(null);return(0,W.useEffect)((()=>{const t=function(){var t=ge((function*(){const t=yield fe(e);n(t)}));return function(){return t.apply(this,arguments)}}();t()}),[e]),t};var ye,ve,Oe,Se,we,Ee,ke,Pe,xe,Le,Te;!function(e){e.ACTIVE="active",e.PAUSED="paused"}(ye||(ye={})),function(e){e.CONFIGURED="configured",e.DASHBOARD="dashboard"}(ve||(ve={})),function(e){e.ANOMALY="anomaly",e.PATTERN="pattern",e.THRESHOLDS="thresholds"}(Oe||(Oe={})),function(e){e.GREEN="green"}(Se||(Se={})),function(e){e.SCHEDULED="scheduled",e.OK="ok",e.ALERTING="alerting",e.ERROR="error"}(we||(we={})),function(e){e.SUCCESS="success",e.ERROR="error"}(Ee||(Ee={})),(Te=ke||(ke={})).EMPTY_TOKEN="emptyToken",Te.INVALID_TOKEN="invalidToken",Te.LICENSE_VERIFICATION_FAILED="licenseVerificationFailed",Te.LIMIT_REACHED="limitReached",function(e){e.CREATE_ALERT="createAlert",e.CREATE_WEBHOOK="createWebhook",e.DELETE_ALERT="deleteAlert",e.DELETE_WEBHOOK="deleteWebhook",e.GET_ALERTS="getAlerts",e.GET_TRIGGER_EVENT="getTriggerEvent",e.GET_WEBHOOKS="getWebhooks",e.GET_DEFAULT_WEBHOOK="getDefaultWebhook",e.PING="ping",e.UPDATE_ALERT="updateAlert",e.UPDATE_WEBHOOK="updateWebhook",e.TEST_WEBHOOK="testWebhook",e.UPDATE_ALERT_STATUS="updateAlertStatus"}(Pe||(Pe={})),function(e){e.REQUEST="request",e.CUSTOM="custom"}(xe||(xe={})),function(e){e.POST="POST"}(Le||(Le={}));const De=(0,ae.getAppEvents)(),Ce=e=>De.publish({type:le.AppEvents.alertSuccess.name,payload:e});var Re,Ie=s(644),Ae=s(388);!function(e){e.ALERTS="alerts",e.WEBHOOKS="webhooks"}(Re||(Re={}));const Ne=e=>[{label:e("alert.timeRangeSourceOptions.dashboard"),value:ve.DASHBOARD,icon:"dashboard"},{label:e("alert.timeRangeSourceOptions.configured"),value:ve.CONFIGURED,icon:"clock-nine"}],Me=e=>[{label:e("alert.evaluationTypeOptions.thresholds"),value:Oe.THRESHOLDS,icon:"sliders-v-alt"},{label:e("alert.evaluationTypeOptions.pattern"),value:Oe.PATTERN,icon:"text-fields"}],je=e=>[{label:e("alert.thresholdColorsOptions.green"),value:Se.GREEN,icon:"check-circle"}],Fe=e=>[{value:!0,label:e("alert.annotationOptions.enabled"),icon:"check-circle"},{value:!1,label:e("alert.annotationOptions.disabled"),icon:"times-circle"}],Be="data-testid panel",$e=e=>`alerting-panel tab-option-${e}`,We="data-testid alerting-panel alerts-loading-message",Ue="data-testid alerting-panel webhooks-loading-message",Xe=604800,He=86400,Ve=3600,qe=e=>e<=0?"now":e>=Xe&&e%Xe==0?`now-${e/Xe}w`:e>=He&&e%He==0?`now-${e/He}d`:e>=Ve&&e%Ve==0?`now-${e/Ve}h`:e>=60&&e%60==0?`now-${e/60}m`:`now-${e}s`,ze=(e,t)=>e.evaluationType===t;function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ke=(e,t)=>e.map((e=>{return n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){Ge(e,t,n[t])}))}return e}({},e),a=null!=(a={ariaLabel:t(e.value)})?a:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n.push.apply(n,a)}return n}(Object(a)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))})),n;var n,a})),_e=({size:e,fill:t="#212121"})=>U().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:e,height:e,fill:t},U().createElement("path",{d:"M16.076 10.98a.75.75 0 0 0-1.152-.96L13 12.329l-1.924-2.31a.75.75 0 0 0-1.106-.05l-2.5 2.5a.75.75 0 1 0 1.06 1.061l1.92-1.919 1.974 2.37a.75.75 0 0 0 1.152 0l2.5-3Z"}),U().createElement("path",{d:"M1.75 11.5c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75a9.72 9.72 0 0 1-2.866 6.904l1.702 2.128a.75.75 0 0 1-1.172.936l-1.67-2.088a9.706 9.706 0 0 1-5.744 1.87c-5.385 0-9.75-4.365-9.75-9.75Zm9.75-8.25a8.25 8.25 0 1 0 0 16.5 8.25 8.25 0 0 0 0-16.5Z"})),Je=({size:e,fill:t="#4B4B4B",fill2:n="#4A4A4A"})=>U().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,preserveAspectRatio:"xMidYMid",viewBox:"0 0 256 239",id:"webhooks"},U().createElement("path",{fill:t,d:"M119.54 100.503c-10.61 17.836-20.775 35.108-31.152 52.25-2.665 4.401-3.984 7.986-1.855 13.58 5.878 15.454-2.414 30.493-17.998 34.575-14.697 3.851-29.016-5.808-31.932-21.543-2.584-13.927 8.224-27.58 23.58-29.757 1.286-.184 2.6-.205 4.762-.367l23.358-39.168C73.612 95.465 64.868 78.39 66.803 57.23c1.368-14.957 7.25-27.883 18-38.477 20.59-20.288 52.002-23.573 76.246-8.001 23.284 14.958 33.948 44.094 24.858 69.031-6.854-1.858-13.756-3.732-21.343-5.79 2.854-13.865.743-26.315-8.608-36.981-6.178-7.042-14.106-10.733-23.12-12.093-18.072-2.73-35.815 8.88-41.08 26.618-5.976 20.13 3.069 36.575 27.784 48.967z"}),U().createElement("path",{fill:n,d:"M149.841 79.41c7.475 13.187 15.065 26.573 22.587 39.836 38.02-11.763 66.686 9.284 76.97 31.817 12.422 27.219 3.93 59.457-20.465 76.25-25.04 17.238-56.707 14.293-78.892-7.851 5.654-4.733 11.336-9.487 17.407-14.566 21.912 14.192 41.077 13.524 55.305-3.282 12.133-14.337 11.87-35.714-.615-49.75-14.408-16.197-33.707-16.691-57.035-1.143-9.677-17.168-19.522-34.199-28.893-51.491-3.16-5.828-6.648-9.21-13.77-10.443-11.893-2.062-19.571-12.275-20.032-23.717-.453-11.316 6.214-21.545 16.634-25.53 10.322-3.949 22.435-.762 29.378 8.014 5.674 7.17 7.477 15.24 4.491 24.083-.83 2.466-1.905 4.852-3.07 7.774z"}),U().createElement("path",{fill:n,d:"M167.707 187.21h-45.77c-4.387 18.044-13.863 32.612-30.19 41.876-12.693 7.2-26.373 9.641-40.933 7.29-26.808-4.323-48.728-28.456-50.658-55.63-2.184-30.784 18.975-58.147 47.178-64.293 1.947 7.071 3.915 14.21 5.862 21.264-25.876 13.202-34.832 29.836-27.59 50.636 6.375 18.304 24.484 28.337 44.147 24.457 20.08-3.962 30.204-20.65 28.968-47.432 19.036 0 38.088-.197 57.126.097 7.434.117 13.173-.654 18.773-7.208 9.22-10.784 26.191-9.811 36.121.374 10.148 10.409 9.662 27.157-1.077 37.127-10.361 9.62-26.73 9.106-36.424-1.26-1.992-2.136-3.562-4.673-5.533-7.298z"}));var Ye=s(635),Ze=s.n(Ye);const Qe=()=>{const e=ae.config.bootData.user.orgRole===le.OrgRole.Editor||ae.config.bootData.user.orgRole===le.OrgRole.Admin;return(0,W.useMemo)((()=>({alerts:{add:e,view:!0,edit:e,changeStatus:!0,delete:e},webhooks:{add:e,view:!0,edit:e,test:!0,delete:e}})),[e])},et=e=>({scheduleDescription:Ie.css`
      font-size: ${e.typography.bodySmall.fontSize};
    `,scheduleDescriptionInvalid:Ie.css`
      color: ${e.colors.error.text};
    `,footer:Ie.css`
      gap: ${e.spacing(1)};
      display: flex;
      padding-bottom: ${e.spacing(1)};
    `,target:Ie.css`
      align-items: center;
      margin-bottom: ${e.spacing(2)};
    `,targetLabel:Ie.css`
      margin: ${e.spacing(0,0,0,1)};
    `,stateHeader:Ie.css`
      display: flex;
      gap: ${e.spacing(1)};
      align-items: center;
    `,triggerEventCode:Ie.css`
      display: block;
      white-space: pre-wrap;
      max-height: 100vh;
      overflow: auto;
    `});function tt(e,t,n,a,r,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function nt(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){tt(i,a,r,o,s,"next",e)}function s(e){tt(i,a,r,o,s,"throw",e)}o(void 0)}))}}const at=({datasource:e,onClose:t,alert:n})=>{const a=(0,Ae.useStyles2)(et),{t:r}=te(),i=18,{data:o}=pe({initial:null,query:(0,W.useCallback)(function(){var e=nt((function*(e){return n.dashboardId?e.api.grafana.getDashboardInfo(n.dashboardId):null}));return function(t){return e.apply(this,arguments)}}(),[n.dashboardId]),datasource:e}),{data:s,loading:l}=pe({initial:[],query:(0,W.useCallback)(function(){var e=nt((function*(e){return e.api.webhooks.getAll()}));return function(t){return e.apply(this,arguments)}}(),[]),datasource:e}),{data:u,loading:c}=pe({initial:null,query:(0,W.useCallback)(function(){var e=nt((function*(e){return n.state===we.ERROR?e.api.alerts.getTriggerEvent(n.id):null}));return function(t){return e.apply(this,arguments)}}(),[n.id,n.state]),datasource:e}),{data:d,loading:p}=pe({initial:null,query:(0,W.useCallback)(function(){var e=nt((function*(e){return n.webhookIds.length?null:e.api.webhooks.getDefault()}));return function(t){return e.apply(this,arguments)}}(),[n.webhookIds.length]),datasource:e}),h=(0,W.useMemo)((()=>{if(!o)return"";const e=o.panels.find((e=>e.id===n.panelId));return e?`${(null==e?void 0:e.title)||r("alertingPanel.panel.alertOverview.untitled")} [${null==e?void 0:e.type}]`:r("alertingPanel.panel.alertOverview.removedPanel")}),[n.panelId,o,r]),g=(0,W.useMemo)((()=>s.map((e=>({value:e.id,label:e.title})))),[s]),f=(0,W.useMemo)((()=>Fe(r)),[r]),m=(0,W.useMemo)((()=>Ne(r)),[r]),b=(0,W.useMemo)((()=>Me(r)),[r]),y=(0,W.useMemo)((()=>je(r)),[r]);var v;return U().createElement(U().Fragment,null,U().createElement(Ae.InlineField,{label:r("alertingPanel.panel.alertOverview.targetLabel"),className:a.target,labelWidth:i},U().createElement(Ae.Label,{category:[null!==(v=null==o?void 0:o.title)&&void 0!==v?v:""],className:a.targetLabel},h)),U().createElement(Ae.FieldSet,{label:r("alertingPanel.panel.alertOverview.timeRangeLabel")},U().createElement(Ae.InlineField,{label:r("alertingPanel.panel.alertOverview.timeRangeSourceLabel"),labelWidth:i,disabled:!0},U().createElement(Ae.RadioButtonGroup,{options:m,value:n.timeRangeSource})),n.timeRangeSource===ve.CONFIGURED&&!!n.timeRange&&U().createElement(Ae.InlineFieldRow,null,U().createElement(Ae.InlineField,{label:r("alertingPanel.panel.alertOverview.timeRange.from"),disabled:!0,labelWidth:i},U().createElement(Ae.Input,{value:qe(n.timeRange.from)})),U().createElement(Ae.InlineField,{label:r("alertingPanel.panel.alertOverview.timeRange.to"),disabled:!0,labelWidth:i,grow:!0},U().createElement(Ae.Input,{value:qe(n.timeRange.to)}))),n.timeRangeSource===ve.DASHBOARD&&(null==o?void 0:o.time)&&U().createElement(Ae.InlineFieldRow,null,U().createElement(Ae.InlineField,{label:r("alertingPanel.panel.alertOverview.timeRange.from"),disabled:!0,labelWidth:i},U().createElement(Ae.Input,{value:null==o?void 0:o.time.from})),U().createElement(Ae.InlineField,{label:r("alertingPanel.panel.alertOverview.timeRange.to"),disabled:!0,labelWidth:i,grow:!0},U().createElement(Ae.Input,{value:null==o?void 0:o.time.to})))),U().createElement(Ae.FieldSet,{label:r("alertingPanel.panel.alertOverview.evaluationLabel")},U().createElement(Ae.InlineField,{label:r("alertingPanel.panel.alertOverview.evaluationTypeLabel"),labelWidth:i,disabled:!0},U().createElement(Ae.RadioButtonGroup,{options:b,value:n.evaluationType||Oe.THRESHOLDS})),ze(n,Oe.PATTERN)&&U().createElement(U().Fragment,null,U().createElement(Ae.InlineField,{label:r("alertingPanel.panel.alertOverview.evaluation.fieldLabel"),labelWidth:i,grow:!0,disabled:!0},U().createElement(Ae.Input,{value:n.evaluation.field})),U().createElement(Ae.InlineField,{label:r("alertingPanel.panel.alertOverview.evaluation.patternLabel"),labelWidth:i,grow:!0,disabled:!0},U().createElement(Ae.Input,{value:n.evaluation.pattern}))),ze(n,Oe.THRESHOLDS)&&U().createElement(Ae.InlineField,{label:r("alertingPanel.panel.editAlert.thresholdColors.fieldLabel"),labelWidth:i,shrink:!0,grow:!0,disabled:!0},U().createElement(Ae.RadioButtonGroup,{options:y,value:Se.GREEN}))),U().createElement(Ae.FieldSet,{label:r("alertingPanel.panel.alertOverview.actionLabel")},U().createElement(Ae.InlineFieldRow,null,U().createElement(Ae.InlineField,{label:r("alertingPanel.panel.alertOverview.webhooksLabel"),labelWidth:i,grow:!0,disabled:!0},U().createElement(Ae.Select,{onChange:()=>{},value:n.webhookIds.length?n.webhookIds:d?[d.id]:[],options:g,isMulti:!0,isLoading:l||p}))),U().createElement(Ae.InlineFieldRow,null,U().createElement(Ae.InlineField,{label:r("alertingPanel.panel.alertOverview.annotationsLabel"),grow:!0,disabled:!0,labelWidth:i},U().createElement(Ae.RadioButtonGroup,{options:f,value:n.annotations})))),n.state===we.ERROR&&U().createElement(Ae.FieldSet,{label:r("alertingPanel.panel.alertOverview.errorDetailsLabel")},c?U().createElement(Ae.Alert,{severity:"info",title:r("basic.wait")},U().createElement(Ae.LoadingPlaceholder,{text:r("messages.loading")})):U().createElement("code",{className:a.triggerEventCode},JSON.stringify(u,null,2))),U().createElement("footer",{className:a.footer},U().createElement(Ae.Button,{variant:"secondary",onClick:t},r("alertingPanel.panel.alertOverview.closeButton"))))},rt=e=>({helpText:Ie.css`
      font-size: ${e.typography.bodySmall.fontSize};
    `,helpTextInvalid:Ie.css`
      color: ${e.colors.error.text};
    `,footer:Ie.css`
      gap: ${e.spacing(1)};
      display: flex;
      padding-bottom: ${e.spacing(1)};
    `});function it(e,t,n,a,r,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function ot(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){it(i,a,r,o,s,"next",e)}function s(e){it(i,a,r,o,s,"throw",e)}o(void 0)}))}}function st(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){st(e,t,n[t])}))}return e}function ut(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const ct=({datasource:e,onSave:t,onClose:n,initial:a})=>{const r=(0,Ae.useStyles2)(rt),{t:i,i18n:o}=te(),s=18,[l,u]=(0,W.useState)(a||{annotations:!1,dashboardId:null,evaluationType:Oe.THRESHOLDS,id:"",panelId:null,schedule:"*/5 * * * *",status:ye.ACTIVE,timeRangeSource:ve.DASHBOARD,title:"",webhookIds:[],evaluation:{}}),[c,d]=(0,W.useState)(!1),{data:p,loading:h}=pe({initial:[],query:(0,W.useCallback)((e=>e.api.grafana.getDashboards()),[]),datasource:e}),g=(0,W.useMemo)((()=>p.map((e=>({value:e.uid,label:e.title})))),[p]),{data:f,loading:m}=pe({initial:null,query:(0,W.useCallback)(function(){var e=ot((function*(e){return l.dashboardId?e.api.grafana.getDashboardInfo(l.dashboardId):null}));return function(t){return e.apply(this,arguments)}}(),[l.dashboardId]),datasource:e}),{data:b,loading:y}=pe({initial:[],query:(0,W.useCallback)(function(){var e=ot((function*(e){return e.api.webhooks.getAll()}));return function(t){return e.apply(this,arguments)}}(),[]),datasource:e}),{data:v,loading:O}=pe({initial:null,query:(0,W.useCallback)(function(){var e=ot((function*(e){return l.webhookIds.length?null:e.api.webhooks.getDefault()}));return function(t){return e.apply(this,arguments)}}(),[l.webhookIds.length]),datasource:e}),S=(0,W.useMemo)((()=>f?f.panels.map((e=>({value:e.id,label:`${e.title||i("alertingPanel.panel.editAlert.panelOptions.untitled")} [${e.type}]`}))):[]),[f,i]),w=(0,W.useMemo)((()=>b.map((e=>({value:e.id,label:e.title})))),[b]),E=(0,W.useMemo)((()=>Fe(i)),[i]),k=(0,W.useMemo)((()=>{try{return Ze().toString(l.schedule,{locale:o.language})}catch(e){return""}}),[l.schedule,o.language]),P=(0,W.useMemo)((()=>!(!(l.title&&l.panelId&&l.schedule&&k)||0===l.webhookIds.length&&!v||ze(l,Oe.PATTERN)&&!l.evaluation.pattern.trim())),[l,v,k]),x=(0,W.useMemo)((()=>Ne(i)),[i]),L=(0,W.useMemo)((()=>Me(i)),[i]),T=(0,W.useMemo)((()=>je(i)),[i]);return U().createElement(U().Fragment,null,U().createElement(Ae.FieldSet,null,U().createElement(Ae.InlineField,{label:i("alertingPanel.panel.editAlert.titleLabel"),grow:!0,labelWidth:s,required:!0},U().createElement(Ae.Input,{onChange:e=>{u(ut(lt({},l),{title:e.currentTarget.value}))},value:l.title})),U().createElement(Ae.InlineField,{label:i("alertingPanel.panel.editAlert.scheduleLabel"),labelWidth:s,grow:!0,required:!0},U().createElement(Ae.Input,{onChange:e=>{u(ut(lt({},l),{schedule:e.currentTarget.value}))},value:l.schedule,placeholder:i("alertingPanel.panel.editAlert.schedulePlaceholder")})),U().createElement(Ae.InlineField,{label:"",labelWidth:s,transparent:!0,grow:!0,shrink:!0},U().createElement("div",{className:(0,Ie.cx)(r.helpText,{[r.helpTextInvalid]:!k})},k||i("alertingPanel.panel.editAlert.invalidSchedule")))),U().createElement(Ae.FieldSet,{label:i("alertingPanel.panel.editAlert.targetLabel")},U().createElement(Ae.InlineField,{label:i("alertingPanel.panel.editAlert.dashboardLabel"),grow:!0,labelWidth:s,required:!0},U().createElement(Ae.Select,{onChange:e=>{u(ut(lt({},l),{dashboardId:e.value,panelId:null}))},value:l.dashboardId,options:g,isLoading:h})),U().createElement(Ae.InlineField,{label:i("alertingPanel.panel.editAlert.panelLabel"),grow:!0,labelWidth:s,required:!0},U().createElement(Ae.Select,{onChange:e=>{u(ut(lt({},l),{panelId:e.value}))},value:l.panelId,options:S,isLoading:m}))),U().createElement(Ae.FieldSet,{label:i("alertingPanel.panel.editAlert.timeRangeLabel")},U().createElement(Ae.InlineField,{label:i("alertingPanel.panel.editAlert.timeRangeSourceLabel"),labelWidth:s,required:!0},U().createElement(Ae.RadioButtonGroup,{options:x,onChange:e=>{u(ut(lt({},l),{timeRangeSource:e,timeRange:e===ve.DASHBOARD?void 0:{from:600,to:0}}))},value:l.timeRangeSource})),l.timeRangeSource===ve.CONFIGURED&&l.timeRange&&U().createElement(Ae.InlineField,{label:i("alertingPanel.panel.editAlert.timeRangeLabel"),labelWidth:s,required:!0},U().createElement(Ae.RelativeTimeRangePicker,{timeRange:l.timeRange,onChange:e=>{u(ut(lt({},l),{timeRange:e}))}})),l.timeRangeSource===ve.DASHBOARD&&(null==f?void 0:f.time)&&U().createElement(Ae.InlineFieldRow,null,U().createElement(Ae.InlineField,{label:i("alertingPanel.panel.editAlert.timeRange.from"),labelWidth:s,disabled:!0},U().createElement(Ae.Input,{value:null==f?void 0:f.time.from})),U().createElement(Ae.InlineField,{label:i("alertingPanel.panel.editAlert.timeRange.to"),labelWidth:s,grow:!0,disabled:!0},U().createElement(Ae.Input,{value:null==f?void 0:f.time.to})))),U().createElement(Ae.FieldSet,{label:i("alertingPanel.panel.editAlert.evaluationLabel")},U().createElement(Ae.InlineField,{label:i("alertingPanel.panel.editAlert.evaluationTypeLabel"),labelWidth:s,required:!0},U().createElement(Ae.RadioButtonGroup,{options:L,onChange:e=>{u(ut(lt({},l),{evaluationType:e,evaluation:e===Oe.PATTERN?{field:"",pattern:""}:{}}))},value:l.evaluationType||Oe.THRESHOLDS})),ze(l,Oe.PATTERN)&&U().createElement(U().Fragment,null,U().createElement(Ae.InlineField,{label:i("alertingPanel.panel.editAlert.evaluation.fieldLabel"),labelWidth:s,tooltip:i("alertingPanel.panel.editAlert.evaluation.fieldTooltip"),grow:!0},U().createElement(Ae.Input,{onChange:e=>{u(ut(lt({},l),{evaluation:ut(lt({},l.evaluation),{field:e.currentTarget.value})}))},value:l.evaluation.field})),U().createElement(Ae.InlineField,{label:i("alertingPanel.panel.editAlert.evaluation.patternLabel"),labelWidth:s,required:!0,tooltip:i("alertingPanel.panel.editAlert.evaluation.patternTooltip"),grow:!0},U().createElement(Ae.Input,{onChange:e=>{u(ut(lt({},l),{evaluation:ut(lt({},l.evaluation),{pattern:e.currentTarget.value})}))},value:l.evaluation.pattern}))),ze(l,Oe.THRESHOLDS)&&U().createElement(Ae.InlineField,{label:i("alertingPanel.panel.editAlert.thresholdColors.fieldLabel"),labelWidth:s,shrink:!0,grow:!0,tooltip:i("alertingPanel.panel.editAlert.thresholdColors.fieldTooltip")},U().createElement(Ae.RadioButtonGroup,{options:T,value:Se.GREEN}))),U().createElement(Ae.FieldSet,{label:i("alertingPanel.panel.editAlert.actionLabel")},U().createElement(Ae.InlineField,{label:i("alertingPanel.panel.editAlert.webhooksLabel"),labelWidth:s,grow:!0,invalid:!(l.webhookIds.length>0||v),error:i("alertingPanel.panel.editAlert.noWebhooksError")},U().createElement(Ae.Select,{onChange:e=>{const t=Array.isArray(e)?e:[e];u(ut(lt({},l),{webhookIds:t.map((({value:e})=>e)).filter((e=>!!e))}))},value:l.webhookIds,options:w,isMulti:!0,isLoading:y||O,placeholder:v?i("alertingPanel.panel.editAlert.webhooksPlaceholder",{name:v.title}):i("alertingPanel.panel.editAlert.webhooksNoDefaultMessage")})),U().createElement(Ae.InlineField,{label:i("alertingPanel.panel.editAlert.annotationsLabel"),labelWidth:s,grow:!0,required:!0},U().createElement(Ae.RadioButtonGroup,{options:E,onChange:e=>{u((t=>ut(lt({},t),{annotations:e})))},value:l.annotations}))),U().createElement("footer",{className:r.footer},U().createElement(Ae.Button,{variant:"secondary",onClick:n},i("alertingPanel.panel.editAlert.closeButton")),U().createElement(Ae.Button,{onClick:ot((function*(){d(!0),yield t(l),d(!1)})),disabled:!P||c},i("alertingPanel.panel.editAlert.saveButton"))))},dt=e=>({root:Ie.css`
      display: flex;
      flex-direction: column;
      overflow: auto;
      max-height: 100%;
    `,header:Ie.css`
      margin-bottom: ${e.spacing(1)};
      gap: ${e.spacing(.5)};
      display: flex;
    `,secondaryActions:Ie.css`
      justify-content: flex-end;
    `});function pt(e,t,n,a,r,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function ht(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){pt(i,a,r,o,s,"next",e)}function s(e){pt(i,a,r,o,s,"throw",e)}o(void 0)}))}}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){gt(e,t,n[t])}))}return e}function mt(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const bt=({datasource:e,eventBus:t})=>{const n=(0,Ae.useTheme2)(),a=(0,Ae.useStyles2)(dt),{t:r,i18n:i}=te(),o=Qe(),[s,l]=(0,W.useState)(!1),[u,c]=(0,W.useState)(null),[d,p]=(0,W.useState)(null),[h,g]=(0,W.useState)(!1),[f,m]=(0,W.useState)(null),[b,y]=(0,W.useState)({}),{data:v,loading:O,update:S,error:w}=pe({initial:[],query:(0,W.useCallback)((e=>e.api.alerts.getAll()),[]),datasource:e}),{data:E,loading:k}=pe({initial:0,query:(0,W.useCallback)(function(){var e=ht((function*(e){return(yield e.api.webhooks.getAll()).length}));return function(t){return e.apply(this,arguments)}}(),[]),datasource:e}),P=(0,W.useMemo)((()=>[...v.reduce(((e,t)=>(e.get(t.dashboardId)||e.set(t.dashboardId,[]),e.set(t.dashboardId,e.get(t.dashboardId).concat(t)),e)),new Map)].map((([e,t])=>{var n;return{id:e,title:(null===(n=t[0])||void 0===n?void 0:n.dashboardTitle)||r("alertingPanel.panel.alertsList.removedDashboardTitle"),items:t}}))),[v,r]),x=(0,W.useCallback)(function(){var t=ht((function*(t){if(e&&e.api)try{yield e.api.alerts.create(t),yield S(),l(!1),Ce([r("alertingPanel.panel.alertsList.alertCreatedTitle"),r("alertingPanel.panel.alertsList.alertCreatedMessage",{name:t.title})]);const{dashboardId:n}=t;n&&y((e=>mt(ft({},e),{[n]:!0})))}catch(e){}}));return function(e){return t.apply(this,arguments)}}(),[e,r,S]),L=(0,W.useCallback)(function(){var t=ht((function*(t){if(e&&e.api&&u)try{yield e.api.alerts.update(u.id,t),yield S(),c(null),Ce([r("alertingPanel.panel.alertsList.alertUpdatedTitle"),r("alertingPanel.panel.alertsList.alertUpdatedMessage",{name:u.title})])}catch(e){}}));return function(e){return t.apply(this,arguments)}}(),[e,u,r,S]),T=(0,W.useCallback)(function(){var t=ht((function*(t){if(e&&e.api)try{g(!0),yield e.api.alerts.delete(t.id),yield S(),p(null),g(!1),Ce([r("alertingPanel.panel.alertsList.alertDeletedTitle"),r("alertingPanel.panel.alertsList.alertDeletedMessage",{name:t.title})])}catch(e){g(!1)}}));return function(e){return t.apply(this,arguments)}}(),[e,r,S]),D=(0,W.useCallback)(function(){var t=ht((function*(t){if(e&&e.api)try{const n=t.status===ye.ACTIVE?ye.PAUSED:ye.ACTIVE;yield e.api.alerts.updateStatus(t.id,n),yield S(),n===ye.ACTIVE?Ce([r("alertingPanel.panel.alertsList.alertActivatedTitle"),r("alertingPanel.panel.alertsList.alertActivatedMessage",{name:t.title})]):Ce([r("alertingPanel.panel.alertsList.alertPausedTitle"),r("alertingPanel.panel.alertsList.alertPausedMessage",{name:t.title})])}catch(e){}}));return function(e){return t.apply(this,arguments)}}(),[e,r,S]);(0,W.useEffect)((()=>{const e=t.getStream(ae.RefreshEvent).subscribe((()=>{S()}));return()=>{e.unsubscribe()}}),[t,S]);const C=(0,W.useCallback)((e=>{try{return Ze().toString(e,{locale:i.language})}catch(e){return""}}),[i.language]),R=(0,W.useCallback)((e=>{y(P.reduce(((t,{id:n})=>mt(ft({},t),{[n]:e})),{}))}),[P]);return O||k?U().createElement("div",null,U().createElement(Ae.Alert,{severity:"info",title:r("basic.wait"),"data-testid":We},U().createElement(Ae.LoadingPlaceholder,{text:r("messages.loading")}))):w?U().createElement("div",null,U().createElement(Ae.Alert,{severity:"error",title:r("messages.notAvailableTitle")},r("messages.notAvailableMessage"))):U().createElement("div",{className:a.root},U().createElement("div",{className:a.header},U().createElement(Ae.ButtonGroup,null,U().createElement(Ae.Button,{icon:"angle-double-down",variant:"secondary",onClick:()=>R(!0),tooltip:r("alertingPanel.panel.alertsList.expandAllButton"),disabled:0===v.length}),U().createElement(Ae.Button,{icon:"angle-double-up",variant:"secondary",onClick:()=>R(!1),tooltip:r("alertingPanel.panel.alertsList.collapseAllButton"),disabled:0===v.length})),o.alerts.add&&U().createElement(Ae.Button,{icon:"plus-circle",onClick:()=>l(!0),disabled:0===v.length&&0===E},r("alertingPanel.panel.alertsList.addButton"))),0===P.length?U().createElement(Ae.Alert,{title:r("alertingPanel.panel.alertsList.noItemsTitle"),severity:"info"},r(0===E?"alertingPanel.panel.alertsList.noWebhooksMessage":"alertingPanel.panel.alertsList.noItemsMessage")):U().createElement(U().Fragment,null,P.map((({id:e,title:t,items:i})=>U().createElement(Ae.Collapse,{label:`${t} (${i.length})`,key:e,collapsible:!0,isOpen:b[e],onToggle:t=>y(mt(ft({},b),{[e]:t}))},i.map((e=>{const t=C(e.schedule),i=[null===e.panelTitle?r("alertingPanel.panel.alertsList.removedPanelTitle"):e.panelTitle,r("alertingPanel.panel.alertsList.schedule",{schedule:t.toLowerCase()})],s=[r(`alertingPanel.panel.alertsList.status.${e.status}`)];return e.isTargetExists||s.push(r("alertingPanel.panel.alertsList.targetStatus.invalid")),e.state===we.SCHEDULED?e.status===ye.ACTIVE&&s.push(r("alert.state.scheduled")):s.push(r(`alert.state.${e.state}`)),U().createElement(Ae.Card,{key:e.id,onClick:()=>{o.alerts.view&&m(e)}},U().createElement(Ae.Card.Heading,null,e.title),U().createElement(Ae.Card.Meta,null,i),U().createElement(Ae.Card.Tags,null,U().createElement(Ae.TagList,{tags:s})),U().createElement(Ae.Card.Description,null,U().createElement("div",null,e.lastTriggered&&U().createElement(U().Fragment,null,r("alertingPanel.panel.alertsList.lastTriggeredDate",{date:new Date(e.lastTriggered),formatParams:{date:se.dateWithTime}})))),U().createElement(Ae.Card.Figure,null,e.status===ye.ACTIVE?U().createElement(_e,{size:40,fill:n.colors.primary.main}):U().createElement(_e,{size:40,fill:n.colors.border.medium})),U().createElement(Ae.Card.SecondaryActions,{className:a.secondaryActions},o.alerts.view&&U().createElement(Ae.IconButton,{key:"info-circle",name:"info-circle",tooltip:r("alertingPanel.panel.alertsList.overviewButton"),onClick:()=>m(e)}),o.alerts.changeStatus&&U().createElement(U().Fragment,null,e.status===ye.ACTIVE?U().createElement(Ae.IconButton,{name:"pause","aria-label":"",tooltip:r("alertingPanel.panel.alertsList.pauseButton"),onClick:()=>D(e)}):U().createElement(Ae.IconButton,{name:"play","aria-label":"",tooltip:r("alertingPanel.panel.alertsList.activateButton"),onClick:()=>D(e)})),o.alerts.edit&&U().createElement(Ae.IconButton,{name:"edit","aria-label":"",tooltip:r("alertingPanel.panel.alertsList.editButton"),onClick:()=>{var t;c({annotations:(t=e).annotations,dashboardId:t.dashboardId,evaluationType:t.evaluationType,id:t.id,panelId:t.panelId,schedule:t.schedule,status:t.status,timeRange:t.timeRange,timeRangeSource:t.timeRangeSource,title:t.title,webhookIds:t.webhookIds,evaluation:t.evaluation})}}),o.alerts.delete&&U().createElement(Ae.IconButton,{name:"trash-alt","aria-label":"",tooltip:r("alertingPanel.panel.alertsList.deleteButton"),onClick:()=>p(e)})))})))))),s&&U().createElement(Ae.Drawer,{title:r("alertingPanel.panel.alertsList.addDrawer.title"),onClose:()=>l(!1),scrollableContent:!0},U().createElement(ct,{datasource:e,onClose:()=>l(!1),onSave:x})),!!u&&U().createElement(Ae.Drawer,{title:r("alertingPanel.panel.alertsList.editDrawer.title"),onClose:()=>c(null),scrollableContent:!0},U().createElement(ct,{datasource:e,onClose:()=>c(null),onSave:L,initial:u})),!!d&&U().createElement(Ae.ConfirmModal,{isOpen:!0,title:r("alertingPanel.panel.alertsList.deleteConfirmModal.title"),body:r("alertingPanel.panel.alertsList.deleteConfirmModal.body",{name:d.title}),confirmText:r(h?"alertingPanel.panel.alertsList.deleteConfirmModal.confirmButtonLoading":"alertingPanel.panel.alertsList.deleteConfirmModal.confirmButton"),onDismiss:()=>p(null),onConfirm:()=>T(d)}),!!f&&U().createElement(Ae.Drawer,{title:r("alertingPanel.panel.alertsList.overviewDrawer.title",{name:f.title}),subtitle:C(f.schedule),onClose:()=>m(null),scrollableContent:!0},U().createElement(at,{datasource:e,onClose:()=>m(null),alert:f})))},yt=e=>({footer:Ie.css`
      gap: ${e.spacing(1)};
      display: flex;
    `});function vt(e,t,n,a,r,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function Ot(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){vt(i,a,r,o,s,"next",e)}function s(e){vt(i,a,r,o,s,"throw",e)}o(void 0)}))}}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),a.forEach((function(t){St(e,t,n[t])}))}return e}function Et(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n.push.apply(n,a)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}const kt=({datasource:e,onSave:t,onClose:n,initial:a})=>{var r;const i=(0,Ae.useStyles2)(yt),{t:o}=te(),[s,l]=(0,W.useState)(a||{id:"",title:"",type:xe.REQUEST,options:{url:""},isDefault:!1}),[u,c]=(0,W.useState)(!1),[d,p]=(0,W.useState)(null),[h,g]=(0,W.useState)(!1),f=(0,W.useCallback)(Ot((function*(){if(!e||!e.api)return;c(!0),p(null);const{useFor:t,useForByDefault:n}=s,a=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(s,["useFor","useForByDefault"]),r=yield e.api.webhooks.test(a);p(r),c(!1)})),[e,s]),m=(0,W.useMemo)((()=>[{value:xe.REQUEST,label:o("alertingPanel.panel.webhookType.request"),icon:"cloud-upload"},{value:xe.CUSTOM,label:o("alertingPanel.panel.webhookType.custom"),icon:"bolt"}]),[o]),b=(0,W.useMemo)((()=>[{value:!0,label:o("alertingPanel.panel.webhookDetails.isDefaultOptions.enabled"),icon:"check-square"},{value:!1,label:o("alertingPanel.panel.webhookDetails.isDefaultOptions.disabled"),icon:"square-shape"}]),[o]),y=[{value:Le.POST,label:Le.POST}],v=(0,W.useMemo)((()=>!(s.title&&s.type)||s.type===xe.REQUEST&&!s.options.url),[s]);return U().createElement(U().Fragment,null,U().createElement(Ae.FieldSet,null,U().createElement(Ae.InlineField,{label:o("alertingPanel.panel.webhookDetails.titleLabel"),grow:!0,labelWidth:14,required:!0},U().createElement(Ae.Input,{onChange:e=>{l(Et(wt({},s),{title:e.currentTarget.value}))},value:s.title})),U().createElement(Ae.InlineField,{label:o("alertingPanel.panel.webhookDetails.typeLabel"),grow:!0,labelWidth:14,required:!0},U().createElement(Ae.RadioButtonGroup,{onChange:e=>{l((t=>e===xe.REQUEST?Et(wt({},t),{type:e,options:{url:""}}):e===xe.CUSTOM?Et(wt({},t),{type:e,options:{}}):t))},value:s.type,options:m})),U().createElement(Ae.InlineField,{label:o("alertingPanel.panel.webhookDetails.defaultLabel"),grow:!0,labelWidth:14,disabled:(null==a?void 0:a.isDefault)&&!!(null==a||null===(r=a.useForByDefault)||void 0===r?void 0:r.length)},U().createElement(Ae.RadioButtonGroup,{onChange:e=>{l(Et(wt({},s),{isDefault:e}))},value:s.isDefault,options:b}))),s.type===xe.REQUEST&&U().createElement(Ae.FieldSet,{label:o("alertingPanel.panel.webhookDetails.requestOptions.label")},U().createElement(Ae.InlineField,{label:o("alertingPanel.panel.webhookDetails.requestOptions.urlLabel"),grow:!0,labelWidth:14,required:!0},U().createElement(Ae.Input,{onChange:e=>{l(Et(wt({},s),{options:Et(wt({},s.options),{url:e.currentTarget.value})}))},value:s.options.url})),U().createElement(Ae.InlineField,{label:o("alertingPanel.panel.webhookDetails.requestOptions.methodLabel"),grow:!0,labelWidth:14},U().createElement(Ae.RadioButtonGroup,{value:Le.POST,options:y}))),!!d&&U().createElement(U().Fragment,null,d.ok?U().createElement(Ae.Alert,{severity:"success",title:o("alertingPanel.panel.webhookDetails.testSuccessTitle")},o("alertingPanel.panel.webhookDetails.testSuccessMessage")):U().createElement(Ae.Alert,{severity:"error",title:o("alertingPanel.panel.webhookDetails.testErrorTitle")},d.message)),u&&U().createElement(Ae.Alert,{severity:"info",title:o("alertingPanel.panel.webhookDetails.testProgressTitle")},o("alertingPanel.panel.webhookDetails.testProgressMessage")),U().createElement("footer",{className:i.footer},U().createElement(Ae.Button,{variant:"secondary",onClick:n},o("alertingPanel.panel.webhookDetails.closeButton")),U().createElement(Ae.Button,{onClick:f,disabled:v||u,icon:"heart-rate",variant:"destructive"},o("alertingPanel.panel.webhookDetails.testButton")),U().createElement(Ae.Button,{onClick:Ot((function*(){g(!0),yield t(s),g(!1)})),disabled:v||h},o("alertingPanel.panel.webhookDetails.saveButton"))))},Pt=e=>({root:Ie.css`
      display: flex;
      flex-direction: column;
      overflow: auto;
      max-height: 100%;
    `,header:Ie.css`
      margin-bottom: ${e.spacing(1)};
    `,secondaryActions:Ie.css`
      justify-content: flex-end;
    `});function xt(e,t,n,a,r,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(a,r)}function Lt(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var i=e.apply(t,n);function o(e){xt(i,a,r,o,s,"next",e)}function s(e){xt(i,a,r,o,s,"throw",e)}o(void 0)}))}}function Tt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const Dt=({datasource:e,eventBus:t})=>{const n=(0,Ae.useTheme2)(),a=(0,Ae.useStyles2)(Pt),{t:r}=te(),i=Qe(),[o,s]=(0,W.useState)(!1),[l,u]=(0,W.useState)(null),[c,d]=(0,W.useState)(null),[p,h]=(0,W.useState)(!1),{data:g,loading:f,update:m,error:b}=pe({datasource:e,query:(0,W.useCallback)((e=>e.api.webhooks.getAll()),[]),initial:[]}),y=(0,W.useCallback)(function(){var t=Lt((function*(t){var{useFor:n,useForByDefault:a}=t,i=Tt(t,["useFor","useForByDefault"]);if(e&&e.api)try{yield e.api.webhooks.create(i),yield m(),s(!1),Ce([r("alertingPanel.panel.webhooksList.webhookCreatedTitle"),r("alertingPanel.panel.webhooksList.webhookCreatedMessage",{name:i.title})])}catch(e){}}));return function(e){return t.apply(this,arguments)}}(),[e,r,m]),v=(0,W.useCallback)(function(){var t=Lt((function*(t){var{useFor:n,useForByDefault:a}=t,i=Tt(t,["useFor","useForByDefault"]);if(e&&e.api&&l)try{yield e.api.webhooks.update(l.id,i),yield m(),u(null),Ce([r("alertingPanel.panel.webhooksList.webhookUpdatedTitle"),r("alertingPanel.panel.webhooksList.webhookUpdatedMessage",{name:l.title})])}catch(e){}}));return function(e){return t.apply(this,arguments)}}(),[e,l,r,m]),O=(0,W.useCallback)(function(){var t=Lt((function*(t){if(e&&e.api)try{h(!0),yield e.api.webhooks.delete(t.id),yield m(),d(null),h(!1),Ce([r("alertingPanel.panel.webhooksList.webhookDeletedTitle"),r("alertingPanel.panel.webhooksList.webhookDeletedMessage",{name:t.title})])}catch(e){h(!1)}}));return function(e){return t.apply(this,arguments)}}(),[e,r,m]),S=(0,W.useCallback)(function(){var t=Lt((function*(t){var{useFor:n,useForByDefault:a}=t,i=Tt(t,["useFor","useForByDefault"]);if(!e||!e.api)return;const o=yield e.api.webhooks.test(i);var s;o.ok?Ce([r("alertingPanel.panel.webhooksList.webhookTestedTitle"),r("alertingPanel.panel.webhooksList.webhookTestedMessage",{name:i.title})]):(s=[r("api.error"),o.message],De.publish({type:le.AppEvents.alertError.name,payload:s}),console.error(s))}));return function(e){return t.apply(this,arguments)}}(),[e,r]);return(0,W.useEffect)((()=>{const e=t.getStream(ae.RefreshEvent).subscribe((()=>{m()}));return()=>{e.unsubscribe()}}),[t,m]),f?U().createElement("div",null,U().createElement(Ae.Alert,{severity:"info",title:r("basic.wait"),"data-testid":Ue},U().createElement(Ae.LoadingPlaceholder,{text:r("messages.loading")}))):b?U().createElement("div",null,U().createElement(Ae.Alert,{severity:"error",title:r("messages.notAvailableTitle")},r("messages.notAvailableMessage"))):U().createElement("div",{className:a.root},i.webhooks.add&&U().createElement("div",{className:a.header},U().createElement(Ae.Button,{icon:"plus-circle",onClick:()=>s(!0)},r("alertingPanel.panel.webhooksList.addButton"))),0===g.length?U().createElement(Ae.Alert,{title:r("alertingPanel.panel.webhooksList.noItemsTitle"),severity:"info"},r("alertingPanel.panel.webhooksList.noItemsMessage")):g.map((e=>{var t,o,s;const l=[r(`alertingPanel.panel.webhookType.${e.type}`)];return e.isDefault&&l.push(r("alertingPanel.panel.webhooksList.isDefault")),U().createElement(Ae.Card,{key:e.id,onClick:()=>{i.webhooks.edit&&u(e)}},U().createElement(Ae.Card.Heading,null,e.title),U().createElement(Ae.Card.Meta,null,e.type===xe.REQUEST&&(null===(t=e.options)||void 0===t?void 0:t.url)),U().createElement(Ae.Card.Tags,null,U().createElement(Ae.TagList,{tags:l})),U().createElement(Ae.Card.Figure,null,U().createElement(Je,{size:40,fill:n.colors.primary.main,fill2:n.colors.border.medium})),U().createElement(Ae.Card.SecondaryActions,{className:a.secondaryActions},i.webhooks.test&&U().createElement(Ae.IconButton,{name:"heart-rate","aria-label":"",tooltip:r("alertingPanel.panel.webhooksList.testButton"),onClick:()=>S(e)}),i.webhooks.edit&&U().createElement(Ae.IconButton,{name:"edit","aria-label":"",tooltip:r("alertingPanel.panel.webhooksList.editButton"),onClick:()=>{u(e)}}),i.webhooks.delete&&U().createElement(Ae.IconButton,{name:"trash-alt","aria-label":"",tooltip:(null===(o=e.useFor)||void 0===o?void 0:o.length)?r("alertingPanel.panel.webhooksList.deleteButtonDisabled"):r("alertingPanel.panel.webhooksList.deleteButton"),onClick:()=>d(e),disabled:!!(null===(s=e.useFor)||void 0===s?void 0:s.length)})))})),o&&U().createElement(Ae.Drawer,{title:r("alertingPanel.panel.webhooksList.addDrawer.title"),onClose:()=>s(!1),scrollableContent:!0},U().createElement(kt,{datasource:e,onClose:()=>s(!1),onSave:y})),!!l&&U().createElement(Ae.Drawer,{title:r("alertingPanel.panel.webhooksList.editDrawer.title"),onClose:()=>u(null),scrollableContent:!0},U().createElement(kt,{datasource:e,onClose:()=>u(null),onSave:v,initial:l})),!!c&&U().createElement(Ae.ConfirmModal,{isOpen:!0,title:r("alertingPanel.panel.webhooksList.deleteConfirmModal.title"),body:r("alertingPanel.panel.webhooksList.deleteConfirmModal.body",{name:c.title}),confirmText:r(p?"alertingPanel.panel.webhooksList.deleteConfirmModal.confirmButtonLoading":"alertingPanel.panel.webhooksList.deleteConfirmModal.confirmButton"),onDismiss:()=>d(null),onConfirm:()=>O(c)}))},Ct=new le.PanelPlugin((({data:e,width:t,height:n,eventBus:a})=>{const r={wrapper:Ie.css`
      position: relative;
      display: flex;
      flex-direction: column;
    `},{t:i}=te(),o=be(e),[s,l]=(0,W.useState)(Re.ALERTS),u=(0,W.useMemo)((()=>Ke((e=>[{label:e("alertingPanel.panel.tabs.alerts"),value:Re.ALERTS,icon:"bell"},{label:e("alertingPanel.panel.tabs.webhooks"),value:Re.WEBHOOKS,icon:"message"}])(i),$e)),[i]);return U().createElement("div",{"data-testid":Be,className:(0,Ie.cx)(r.wrapper,Ie.css`
          width: ${t}px;
          height: ${n}px;
        `)},U().createElement("div",{className:"page-action-bar"},U().createElement(Ae.RadioButtonGroup,{value:s,options:u,onChange:l})),s===Re.ALERTS&&U().createElement(bt,{datasource:o,eventBus:a}),s===Re.WEBHOOKS&&U().createElement(Dt,{datasource:o,eventBus:a}))}))})(),l})()));
//# sourceMappingURL=module.js.map