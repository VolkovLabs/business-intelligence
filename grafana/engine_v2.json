{
  "annotations": [
    {
      "kind": "AnnotationQuery",
      "spec": {
        "builtIn": true,
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts"
      }
    }
  ],
  "cursorSync": "Off",
  "description": "node.js prometheus client basic metrics",
  "editable": true,
  "elements": {
    "panel-13": {
      "kind": "Panel",
      "spec": {
        "data": {
          "kind": "QueryGroup",
          "spec": {
            "queries": [
              {
                "kind": "PanelQuery",
                "spec": {
                  "hidden": false,
                  "query": {
                    "kind": "prometheus",
                    "spec": {
                      "disableTextWrap": false,
                      "editorMode": "code",
                      "expr": "((sum(rate(http_request_duration_seconds_sum{instance=~\"$instance\", app=~\"$app\"}[$__rate_interval])) by (route, method)\n/\nsum(rate(http_request_duration_seconds_count{instance=~\"$instance\", app=~\"$app\"}[$__rate_interval])) by (route, method)) > 0) != Inf",
                      "format": "table",
                      "fullMetaSearch": false,
                      "includeNullMetadata": true,
                      "instant": false,
                      "legendFormat": "{{method}} {{route}}",
                      "range": true,
                      "useBackend": false
                    }
                  },
                  "refId": "A"
                }
              }
            ],
            "queryOptions": {},
            "transformations": [
              {
                "kind": "groupBy",
                "spec": {
                  "id": "groupBy",
                  "options": {
                    "fields": {
                      "Value": {
                        "aggregations": ["mean"],
                        "operation": "aggregate"
                      },
                      "method": {
                        "aggregations": [],
                        "operation": "groupby"
                      },
                      "route": {
                        "aggregations": [],
                        "operation": "groupby"
                      }
                    }
                  }
                }
              },
              {
                "kind": "sortBy",
                "spec": {
                  "id": "sortBy",
                  "options": {
                    "fields": {},
                    "sort": [
                      {
                        "desc": true,
                        "field": "Value (mean)"
                      }
                    ]
                  }
                }
              }
            ]
          }
        },
        "description": "",
        "id": 13,
        "links": [],
        "title": "Business Engine Latency",
        "vizConfig": {
          "kind": "bargauge",
          "spec": {
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "yellow",
                      "value": 1
                    },
                    {
                      "color": "red",
                      "value": 5
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "options": {
              "displayMode": "gradient",
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "maxVizHeight": 300,
              "minVizHeight": 10,
              "minVizWidth": 0,
              "namePlacement": "auto",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": ["first"],
                "fields": "",
                "values": true
              },
              "showUnfilled": true,
              "sizing": "auto",
              "text": {},
              "valueMode": "text"
            },
            "pluginVersion": "12.0.1"
          }
        }
      }
    },
    "panel-17": {
      "kind": "Panel",
      "spec": {
        "data": {
          "kind": "QueryGroup",
          "spec": {
            "queries": [
              {
                "kind": "PanelQuery",
                "spec": {
                  "hidden": false,
                  "query": {
                    "kind": "prometheus",
                    "spec": {
                      "disableTextWrap": false,
                      "editorMode": "code",
                      "expr": "rate(http_all_success_total{app=~\"$app\",instance=~\"$instance\"}[$__rate_interval])",
                      "fullMetaSearch": false,
                      "includeNullMetadata": false,
                      "instant": false,
                      "legendFormat": "{{app}} Success on {{instance}}",
                      "range": true,
                      "useBackend": false
                    }
                  },
                  "refId": "A"
                }
              },
              {
                "kind": "PanelQuery",
                "spec": {
                  "hidden": false,
                  "query": {
                    "kind": "prometheus",
                    "spec": {
                      "disableTextWrap": false,
                      "editorMode": "code",
                      "expr": "rate(http_all_errors_total{app=~\"$app\",instance=~\"$instance\"}[$__rate_interval])",
                      "fullMetaSearch": false,
                      "includeNullMetadata": false,
                      "instant": false,
                      "legendFormat": "{{app}} Errors on {{instance}}",
                      "range": true,
                      "useBackend": false
                    }
                  },
                  "refId": "B"
                }
              }
            ],
            "queryOptions": {},
            "transformations": []
          }
        },
        "description": "",
        "id": 17,
        "links": [],
        "title": "Business Engine API Requests",
        "vizConfig": {
          "kind": "timeseries",
          "spec": {
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisSoftMax": 10,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 50,
                  "gradientMode": "opacity",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "area"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "#EAB839",
                      "value": 10
                    },
                    {
                      "color": "red",
                      "value": 20
                    }
                  ]
                }
              },
              "overrides": []
            },
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.0.1"
          }
        }
      }
    },
    "panel-46": {
      "kind": "Panel",
      "spec": {
        "data": {
          "kind": "QueryGroup",
          "spec": {
            "queries": [
              {
                "kind": "PanelQuery",
                "spec": {
                  "hidden": false,
                  "query": {
                    "kind": "prometheus",
                    "spec": {
                      "editorMode": "code",
                      "expr": "irate(process_cpu_user_seconds_total{instance=~\"$instance\", app=~\"$app\"}[$__rate_interval]) * 100",
                      "format": "time_series",
                      "intervalFactor": 1,
                      "legendFormat": "{{app}} User CPU on {{instance}}",
                      "range": true
                    }
                  },
                  "refId": "A"
                }
              },
              {
                "kind": "PanelQuery",
                "spec": {
                  "hidden": false,
                  "query": {
                    "kind": "prometheus",
                    "spec": {
                      "editorMode": "code",
                      "expr": "irate(process_cpu_system_seconds_total{instance=~\"$instance\", app=~\"$app\"}[$__rate_interval]) * 100",
                      "format": "time_series",
                      "intervalFactor": 1,
                      "legendFormat": "{{app}} Sys CPU on {{instance}}",
                      "range": true
                    }
                  },
                  "refId": "B"
                }
              }
            ],
            "queryOptions": {},
            "transformations": []
          }
        },
        "description": "",
        "id": 46,
        "links": [],
        "title": "CPU Usage",
        "vizConfig": {
          "kind": "timeseries",
          "spec": {
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisSoftMax": 10,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 50,
                  "gradientMode": "opacity",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "area"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "#EAB839",
                      "value": 10
                    },
                    {
                      "color": "red",
                      "value": 20
                    }
                  ]
                },
                "unit": "percent"
              },
              "overrides": []
            },
            "options": {
              "legend": {
                "calcs": ["mean", "lastNotNull", "max", "min"],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Mean",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.0.1"
          }
        }
      }
    },
    "panel-47": {
      "kind": "Panel",
      "spec": {
        "data": {
          "kind": "QueryGroup",
          "spec": {
            "queries": [
              {
                "kind": "PanelQuery",
                "spec": {
                  "hidden": false,
                  "query": {
                    "kind": "prometheus",
                    "spec": {
                      "editorMode": "code",
                      "expr": "process_resident_memory_bytes{instance=~\"$instance\", app=~\"$app\"}",
                      "format": "time_series",
                      "intervalFactor": 1,
                      "legendFormat": "{{app}} Process Memory on {{instance}}",
                      "range": true
                    }
                  },
                  "refId": "A"
                }
              },
              {
                "kind": "PanelQuery",
                "spec": {
                  "hidden": false,
                  "query": {
                    "kind": "prometheus",
                    "spec": {
                      "editorMode": "code",
                      "expr": "nodejs_heap_size_total_bytes{instance=~\"$instance\", app=~\"$app\"}",
                      "format": "time_series",
                      "intervalFactor": 1,
                      "legendFormat": "{{app}} Heap Total on {{instance}}",
                      "range": true
                    }
                  },
                  "refId": "B"
                }
              },
              {
                "kind": "PanelQuery",
                "spec": {
                  "hidden": false,
                  "query": {
                    "kind": "prometheus",
                    "spec": {
                      "editorMode": "code",
                      "expr": "nodejs_heap_size_used_bytes{instance=~\"$instance\", app=~\"$app\"}",
                      "format": "time_series",
                      "intervalFactor": 1,
                      "legendFormat": "{{app}} Heap Used - {{instance}}",
                      "range": true
                    }
                  },
                  "refId": "C"
                }
              },
              {
                "kind": "PanelQuery",
                "spec": {
                  "hidden": false,
                  "query": {
                    "kind": "prometheus",
                    "spec": {
                      "editorMode": "code",
                      "expr": "nodejs_external_memory_bytes{instance=~\"$instance\", app=~\"$app\"}",
                      "format": "time_series",
                      "intervalFactor": 1,
                      "legendFormat": "{{app}} External Memory on {{instance}}",
                      "range": true
                    }
                  },
                  "refId": "D"
                }
              }
            ],
            "queryOptions": {},
            "transformations": []
          }
        },
        "description": "",
        "id": 47,
        "links": [],
        "title": "Memory Usage",
        "vizConfig": {
          "kind": "timeseries",
          "spec": {
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisSoftMax": 200000010,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 50,
                  "gradientMode": "opacity",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "area"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "#EAB839",
                      "value": 200000010
                    },
                    {
                      "color": "red",
                      "value": 400000000.0029
                    }
                  ]
                },
                "unit": "bytes"
              },
              "overrides": []
            },
            "options": {
              "legend": {
                "calcs": ["mean", "lastNotNull", "max", "min"],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Mean",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.0.1"
          }
        }
      }
    },
    "panel-48": {
      "kind": "Panel",
      "spec": {
        "data": {
          "kind": "QueryGroup",
          "spec": {
            "queries": [
              {
                "kind": "PanelQuery",
                "spec": {
                  "hidden": false,
                  "query": {
                    "kind": "prometheus",
                    "spec": {
                      "editorMode": "code",
                      "expr": "nodejs_eventloop_lag_seconds{instance=~\"$instance\", app=~\"$app\"}",
                      "format": "time_series",
                      "intervalFactor": 1,
                      "legendFormat": "{{app}} on {{instance}}",
                      "range": true
                    }
                  },
                  "refId": "A"
                }
              }
            ],
            "queryOptions": {},
            "transformations": []
          }
        },
        "description": "",
        "id": 48,
        "links": [],
        "title": "Event Loop Lag",
        "vizConfig": {
          "kind": "timeseries",
          "spec": {
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisSoftMax": 0.2,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 50,
                  "gradientMode": "opacity",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "area"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "#EAB839",
                      "value": 0.2
                    },
                    {
                      "color": "red",
                      "value": 0.3
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "options": {
              "legend": {
                "calcs": ["mean", "lastNotNull", "max", "min"],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Mean",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.0.1"
          }
        }
      }
    },
    "panel-49": {
      "kind": "Panel",
      "spec": {
        "data": {
          "kind": "QueryGroup",
          "spec": {
            "queries": [
              {
                "kind": "PanelQuery",
                "spec": {
                  "hidden": false,
                  "query": {
                    "kind": "prometheus",
                    "spec": {
                      "editorMode": "code",
                      "expr": "nodejs_active_handles_total{instance=~\"$instance\", app=~\"$app\"}",
                      "format": "time_series",
                      "intervalFactor": 1,
                      "legendFormat": "{{app}} Active Handler on {{instance}}",
                      "range": true
                    }
                  },
                  "refId": "A"
                }
              },
              {
                "kind": "PanelQuery",
                "spec": {
                  "hidden": false,
                  "query": {
                    "kind": "prometheus",
                    "spec": {
                      "editorMode": "code",
                      "expr": "nodejs_active_requests_total{instance=~\"$instance\", app=~\"$app\"}",
                      "format": "time_series",
                      "intervalFactor": 1,
                      "legendFormat": "{{app}} Active Request on {{instance}}",
                      "range": true
                    }
                  },
                  "refId": "B"
                }
              }
            ],
            "queryOptions": {},
            "transformations": []
          }
        },
        "description": "",
        "id": 49,
        "links": [],
        "title": "Active Handlers/Requests Total",
        "vizConfig": {
          "kind": "timeseries",
          "spec": {
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisSoftMax": 20,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 10,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "never",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "area"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "#EAB839",
                      "value": 10
                    },
                    {
                      "color": "red",
                      "value": 20
                    }
                  ]
                },
                "unit": "short"
              },
              "overrides": []
            },
            "options": {
              "legend": {
                "calcs": ["mean", "lastNotNull", "max", "min"],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true,
                "sortBy": "Mean",
                "sortDesc": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.0.1"
          }
        }
      }
    },
    "panel-50": {
      "kind": "Panel",
      "spec": {
        "data": {
          "kind": "QueryGroup",
          "spec": {
            "queries": [
              {
                "kind": "PanelQuery",
                "spec": {
                  "hidden": false,
                  "query": {
                    "kind": "prometheus",
                    "spec": {
                      "disableTextWrap": false,
                      "editorMode": "code",
                      "expr": "alert_count_in_the_execution_queue{app=~\"$app\",instance=~\"$instance\"}",
                      "fullMetaSearch": false,
                      "includeNullMetadata": true,
                      "legendFormat": "{{instance}}",
                      "range": true,
                      "useBackend": false
                    }
                  },
                  "refId": "A"
                }
              }
            ],
            "queryOptions": {},
            "transformations": []
          }
        },
        "description": "",
        "id": 50,
        "links": [],
        "title": "Scheduler Queue",
        "vizConfig": {
          "kind": "timeseries",
          "spec": {
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisSoftMax": 10,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 0,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "none"
                  },
                  "thresholdsStyle": {
                    "mode": "area"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "#EAB839",
                      "value": 10
                    },
                    {
                      "color": "red",
                      "value": 20
                    }
                  ]
                }
              },
              "overrides": []
            },
            "options": {
              "legend": {
                "calcs": ["mean", "lastNotNull", "max", "min"],
                "displayMode": "table",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.0.1"
          }
        }
      }
    },
    "panel-51": {
      "kind": "Panel",
      "spec": {
        "data": {
          "kind": "QueryGroup",
          "spec": {
            "queries": [
              {
                "kind": "PanelQuery",
                "spec": {
                  "hidden": false,
                  "query": {
                    "kind": "prometheus",
                    "spec": {
                      "disableTextWrap": false,
                      "editorMode": "code",
                      "exemplar": false,
                      "expr": "((rate(internal_request_duration_seconds_sum{app=~\"$app\"}[$__rate_interval])\n/\nrate(internal_request_duration_seconds_count{app=~\"$app\"}[$__rate_interval])) > 0) != Inf",
                      "format": "table",
                      "fullMetaSearch": false,
                      "includeNullMetadata": true,
                      "instant": false,
                      "legendFormat": "__auto",
                      "range": true,
                      "useBackend": false
                    }
                  },
                  "refId": "A"
                }
              }
            ],
            "queryOptions": {},
            "transformations": [
              {
                "kind": "groupBy",
                "spec": {
                  "id": "groupBy",
                  "options": {
                    "fields": {
                      "Time": {
                        "aggregations": []
                      },
                      "Value": {
                        "aggregations": ["mean"],
                        "operation": "aggregate"
                      },
                      "Value #A": {
                        "aggregations": ["mean"],
                        "operation": "aggregate"
                      },
                      "Value #B": {
                        "aggregations": [],
                        "operation": "aggregate"
                      },
                      "Value #C": {
                        "aggregations": ["mean"],
                        "operation": "aggregate"
                      },
                      "alert": {
                        "aggregations": [],
                        "operation": "groupby"
                      },
                      "pattern": {
                        "aggregations": [],
                        "operation": "groupby"
                      }
                    }
                  }
                }
              },
              {
                "kind": "organize",
                "spec": {
                  "id": "organize",
                  "options": {
                    "excludeByName": {},
                    "includeByName": {},
                    "indexByName": {
                      "Value #A (mean)": 1,
                      "Value #B (mean)": 3,
                      "Value #C (mean)": 2,
                      "alert": 0
                    },
                    "renameByName": {
                      "Value #A (mean)": "Executions",
                      "Value #B (mean)": "Calculations",
                      "Value #C (mean)": "Create Annotations",
                      "Value (mean)": "Execution time"
                    }
                  }
                }
              }
            ]
          }
        },
        "description": "",
        "id": 51,
        "links": [],
        "title": "Internal Requests Latency",
        "vizConfig": {
          "kind": "barchart",
          "spec": {
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisSoftMax": 10,
                  "fillOpacity": 50,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineWidth": 1,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "thresholdsStyle": {
                    "mode": "area"
                  }
                },
                "mappings": [
                  {
                    "options": {
                      "takePanelScreenshot": {
                        "index": 0,
                        "text": "Panel Screenshot"
                      }
                    },
                    "type": "value"
                  }
                ],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "#EAB839",
                      "value": 6
                    },
                    {
                      "color": "red",
                      "value": 10
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "options": {
              "barRadius": 0.1,
              "barWidth": 0.97,
              "fullHighlight": false,
              "groupWidth": 0.7,
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "orientation": "horizontal",
              "showValue": "auto",
              "stacking": "none",
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              },
              "xField": "alert",
              "xTickLabelRotation": 0,
              "xTickLabelSpacing": 0
            },
            "pluginVersion": "12.0.1"
          }
        }
      }
    },
    "panel-52": {
      "kind": "Panel",
      "spec": {
        "data": {
          "kind": "QueryGroup",
          "spec": {
            "queries": [
              {
                "kind": "PanelQuery",
                "spec": {
                  "hidden": false,
                  "query": {
                    "kind": "prometheus",
                    "spec": {
                      "disableTextWrap": false,
                      "editorMode": "code",
                      "exemplar": false,
                      "expr": "rate(grafana_http_request_duration_seconds_count{app=~\"$app\",instance=~\"$instance\"}[$__rate_interval])",
                      "format": "time_series",
                      "fullMetaSearch": false,
                      "includeNullMetadata": false,
                      "instant": false,
                      "legendFormat": "{{app}} {{method}} {{route}} [{{code}}] on {{instance}}",
                      "range": true,
                      "useBackend": false
                    }
                  },
                  "refId": "A"
                }
              }
            ],
            "queryOptions": {},
            "transformations": []
          }
        },
        "description": "",
        "id": 52,
        "links": [],
        "title": "Grafana API Requests",
        "vizConfig": {
          "kind": "timeseries",
          "spec": {
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisSoftMax": 10,
                  "barAlignment": 0,
                  "barWidthFactor": 0.6,
                  "drawStyle": "line",
                  "fillOpacity": 50,
                  "gradientMode": "opacity",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "insertNulls": false,
                  "lineInterpolation": "linear",
                  "lineWidth": 1,
                  "pointSize": 5,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "showPoints": "auto",
                  "spanNulls": false,
                  "stacking": {
                    "group": "A",
                    "mode": "normal"
                  },
                  "thresholdsStyle": {
                    "mode": "area"
                  }
                },
                "mappings": [],
                "min": 0,
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "#EAB839",
                      "value": 10
                    },
                    {
                      "color": "red",
                      "value": 20
                    }
                  ]
                }
              },
              "overrides": []
            },
            "options": {
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": true
              },
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              }
            },
            "pluginVersion": "12.0.1"
          }
        }
      }
    },
    "panel-53": {
      "kind": "Panel",
      "spec": {
        "data": {
          "kind": "QueryGroup",
          "spec": {
            "queries": [
              {
                "kind": "PanelQuery",
                "spec": {
                  "hidden": false,
                  "query": {
                    "kind": "prometheus",
                    "spec": {
                      "disableTextWrap": false,
                      "editorMode": "code",
                      "exemplar": false,
                      "expr": "((sum(rate(grafana_http_request_duration_seconds_sum{instance=~\"$instance\", app=~\"$app\"}[$__rate_interval])) by (route, method)\n/\nsum(rate(grafana_http_request_duration_seconds_count{instance=~\"$instance\", app=~\"$app\"}[$__rate_interval])) by (route, method)) > 0 ) != Inf",
                      "format": "table",
                      "fullMetaSearch": false,
                      "includeNullMetadata": true,
                      "instant": false,
                      "legendFormat": "{{method}} {{route}}",
                      "range": true,
                      "useBackend": false
                    }
                  },
                  "refId": "A"
                }
              }
            ],
            "queryOptions": {},
            "transformations": [
              {
                "kind": "groupBy",
                "spec": {
                  "id": "groupBy",
                  "options": {
                    "fields": {
                      "Metric": {
                        "aggregations": [],
                        "operation": "groupby"
                      },
                      "Value": {
                        "aggregations": ["mean"],
                        "operation": "aggregate"
                      },
                      "method": {
                        "aggregations": [],
                        "operation": "groupby"
                      },
                      "route": {
                        "aggregations": [],
                        "operation": "groupby"
                      }
                    }
                  }
                }
              },
              {
                "kind": "sortBy",
                "spec": {
                  "id": "sortBy",
                  "options": {
                    "fields": {},
                    "sort": [
                      {
                        "desc": true,
                        "field": "Value (mean)"
                      }
                    ]
                  }
                }
              }
            ]
          }
        },
        "description": "",
        "id": 53,
        "links": [],
        "title": "Grafana Latency",
        "vizConfig": {
          "kind": "bargauge",
          "spec": {
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "thresholds"
                },
                "mappings": [],
                "min": 0,
                "noValue": "0",
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "yellow",
                      "value": 1
                    },
                    {
                      "color": "red",
                      "value": 5
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "options": {
              "displayMode": "gradient",
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "maxVizHeight": 300,
              "minVizHeight": 10,
              "minVizWidth": 0,
              "namePlacement": "top",
              "orientation": "horizontal",
              "reduceOptions": {
                "calcs": [],
                "fields": "",
                "values": true
              },
              "showUnfilled": true,
              "sizing": "auto",
              "valueMode": "color"
            },
            "pluginVersion": "12.0.1"
          }
        }
      }
    },
    "panel-54": {
      "kind": "Panel",
      "spec": {
        "data": {
          "kind": "QueryGroup",
          "spec": {
            "queries": [
              {
                "kind": "PanelQuery",
                "spec": {
                  "hidden": false,
                  "query": {
                    "kind": "prometheus",
                    "spec": {
                      "disableTextWrap": false,
                      "editorMode": "code",
                      "exemplar": false,
                      "expr": "max (alert_execution_duration_seconds_count{alert=~\"$alert\", app=~\"$app\"}) by(state, alert)",
                      "format": "time_series",
                      "fullMetaSearch": false,
                      "includeNullMetadata": false,
                      "instant": false,
                      "legendFormat": "__auto",
                      "range": true,
                      "useBackend": false
                    }
                  },
                  "refId": "A"
                }
              }
            ],
            "queryOptions": {},
            "transformations": [
              {
                "kind": "reduce",
                "spec": {
                  "id": "reduce",
                  "options": {
                    "includeTimeField": false,
                    "labelsToFields": true,
                    "mode": "reduceFields",
                    "reducers": ["max"]
                  }
                }
              },
              {
                "kind": "labelsToFields",
                "spec": {
                  "id": "labelsToFields",
                  "options": {
                    "mode": "columns",
                    "valueLabel": "state"
                  }
                }
              },
              {
                "kind": "merge",
                "spec": {
                  "id": "merge",
                  "options": {}
                }
              }
            ]
          }
        },
        "description": "",
        "id": 54,
        "links": [],
        "title": "Alert Results",
        "vizConfig": {
          "kind": "barchart",
          "spec": {
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "fillOpacity": 80,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineWidth": 1,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "thresholdsStyle": {
                    "mode": "off"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "red",
                      "value": 80
                    }
                  ]
                }
              },
              "overrides": [
                {
                  "matcher": {
                    "id": "byName",
                    "options": "alerting"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "red",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "error"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "orange",
                        "mode": "fixed"
                      }
                    }
                  ]
                },
                {
                  "matcher": {
                    "id": "byName",
                    "options": "ok"
                  },
                  "properties": [
                    {
                      "id": "color",
                      "value": {
                        "fixedColor": "green",
                        "mode": "fixed"
                      }
                    }
                  ]
                }
              ]
            },
            "options": {
              "barRadius": 0,
              "barWidth": 0.97,
              "fullHighlight": false,
              "groupWidth": 0.7,
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "orientation": "horizontal",
              "showValue": "auto",
              "stacking": "normal",
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              },
              "xTickLabelRotation": 0,
              "xTickLabelSpacing": 100
            },
            "pluginVersion": "12.0.1"
          }
        }
      }
    },
    "panel-55": {
      "kind": "Panel",
      "spec": {
        "data": {
          "kind": "QueryGroup",
          "spec": {
            "queries": [
              {
                "kind": "PanelQuery",
                "spec": {
                  "hidden": false,
                  "query": {
                    "kind": "prometheus",
                    "spec": {
                      "disableTextWrap": false,
                      "editorMode": "code",
                      "exemplar": false,
                      "expr": "((rate(alert_execution_duration_seconds_sum{instance=~\"$instance\", app=~\"$app\", alert=~\"$alert\"}[$__rate_interval])\n/\nrate(alert_execution_duration_seconds_count{instance=~\"$instance\", app=~\"$app\", alert=~\"$alert\"}[$__rate_interval])) > 0) != Inf",
                      "format": "table",
                      "fullMetaSearch": false,
                      "includeNullMetadata": true,
                      "instant": false,
                      "legendFormat": "__auto",
                      "range": true,
                      "useBackend": false
                    }
                  },
                  "refId": "A"
                }
              }
            ],
            "queryOptions": {},
            "transformations": [
              {
                "kind": "groupBy",
                "spec": {
                  "id": "groupBy",
                  "options": {
                    "fields": {
                      "Time": {
                        "aggregations": []
                      },
                      "Value": {
                        "aggregations": ["mean"],
                        "operation": "aggregate"
                      },
                      "Value #A": {
                        "aggregations": ["mean"],
                        "operation": "aggregate"
                      },
                      "Value #B": {
                        "aggregations": [],
                        "operation": "aggregate"
                      },
                      "Value #C": {
                        "aggregations": ["mean"],
                        "operation": "aggregate"
                      },
                      "alert": {
                        "aggregations": [],
                        "operation": "groupby"
                      }
                    }
                  }
                }
              },
              {
                "kind": "organize",
                "spec": {
                  "id": "organize",
                  "options": {
                    "excludeByName": {},
                    "includeByName": {},
                    "indexByName": {
                      "Value #A (mean)": 1,
                      "Value #B (mean)": 3,
                      "Value #C (mean)": 2,
                      "alert": 0
                    },
                    "renameByName": {
                      "Value #A (mean)": "Executions",
                      "Value #B (mean)": "Calculations",
                      "Value #C (mean)": "Create Annotations",
                      "Value (mean)": "Execution time"
                    }
                  }
                }
              },
              {
                "kind": "sortBy",
                "spec": {
                  "id": "sortBy",
                  "options": {
                    "fields": {},
                    "sort": [
                      {
                        "desc": false,
                        "field": "alert"
                      }
                    ]
                  }
                }
              }
            ]
          }
        },
        "description": "",
        "id": 55,
        "links": [],
        "title": "Alert Latency",
        "vizConfig": {
          "kind": "barchart",
          "spec": {
            "fieldConfig": {
              "defaults": {
                "color": {
                  "mode": "palette-classic"
                },
                "custom": {
                  "axisBorderShow": false,
                  "axisCenteredZero": false,
                  "axisColorMode": "text",
                  "axisLabel": "",
                  "axisPlacement": "auto",
                  "axisSoftMax": 30,
                  "fillOpacity": 50,
                  "gradientMode": "none",
                  "hideFrom": {
                    "legend": false,
                    "tooltip": false,
                    "viz": false
                  },
                  "lineWidth": 1,
                  "scaleDistribution": {
                    "type": "linear"
                  },
                  "thresholdsStyle": {
                    "mode": "area"
                  }
                },
                "mappings": [],
                "thresholds": {
                  "mode": "absolute",
                  "steps": [
                    {
                      "color": "green"
                    },
                    {
                      "color": "#EAB839",
                      "value": 1.5
                    },
                    {
                      "color": "red",
                      "value": 5
                    }
                  ]
                },
                "unit": "s"
              },
              "overrides": []
            },
            "options": {
              "barRadius": 0.1,
              "barWidth": 0.97,
              "fullHighlight": false,
              "groupWidth": 0.7,
              "legend": {
                "calcs": [],
                "displayMode": "list",
                "placement": "bottom",
                "showLegend": false
              },
              "orientation": "horizontal",
              "showValue": "auto",
              "stacking": "none",
              "tooltip": {
                "hideZeros": false,
                "mode": "multi",
                "sort": "desc"
              },
              "xField": "alert",
              "xTickLabelRotation": 0,
              "xTickLabelSpacing": 0
            },
            "pluginVersion": "12.0.1"
          }
        }
      }
    }
  },
  "layout": {
    "kind": "TabsLayout",
    "spec": {
      "tabs": [
        {
          "kind": "TabsLayoutTab",
          "spec": {
            "layout": {
              "kind": "RowsLayout",
              "spec": {
                "rows": [
                  {
                    "kind": "RowsLayoutRow",
                    "spec": {
                      "collapse": false,
                      "hideHeader": true,
                      "layout": {
                        "kind": "AutoGridLayout",
                        "spec": {
                          "columnWidthMode": "standard",
                          "items": [
                            {
                              "kind": "AutoGridLayoutItem",
                              "spec": {
                                "element": {
                                  "kind": "ElementReference",
                                  "name": "panel-54"
                                }
                              }
                            },
                            {
                              "kind": "AutoGridLayoutItem",
                              "spec": {
                                "element": {
                                  "kind": "ElementReference",
                                  "name": "panel-55"
                                }
                              }
                            }
                          ],
                          "maxColumnCount": 2,
                          "rowHeightMode": "tall"
                        }
                      },
                      "title": "Alerting"
                    }
                  },
                  {
                    "kind": "RowsLayoutRow",
                    "spec": {
                      "collapse": false,
                      "fillScreen": false,
                      "hideHeader": false,
                      "layout": {
                        "kind": "AutoGridLayout",
                        "spec": {
                          "columnWidthMode": "standard",
                          "items": [
                            {
                              "kind": "AutoGridLayoutItem",
                              "spec": {
                                "element": {
                                  "kind": "ElementReference",
                                  "name": "panel-17"
                                }
                              }
                            },
                            {
                              "kind": "AutoGridLayoutItem",
                              "spec": {
                                "element": {
                                  "kind": "ElementReference",
                                  "name": "panel-13"
                                }
                              }
                            }
                          ],
                          "maxColumnCount": 3,
                          "rowHeightMode": "standard"
                        }
                      },
                      "title": "Business Engine"
                    }
                  },
                  {
                    "kind": "RowsLayoutRow",
                    "spec": {
                      "collapse": false,
                      "layout": {
                        "kind": "AutoGridLayout",
                        "spec": {
                          "columnWidthMode": "standard",
                          "items": [
                            {
                              "kind": "AutoGridLayoutItem",
                              "spec": {
                                "element": {
                                  "kind": "ElementReference",
                                  "name": "panel-52"
                                }
                              }
                            },
                            {
                              "kind": "AutoGridLayoutItem",
                              "spec": {
                                "element": {
                                  "kind": "ElementReference",
                                  "name": "panel-53"
                                }
                              }
                            }
                          ],
                          "maxColumnCount": 2,
                          "rowHeightMode": "standard"
                        }
                      },
                      "title": "Grafana"
                    }
                  },
                  {
                    "kind": "RowsLayoutRow",
                    "spec": {
                      "collapse": false,
                      "layout": {
                        "kind": "AutoGridLayout",
                        "spec": {
                          "columnWidthMode": "standard",
                          "items": [
                            {
                              "kind": "AutoGridLayoutItem",
                              "spec": {
                                "element": {
                                  "kind": "ElementReference",
                                  "name": "panel-50"
                                }
                              }
                            },
                            {
                              "kind": "AutoGridLayoutItem",
                              "spec": {
                                "element": {
                                  "kind": "ElementReference",
                                  "name": "panel-51"
                                }
                              }
                            }
                          ],
                          "maxColumnCount": 2,
                          "rowHeightMode": "standard"
                        }
                      },
                      "title": "Microservices"
                    }
                  }
                ]
              }
            },
            "title": "Business Intelligence"
          }
        },
        {
          "kind": "TabsLayoutTab",
          "spec": {
            "layout": {
              "kind": "AutoGridLayout",
              "spec": {
                "columnWidthMode": "standard",
                "fillScreen": true,
                "items": [
                  {
                    "kind": "AutoGridLayoutItem",
                    "spec": {
                      "element": {
                        "kind": "ElementReference",
                        "name": "panel-46"
                      }
                    }
                  },
                  {
                    "kind": "AutoGridLayoutItem",
                    "spec": {
                      "element": {
                        "kind": "ElementReference",
                        "name": "panel-48"
                      }
                    }
                  },
                  {
                    "kind": "AutoGridLayoutItem",
                    "spec": {
                      "element": {
                        "kind": "ElementReference",
                        "name": "panel-47"
                      }
                    }
                  },
                  {
                    "kind": "AutoGridLayoutItem",
                    "spec": {
                      "element": {
                        "kind": "ElementReference",
                        "name": "panel-49"
                      }
                    }
                  }
                ],
                "maxColumnCount": 2,
                "rowHeightMode": "tall"
              }
            },
            "title": "Performance"
          }
        }
      ]
    }
  },
  "links": [],
  "liveNow": false,
  "preload": false,
  "tags": [],
  "timeSettings": {
    "autoRefresh": "10s",
    "autoRefreshIntervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "fiscalYearStartMonth": 0,
    "from": "now-1h",
    "hideTimepicker": false,
    "timezone": "",
    "to": "now"
  },
  "title": "Business Engine",
  "variables": [
    {
      "kind": "QueryVariable",
      "spec": {
        "current": {
          "text": "",
          "value": ""
        },
        "definition": "label_values(nodejs_version_info, instance)",
        "hide": "dontHide",
        "includeAll": true,
        "label": "instance",
        "multi": true,
        "name": "instance",
        "options": [],
        "query": {
          "kind": "prometheus",
          "spec": {
            "__legacyStringValue": "label_values(nodejs_version_info, instance)"
          }
        },
        "refresh": "onDashboardLoad",
        "regex": "",
        "skipUrlSync": false,
        "sort": "alphabeticalAsc"
      }
    },
    {
      "kind": "QueryVariable",
      "spec": {
        "current": {
          "text": "",
          "value": ""
        },
        "definition": "label_values(app)",
        "hide": "dontHide",
        "includeAll": true,
        "label": "App",
        "multi": true,
        "name": "app",
        "options": [],
        "query": {
          "kind": "prometheus",
          "spec": {
            "qryType": 1,
            "query": "label_values(app)",
            "refId": "PrometheusVariableQueryEditor-VariableQuery"
          }
        },
        "refresh": "onDashboardLoad",
        "regex": "",
        "skipUrlSync": false,
        "sort": "disabled"
      }
    },
    {
      "kind": "QueryVariable",
      "spec": {
        "current": {
          "text": "",
          "value": ""
        },
        "definition": "label_values(alert_execution_duration_seconds_sum,alert)",
        "hide": "dontHide",
        "includeAll": true,
        "label": "Alert",
        "multi": false,
        "name": "alert",
        "options": [],
        "query": {
          "kind": "prometheus",
          "spec": {
            "query": "label_values(alert_execution_duration_seconds_sum,alert)",
            "refId": "PrometheusVariableQueryEditor-VariableQuery"
          }
        },
        "refresh": "onDashboardLoad",
        "regex": "",
        "skipUrlSync": false,
        "sort": "disabled"
      }
    }
  ]
}
